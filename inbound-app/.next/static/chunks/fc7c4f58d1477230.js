(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{543901:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({getWebhooks:()=>r});var a=e.i(286714),r=(0,a.createServerReference)("0033509ad366aa6a87e952e2313e6ac9178e219542",a.callServer,void 0,a.findSourceMapURL,"getWebhooks")},394825:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({useWebhooksQuery:()=>s});var a=e.i(645643),r=e.i(543901);let s=()=>(0,a.useQuery)({queryKey:["webhooks"],queryFn:async()=>{let e=await (0,r.getWebhooks)();if(!e.success)throw Error(e.error);return e.webhooks},staleTime:3e5,gcTime:6e5})}},104065:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({createWebhook:()=>r});var a=e.i(286714),r=(0,a.createServerReference)("40ac5c1f5a73f51e037883eba8504686a1e492c7ab",a.callServer,void 0,a.findSourceMapURL,"createWebhook")},448872:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({useCreateWebhookMutation:()=>s});var a=e.i(659544),r=e.i(628662),i=e.i(520860),l=e.i(104065);let s=()=>{let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let s=await (0,l.createWebhook)(e);if(!s.success)throw Error(s.error);return s.webhook},onSuccess:s=>{(0,i.track)("Webhook Created",{webhookName:s.name,webhookId:s.id,webhookUrl:s.url}),e.invalidateQueries({queryKey:["webhooks"]}),e.setQueryData(["webhooks"],e=>e?[...e,s]:[s])},onError:e=>{console.error("Error creating webhook:",e)}})}}},842138:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({updateWebhook:()=>r});var a=e.i(286714),r=(0,a.createServerReference)("6059f1634f6dfc74054b84ae414c11596cceeb4c6e",a.callServer,void 0,a.findSourceMapURL,"updateWebhook")},121208:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({useUpdateWebhookMutation:()=>s});var a=e.i(659544),r=e.i(628662),i=e.i(842138);let s=()=>{let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async({id:e,data:s})=>{let t=await (0,i.updateWebhook)(e,s);if(!t.success)throw Error(t.error);return t.webhook},onMutate:async({id:s,data:t})=>{await e.cancelQueries({queryKey:["webhooks"]});let a=e.getQueryData(["webhooks"]);return e.setQueryData(["webhooks"],e=>e?e.map(e=>e.id===s?{...e,...t,updatedAt:new Date}:e):e),{previousWebhooks:a}},onError:(s,t,a)=>{a?.previousWebhooks&&e.setQueryData(["webhooks"],a.previousWebhooks)},onSettled:()=>{e.invalidateQueries({queryKey:["webhooks"]})}})}}},95561:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({deleteWebhook:()=>r});var a=e.i(286714),r=(0,a.createServerReference)("40678defcdd6d1be0653983f7df2baf1cbbfbc5edc",a.callServer,void 0,a.findSourceMapURL,"deleteWebhook")},14258:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({useDeleteWebhookMutation:()=>s});var a=e.i(659544),r=e.i(628662),i=e.i(520860),l=e.i(95561);let s=()=>{let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let s=await (0,l.deleteWebhook)(e);if(!s.success)throw Error(s.error);return(0,i.track)("Webhook Deleted",{webhookId:e}),s},onMutate:async s=>{await e.cancelQueries({queryKey:["webhooks"]});let t=e.getQueryData(["webhooks"]);return e.setQueryData(["webhooks"],e=>e?e.filter(e=>e.id!==s):e),{previousWebhooks:t}},onError:(s,t,a)=>{a?.previousWebhooks&&e.setQueryData(["webhooks"],a.previousWebhooks)},onSettled:()=>{e.invalidateQueries({queryKey:["webhooks"]})}})}}},761380:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({testWebhook:()=>r});var a=e.i(286714),r=(0,a.createServerReference)("400605f8cc72befca4c1d670ad479a8708cca3a3e0",a.callServer,void 0,a.findSourceMapURL,"testWebhook")},879349:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({useTestWebhookMutation:()=>s});var a=e.i(659544),r=e.i(628662),i=e.i(761380);let s=()=>{let e=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async e=>{let s=await (0,i.testWebhook)(e);if(!s.success)throw Error(s.error);return s},onSuccess:()=>{e.invalidateQueries({queryKey:["webhooks"]})},onError:e=>{console.error("Error testing webhook:",e)}})}}},114639:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({}),e.i(394825),e.i(448872),e.i(121208),e.i(14258),e.i(879349)},412600:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({}),e.i(394825),e.i(448872),e.i(121208),e.i(14258),e.i(879349),e.i(114639)},913625:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({CreateWebhookDialog:()=>g});var a=e.i(731636),r=e.i(838653);e.i(412600);var i=e.i(448872),l=e.i(611206),n=e.i(834953),o=e.i(330790),d=e.i(268628),c=e.i(706650),m=e.i(210339),u=e.i(280783),h=e.i(902273),x=e.i(242148),p=e.i(55496);function g({open:e,onOpenChange:s}){let[t,g]=(0,r.useState)({name:"",url:"",description:"",timeout:30,retryAttempts:3,headers:{}}),[v,j]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[y,N]=(0,r.useState)({}),w=(0,i.useCreateWebhookMutation)();(0,r.useEffect)(()=>{let s=e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),!w.isPending&&k()&&C(e))};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,w.isPending,t]);let k=()=>{let e={};if(t.name.trim()||(e.name="Name is required"),t.url.trim())try{new URL(t.url)}catch{e.url="Please enter a valid URL"}else e.url="URL is required";return t.timeout&&(t.timeout<1||t.timeout>300)&&(e.timeout="Timeout must be between 1 and 300 seconds"),t.retryAttempts&&(t.retryAttempts<0||t.retryAttempts>10)&&(e.retryAttempts="Retry attempts must be between 0 and 10"),N(e),0===Object.keys(e).length},C=async e=>{if(e.preventDefault(),k())try{await w.mutateAsync(t),p.toast.success("Webhook created successfully!"),D()}catch(e){p.toast.error(e instanceof Error?e.message:"Failed to create webhook")}},D=()=>{g({name:"",url:"",description:"",timeout:30,retryAttempts:3,headers:{}}),j(""),f(""),N({}),s(!1)},W=()=>{v.trim()&&b.trim()&&(g(e=>({...e,headers:{...e.headers,[v.trim()]:b.trim()}})),j(""),f(""))},A=e=>{g(s=>{let t={...s.headers};return delete t[e],{...s,headers:t}})};return(0,a.jsx)(l.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsx)(l.DialogHeader,{children:(0,a.jsxs)(l.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-100",children:(0,a.jsx)(u.default,{width:"16",height:"16",className:"text-purple-600"})}),"Create New Webhook"]})}),(0,a.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"name",children:"Name *"}),(0,a.jsx)(o.Input,{id:"name",value:t.name,onChange:e=>g(s=>({...s,name:e.target.value})),placeholder:"Production Webhook",className:y.name?"border-red-500":""}),y.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"url",children:"URL *"}),(0,a.jsx)(o.Input,{id:"url",type:"url",value:t.url,onChange:e=>g(s=>({...s,url:e.target.value})),placeholder:"https://your-app.com/webhooks/inbound",className:y.url?"border-red-500":""}),y.url&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.url})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(c.Textarea,{id:"description",value:t.description||"",onChange:e=>g(s=>({...s,description:e.target.value})),placeholder:"Optional description of this webhook's purpose",rows:2})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"timeout",children:"Timeout (seconds)"}),(0,a.jsx)(o.Input,{id:"timeout",type:"number",min:"1",max:"300",value:t.timeout||"",onChange:e=>g(s=>({...s,timeout:parseInt(e.target.value)||30})),className:y.timeout?"border-red-500":""}),y.timeout&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.timeout})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"retryAttempts",children:"Retry Attempts"}),(0,a.jsx)(o.Input,{id:"retryAttempts",type:"number",min:"0",max:"10",value:t.retryAttempts||"",onChange:e=>g(s=>({...s,retryAttempts:parseInt(e.target.value)||3})),className:y.retryAttempts?"border-red-500":""}),y.retryAttempts&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.retryAttempts})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Custom Headers"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.Input,{placeholder:"Header name",value:v,onChange:e=>j(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),W())}),(0,a.jsx)(o.Input,{placeholder:"Header value",value:b,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),W())}),(0,a.jsx)(n.Button,{type:"button",variant:"secondary",size:"sm",onClick:W,disabled:!v.trim()||!b.trim(),children:(0,a.jsx)(x.default,{width:"16",height:"16"})})]}),Object.entries(t.headers||{}).length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(t.headers||{}).map(([e,s])=>(0,a.jsxs)(m.Badge,{variant:"secondary",className:"text-xs",children:[e,": ",s,(0,a.jsx)("button",{type:"button",onClick:()=>A(e),className:"ml-1 hover:text-red-500",children:(0,a.jsx)(h.default,{width:"12",height:"12"})})]},e))})]})]}),(0,a.jsxs)(l.DialogFooter,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to submit"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:D,children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:C,disabled:w.isPending,className:"bg-purple-600 hover:bg-purple-700",children:w.isPending?"Creating...":"Create Webhook"})]})]})]})})}},772207:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({EditWebhookDialog:()=>v});var a=e.i(731636),r=e.i(838653);e.i(412600);var i=e.i(121208),l=e.i(611206),n=e.i(834953),o=e.i(330790),d=e.i(268628),c=e.i(706650),m=e.i(210339),u=e.i(913948),h=e.i(773930),x=e.i(902273),p=e.i(242148),g=e.i(55496);function v({open:e,onOpenChange:s,webhook:t}){let[v,j]=(0,r.useState)({name:"",url:"",description:"",isActive:!0,timeout:30,retryAttempts:3,headers:{}}),[b,f]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[w,k]=(0,r.useState)({}),C=(0,i.useUpdateWebhookMutation)();(0,r.useEffect)(()=>{let s=e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),!C.isPending&&t&&D()&&W(e))};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,C.isPending,t,v]),(0,r.useEffect)(()=>{if(t){let e={};if(t.headers)try{e=JSON.parse(t.headers)}catch(e){console.error("Failed to parse webhook headers:",e)}j({name:t.name,url:t.url,description:t.description||"",isActive:t.isActive??!0,timeout:t.timeout||30,retryAttempts:t.retryAttempts||3,headers:e})}},[t]);let D=()=>{let e={};if(v.name?.trim()||(e.name="Name is required"),v.url?.trim())try{new URL(v.url)}catch{e.url="Please enter a valid URL"}else e.url="URL is required";return v.timeout&&(v.timeout<1||v.timeout>300)&&(e.timeout="Timeout must be between 1 and 300 seconds"),v.retryAttempts&&(v.retryAttempts<0||v.retryAttempts>10)&&(e.retryAttempts="Retry attempts must be between 0 and 10"),k(e),0===Object.keys(e).length},W=async e=>{if(e.preventDefault(),t&&D())try{await C.mutateAsync({id:t.id,data:v}),g.toast.success("Webhook updated successfully!"),A()}catch(e){g.toast.error(e instanceof Error?e.message:"Failed to update webhook")}},A=()=>{f(""),N(""),k({}),s(!1)},S=()=>{b.trim()&&y.trim()&&(j(e=>({...e,headers:{...e.headers,[b.trim()]:y.trim()}})),f(""),N(""))},T=e=>{j(s=>{let t={...s.headers};return delete t[e],{...s,headers:t}})};return t?(0,a.jsx)(l.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsx)(l.DialogHeader,{children:(0,a.jsxs)(l.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100",children:(0,a.jsx)(h.default,{width:"16",height:"16",className:"text-blue-600"})}),"Edit Webhook"]})}),(0,a.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{className:"text-sm font-medium",children:"Status"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Enable or disable this webhook"})]}),(0,a.jsx)(u.Switch,{checked:v.isActive,onCheckedChange:e=>j(s=>({...s,isActive:e}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"name",children:"Name *"}),(0,a.jsx)(o.Input,{id:"name",value:v.name||"",onChange:e=>j(s=>({...s,name:e.target.value})),placeholder:"Production Webhook",className:w.name?"border-red-500":""}),w.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:w.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"url",children:"URL *"}),(0,a.jsx)(o.Input,{id:"url",type:"url",value:v.url||"",onChange:e=>j(s=>({...s,url:e.target.value})),placeholder:"https://your-app.com/webhooks/inbound",className:w.url?"border-red-500":""}),w.url&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:w.url})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"description",children:"Description"}),(0,a.jsx)(c.Textarea,{id:"description",value:v.description||"",onChange:e=>j(s=>({...s,description:e.target.value})),placeholder:"Optional description of this webhook's purpose",rows:2})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"timeout",children:"Timeout (seconds)"}),(0,a.jsx)(o.Input,{id:"timeout",type:"number",min:"1",max:"300",value:v.timeout||"",onChange:e=>j(s=>({...s,timeout:parseInt(e.target.value)||30})),className:w.timeout?"border-red-500":""}),w.timeout&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:w.timeout})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"retryAttempts",children:"Retry Attempts"}),(0,a.jsx)(o.Input,{id:"retryAttempts",type:"number",min:"0",max:"10",value:v.retryAttempts||"",onChange:e=>j(s=>({...s,retryAttempts:parseInt(e.target.value)||3})),className:w.retryAttempts?"border-red-500":""}),w.retryAttempts&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:w.retryAttempts})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Custom Headers"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.Input,{placeholder:"Header name",value:b,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,a.jsx)(o.Input,{placeholder:"Header value",value:y,onChange:e=>N(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),S())}),(0,a.jsx)(n.Button,{type:"button",variant:"secondary",size:"sm",onClick:S,disabled:!b.trim()||!y.trim(),children:(0,a.jsx)(p.default,{width:"16",height:"16"})})]}),Object.entries(v.headers||{}).length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(v.headers||{}).map(([e,s])=>(0,a.jsxs)(m.Badge,{variant:"secondary",className:"text-xs",children:[e,": ",s,(0,a.jsx)("button",{type:"button",onClick:()=>T(e),className:"ml-1 hover:text-red-500",children:(0,a.jsx)(x.default,{width:"12",height:"12"})})]},e))})]})]}),(0,a.jsxs)(l.DialogFooter,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to submit"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:A,children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:W,disabled:C.isPending,className:"bg-blue-600 hover:bg-blue-700",children:C.isPending?"Updating...":"Update Webhook"})]})]})]})}):null}},614580:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({DeleteWebhookDialog:()=>c});var a=e.i(731636),r=e.i(838653);e.i(412600);var i=e.i(14258),l=e.i(611206),n=e.i(834953),o=e.i(70818),d=e.i(55496);function c({open:e,onOpenChange:s,webhook:t}){let c=(0,i.useDeleteWebhookMutation)();(0,r.useEffect)(()=>{let s=e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),!c.isPending&&t&&m())};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,c.isPending,t]);let m=async()=>{if(t)try{await c.mutateAsync(t.id),d.toast.success("Webhook deleted successfully!"),s(!1)}catch(e){d.toast.error(e instanceof Error?e.message:"Failed to delete webhook")}};return t?(0,a.jsx)(l.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(l.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsx)(l.DialogHeader,{children:(0,a.jsxs)(l.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-red-100",children:(0,a.jsx)(o.default,{width:"16",height:"16",className:"text-red-600"})}),"Delete Webhook"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.default,{width:"20",height:"20",className:"text-red-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"This action cannot be undone"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:"Deleting this webhook will permanently remove it and stop all email deliveries to this endpoint."})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"You are about to delete the webhook:"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:t.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600 font-mono",children:t.url}),t.description&&(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:t.description})]})]}),t.totalDeliveries&&t.totalDeliveries>0&&(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,a.jsx)("strong",{children:"Note:"})," This webhook has delivered ",t.totalDeliveries," emails. Make sure you have updated any email addresses that use this webhook."]})}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Type the webhook name ",(0,a.jsx)("strong",{children:t.name})," to confirm deletion:"]}),(0,a.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:t.name,onChange:e=>{}})]}),(0,a.jsxs)(l.DialogFooter,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to delete"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:m,disabled:c.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:c.isPending?"Deleting...":"Delete Webhook"})]})]})]})}):null}},820400:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({TestWebhookDialog:()=>p});var a=e.i(731636),r=e.i(838653);e.i(412600);var i=e.i(879349),l=e.i(611206),n=e.i(834953),o=e.i(210339),d=e.i(103394),c=e.i(561657),m=e.i(902273),u=e.i(799544),h=e.i(70818),x=e.i(55496);function p({open:e,onOpenChange:s,webhook:t}){let[p,g]=(0,r.useState)(null),[v,j]=(0,r.useState)([]),b=(0,i.useTestWebhookMutation)();(0,r.useEffect)(()=>{let s=e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),!b.isPending&&t&&t.isActive&&f())};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,b.isPending,t]);let f=async()=>{if(t)try{let e=await b.mutateAsync(t.id),s={...e,timestamp:new Date};g(s),j(e=>[s,...e.slice(0,4)]),e.success?x.toast.success("Webhook test successful!"):x.toast.error("Webhook test failed")}catch(s){let e={success:!1,error:s instanceof Error?s.message:"Test failed",timestamp:new Date};g(e),j(s=>[e,...s.slice(0,4)]),x.toast.error("Webhook test failed")}},y=e=>e.success?(0,a.jsx)(c.default,{width:"16",height:"16",className:"text-green-600"}):(0,a.jsx)(m.default,{width:"16",height:"16",className:"text-red-600"}),N=e=>e.success?(0,a.jsxs)(o.Badge,{className:"bg-green-500 text-white text-xs",children:["Success ",e.statusCode&&`(${e.statusCode})`]}):(0,a.jsxs)(o.Badge,{className:"bg-red-500 text-white text-xs",children:["Failed ",e.statusCode&&`(${e.statusCode})`]});return t?(0,a.jsx)(l.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(l.DialogContent,{className:"sm:max-w-lg",children:[(0,a.jsx)(l.DialogHeader,{children:(0,a.jsxs)(l.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100",children:(0,a.jsx)(d.default,{width:"16",height:"16",className:"text-blue-600"})}),"Test Webhook"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-mono break-all",children:t.url}),t.description&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:t.description})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(h.default,{width:"20",height:"20",className:"text-blue-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Test Delivery"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"This will send a test payload to your webhook endpoint to verify it's working correctly."})]})]})}),p&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[y(p),"Latest Test Result"]}),N(p)]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Timestamp:"}),(0,a.jsx)("span",{className:"text-gray-900",children:p.timestamp.toLocaleString()})]}),p.statusCode&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status Code:"}),(0,a.jsx)("span",{className:"text-gray-900",children:p.statusCode})]}),p.responseTime&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Response Time:"}),(0,a.jsxs)("span",{className:"text-gray-900",children:[p.responseTime,"ms"]})]}),p.message&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Message:"}),(0,a.jsx)("p",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono",children:p.message})]}),p.error&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Error:"}),(0,a.jsx)("p",{className:"text-red-600 mt-1 p-2 bg-red-50 rounded text-xs",children:p.error})]}),p.responseBody&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Response Body:"}),(0,a.jsx)("pre",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:p.responseBody})]}),p.responseHeaders&&Object.keys(p.responseHeaders).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Response Headers:"}),(0,a.jsx)("pre",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono overflow-x-auto",children:JSON.stringify(p.responseHeaders,null,2)})]}),p.details&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Additional Details:"}),(0,a.jsxs)("div",{className:"mt-1 p-2 bg-gray-50 rounded text-xs",children:[p.details.url&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"URL:"})," ",p.details.url]}),p.details.timeout&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Timeout:"})," ",p.details.timeout,"s"]}),p.details.errorType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Error Type:"})," ",p.details.errorType]}),p.details.statusText&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Status Text:"})," ",p.details.statusText]}),p.details.originalError&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Original Error:"})," ",p.details.originalError]})]})]})]})]}),v.length>1&&(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Tests"}),(0,a.jsx)("div",{className:"space-y-2",children:v.slice(1).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[y(e),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.timestamp.toLocaleTimeString()})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.statusCode&&(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.statusCode}),N(e)]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Test Payload Preview"}),(0,a.jsx)("pre",{className:"text-xs text-gray-600 overflow-x-auto",children:`{
  "event": "webhook_test",
  "timestamp": "${new Date().toISOString()}",
  "webhook_id": "${t.id}",
  "test": true,
  "data": {
    "message": "This is a test webhook delivery from Inbound"
  }
}`})]})]}),(0,a.jsxs)(l.DialogFooter,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to test"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{variant:"secondary",onClick:()=>{g(null),s(!1)},children:"Close"}),(0,a.jsx)(n.Button,{onClick:f,disabled:b.isPending||!t.isActive,className:"bg-blue-600 hover:bg-blue-700",children:b.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.default,{width:"16",height:"16",className:"mr-2 animate-spin"}),"Testing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{width:"16",height:"16",className:"mr-2"}),"Send Test"]})})]})]})]})}):null}},902413:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({}),e.i(913625),e.i(772207),e.i(614580),e.i(820400)},299516:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({}),e.i(913625),e.i(772207),e.i(614580),e.i(820400),e.i(902413)},317851:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({Indicator:()=>y,Progress:()=>u,ProgressIndicator:()=>x,Root:()=>f,createProgressScope:()=>d});var a=e.i(838653),r=e.i(650254),i=e.i(286697),l=e.i(731636),n="Progress",[o,d]=(0,r.createContextScope)(n),[c,m]=o(n),u=(0,a.forwardRef)((e,s)=>{var t,a;let{__scopeProgress:r,value:n=null,max:o,getValueLabel:d=p,...m}=e;(o||0===o)&&!j(o)&&console.error((t=`${o}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=j(o)?o:100;null===n||b(n,u)||console.error((a=`${n}`,`Invalid prop \`value\` of value \`${a}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let h=b(n,u)?n:null,x=v(h)?d(h,u):void 0;return(0,l.jsx)(c,{scope:r,value:h,max:u,children:(0,l.jsx)(i.Primitive.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":v(h)?h:void 0,"aria-valuetext":x,role:"progressbar","data-state":g(h,u),"data-value":h??void 0,"data-max":u,...m,ref:s})})});u.displayName=n;var h="ProgressIndicator",x=(0,a.forwardRef)((e,s)=>{let{__scopeProgress:t,...a}=e,r=m(h,t);return(0,l.jsx)(i.Primitive.div,{"data-state":g(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...a,ref:s})});function p(e,s){return`${Math.round(e/s*100)}%`}function g(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function v(e){return"number"==typeof e}function j(e){return v(e)&&!isNaN(e)&&e>0}function b(e,s){return v(e)&&!isNaN(e)&&e<=s&&e>=0}x.displayName=h;var f=u,y=x},871560:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({Progress:()=>s});var a=e.i(731636),r=e.i(838653),i=e.i(317851),l=e.i(718331);let s=(0,r.forwardRef)(({className:e,value:s,...t},r)=>(0,a.jsx)(i.Root,{ref:r,className:(0,l.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...t,children:(0,a.jsx)(i.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));s.displayName=i.Root.displayName}},336456:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({default:()=>s});var a=e.i(731636);let s=function({fill:e="currentColor",secondaryfill:s,title:t="badge 13",...r}){return s=s||e,(0,a.jsxs)("svg",{height:"18",width:"18",...r,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("title",{children:t}),(0,a.jsxs)("g",{fill:e,children:[(0,a.jsx)("rect",{height:"14",width:"4",fill:e,rx:"1.75",ry:"1.75",x:"12.5",y:"2"}),(0,a.jsx)("rect",{height:"9",width:"4",fill:e,rx:"1.75",ry:"1.75",x:"7",y:"7"}),(0,a.jsx)("rect",{height:"5",width:"4",fill:e,rx:"1.75",ry:"1.75",x:"1.5",y:"11"}),(0,a.jsx)("path",{d:"M2.75,9.5c.192,0,.384-.073,.53-.22l4.72-4.72v.689c0,.414,.336,.75,.75,.75s.75-.336,.75-.75V2.75c0-.414-.336-.75-.75-.75h-2.5c-.414,0-.75,.336-.75,.75s.336,.75,.75,.75h.689L2.22,8.22c-.293,.293-.293,.768,0,1.061,.146,.146,.338,.22,.53,.22Z",fill:s})]})]})}}},142593:e=>{"use strict";var{g:s,__dirname:t}=e;{e.s({default:()=>s});var a=e.i(731636);let s=function({fill:e="currentColor",secondaryfill:s,title:t="badge 13",...r}){return s=s||e,(0,a.jsxs)("svg",{height:"12",width:"12",...r,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("title",{children:t}),(0,a.jsxs)("g",{fill:e,children:[(0,a.jsx)("path",{d:"m11.25,11H.75c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h10.5c.414,0,.75.336.75.75s-.336.75-.75.75Z",fill:s,strokeWidth:"0"}),(0,a.jsx)("path",{d:"m2.75,8.5c-.414,0-.75-.336-.75-.75v-3.5c0-.414.336-.75.75-.75s.75.336.75.75v3.5c0,.414-.336.75-.75.75Z",fill:e,strokeWidth:"0"}),(0,a.jsx)("path",{d:"m9.25,8.5c-.414,0-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75v1.5c0,.414-.336.75-.75.75Z",fill:e,strokeWidth:"0"}),(0,a.jsx)("path",{d:"m6,8.5c-.414,0-.75-.336-.75-.75V1.75c0-.414.336-.75.75-.75s.75.336.75.75v6c0,.414-.336.75-.75.75Z",fill:e,strokeWidth:"0"})]})]})}}},769450:e=>{"use strict";var{g:s,__dirname:t}=e;e.s({default:()=>T});var a=e.i(731636),r=e.i(838653);e.i(412600);var i=e.i(394825),l=e.i(879349);e.i(299516);var n=e.i(913625),o=e.i(772207),d=e.i(614580),c=e.i(820400),m=e.i(921361),u=e.i(210339),h=e.i(834953),x=e.i(871560),p=e.i(561657),g=e.i(902273),v=e.i(242148),j=e.i(274260),b=e.i(280783),f=e.i(336456),y=e.i(70818),N=e.i(656811),w=e.i(103394),k=e.i(773930),C=e.i(142593),D=e.i(896842),W=e.i(976760),A=e.i(602833),S=e.i(937249);function T(){let{data:e=[],isLoading:s,error:t,refetch:T}=(0,i.useWebhooksQuery)(),[E,L]=(0,r.useState)(null),P=(0,l.useTestWebhookMutation)(),[R,B]=(0,r.useState)(null),[I,F]=(0,r.useState)(!1),[M,O]=(0,r.useState)(!1),[U,K]=(0,r.useState)(!1),[Q,H]=(0,r.useState)(!1),q=async e=>{try{await navigator.clipboard.writeText(e),L(e),setTimeout(()=>L(null),2e3)}catch(e){console.error("Failed to copy URL:",e)}},z=e=>{B(e),H(!0)},$=e=>{B(e),O(!0)},Z=e=>{B(e),K(!0)},J=e=>{if(!e.isActive)return(0,a.jsxs)(u.Badge,{className:"bg-gray-400 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,a.jsx)(g.default,{className:"w-3 h-3 mr-1"}),"Disabled"]});{let s=V(e);return 0===(e.totalDeliveries||0)?(0,a.jsxs)(u.Badge,{className:"bg-blue-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,a.jsx)(b.default,{className:"w-3 h-3 mr-1"}),"Ready"]}):s>=95?(0,a.jsxs)(u.Badge,{className:"bg-emerald-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,a.jsx)(p.default,{className:"w-3 h-3 mr-1"}),"Excellent"]}):s>=80?(0,a.jsxs)(u.Badge,{className:"bg-blue-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,a.jsx)(f.default,{className:"w-3 h-3 mr-1"}),"Good"]}):(0,a.jsxs)(u.Badge,{className:"bg-amber-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,a.jsx)(y.default,{className:"w-3 h-3 mr-1"}),"Needs Attention"]})}},V=e=>e.totalDeliveries?Math.round((e.successfulDeliveries||0)/e.totalDeliveries*100):0,Y=e=>{if(!e.isActive)return"#64748b";let s=V(e);return 0===(e.totalDeliveries||0)?"#3b82f6":s>=95?"#10b981":s>=80?"#3b82f6":"#f59e0b"},_=e.length,G=e.filter(e=>e.isActive).length,X=e.reduce((e,s)=>e+(s.totalDeliveries||0),0),ee=e.reduce((e,s)=>e+(s.successfulDeliveries||0),0),es=X>0?Math.round(ee/X*100):0;return s?(0,a.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,a.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Loading webhooks..."})})})}):t?(0,a.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,a.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,a.jsx)(m.Card,{className:"border-destructive/50 bg-destructive/10",children:(0,a.jsx)(m.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,a.jsx)(g.default,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:t.message}),(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>T(),className:"ml-auto text-destructive hover:text-destructive",children:"Try Again"})]})})})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-slate-900 text-white rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-1",children:"Webhook Management"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-300",children:[(0,a.jsxs)("span",{children:[_," webhooks"]}),(0,a.jsxs)("span",{children:[G," active"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.default,{className:"h-3 w-3"}),X," deliveries"]}),X>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.default,{className:"h-3 w-3"}),es,"% success rate"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(h.Button,{variant:"secondary",size:"sm",onClick:()=>T(),disabled:s,className:"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700",children:[(0,a.jsx)(j.default,{className:"h-3 w-3 mr-1"}),"Refresh"]}),(0,a.jsxs)(h.Button,{size:"sm",onClick:()=>F(!0),children:[(0,a.jsx)(v.default,{className:"h-3 w-3 mr-1"}),"Add Webhook"]})]})]}),X>0&&(0,a.jsx)(m.Card,{className:"bg-card border-border rounded-xl mb-6",children:(0,a.jsx)(m.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.default,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Performance Overview:"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[X," total"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[ee," successful"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[X-ee," failed"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[es,"%"]}),(0,a.jsx)("div",{className:"w-16",children:(0,a.jsx)(x.Progress,{value:es,className:"h-1"})})]})]})})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-1 tracking-tight",children:["Active Webhooks (",_,")"]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Manage your webhook endpoints and delivery settings"})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===e.length?(0,a.jsx)(m.Card,{className:"bg-card border-border rounded-xl",children:(0,a.jsx)(m.CardContent,{className:"p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(A.CustomInboundIcon,{Icon:b.default,size:48,backgroundColor:"#8b5cf6",className:"mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured"}),(0,a.jsxs)(h.Button,{variant:"secondary",onClick:()=>F(!0),children:[(0,a.jsx)(v.default,{className:"h-4 w-4 mr-2"}),"Add Your First Webhook"]})]})})}):e.map(e=>(0,a.jsx)(m.Card,{className:"bg-card border-border hover:bg-accent/5 transition-all duration-300 rounded-xl group",children:(0,a.jsx)(m.CardContent,{className:"p-0",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)(A.CustomInboundIcon,{Icon:b.default,size:36,backgroundColor:Y(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-foreground tracking-tight truncate",children:e.name}),(0,a.jsx)(u.Badge,{className:"bg-purple-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:"Webhook"}),J(e)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-mono truncate",children:new URL(e.url).hostname}),(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-all duration-200 p-1 h-auto hover:bg-accent rounded hover:scale-105 active:scale-95",onClick:()=>q(e.url),children:E===e.url?(0,a.jsx)(p.default,{className:"w-3.5 h-3.5 text-emerald-500"}):(0,a.jsx)(D.default,{className:"w-3.5 h-3.5 text-muted-foreground transition-all duration-150 hover:text-foreground"})})]}),e.secret&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-green-600",children:[(0,a.jsx)(N.default,{className:"w-3 h-3"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"Secured"})]}),(e.totalDeliveries||0)>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-muted-foreground",children:[(0,a.jsxs)("span",{className:"text-xs font-medium",children:[V(e),"% success"]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground/70",children:["(",e.totalDeliveries," deliveries)"]})]}),e.description&&(0,a.jsx)("span",{className:"text-muted-foreground text-xs truncate",children:e.description}),(0,a.jsxs)("span",{className:"text-muted-foreground/70 text-xs",children:["Added ",e.createdAt?(0,S.formatDistanceToNow)(new Date(e.createdAt),{addSuffix:!0}):"recently"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>z(e),disabled:P.isPending,title:"Test webhook",children:(0,a.jsx)(w.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})}),(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>$(e),title:"Configure webhook",children:(0,a.jsx)(k.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})}),(0,a.jsx)(h.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>Z(e),title:"Delete webhook",children:(0,a.jsx)(W.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})})]})]})})})},e.id))})]})}),(0,a.jsx)(n.CreateWebhookDialog,{open:I,onOpenChange:F}),(0,a.jsx)(o.EditWebhookDialog,{open:M,onOpenChange:O,webhook:R}),(0,a.jsx)(d.DeleteWebhookDialog,{open:U,onOpenChange:K,webhook:R}),(0,a.jsx)(c.TestWebhookDialog,{open:Q,onOpenChange:H,webhook:R})]})}}}]);

//# sourceMappingURL=04af4ad6a24b43f4.js.map