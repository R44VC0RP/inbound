(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{921361:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({Card:()=>t,CardContent:()=>o,CardDescription:()=>l,CardFooter:()=>d,CardHeader:()=>a,CardTitle:()=>n});var r=e.i(731636),i=e.i(838653),s=e.i(718331);let t=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));t.displayName="Card";let a=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));a.displayName="CardHeader";let n=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let l=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let o=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent";let d=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));d.displayName="CardFooter"}},868226:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({usePrevious:()=>i});var r=e.i(838653);function i(e){let t=(0,r.useRef)({value:e,previous:e});return(0,r.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},70818:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"12",width:"12",...i,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("g",{fill:e,children:(0,r.jsx)("path",{d:"m6,0C2.691,0,0,2.691,0,6s2.691,6,6,6,6-2.691,6-6S9.309,0,6,0Zm-.75,3.5c0-.414.336-.75.75-.75s.75.336.75.75v3c0,.414-.336.75-.75.75s-.75-.336-.75-.75v-3Zm.75,6.25c-.482,0-.875-.393-.875-.875s.393-.875.875-.875.875.393.875.875-.393.875-.875.875Z",fill:e,strokeWidth:"0"})})]})}}},806178:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"18",width:"18",...i,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("g",{fill:e,children:(0,r.jsx)("path",{d:"M9,13.5c-.192,0-.384-.073-.53-.22L2.22,7.03c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l5.72,5.72,5.72-5.72c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061l-6.25,6.25c-.146,.146-.338,.22-.53,.22Z",fill:e})})]})}}},404800:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"18",width:"18",...i,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsxs)("g",{fill:e,children:[(0,r.jsx)("path",{d:"M12.3732 12.3732C12.6661 12.0803 13.1409 12.0803 13.4338 12.3732L16.2803 15.2197C16.5732 15.5126 16.5732 15.9874 16.2803 16.2803C15.9874 16.5732 15.5126 16.5732 15.2197 16.2803L12.3732 13.4338C12.0803 13.1409 12.0803 12.6661 12.3732 12.3732Z",fill:t,fillRule:"evenodd"}),(0,r.jsx)("path",{d:"M1.5 7.25C1.5 4.07439 4.07439 1.5 7.25 1.5C10.4256 1.5 13 4.07439 13 7.25C13 10.4256 10.4256 13 7.25 13C4.07439 13 1.5 10.4256 1.5 7.25ZM7.25 3C4.90281 3 3 4.90281 3 7.25C3 9.59719 4.90281 11.5 7.25 11.5C9.59719 11.5 11.5 9.59719 11.5 7.25C11.5 4.90281 9.59719 3 7.25 3Z",fill:e,fillRule:"evenodd"})]})]})}}},992474:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({Checkbox:()=>b,CheckboxIndicator:()=>M,Indicator:()=>M,Root:()=>b,createCheckboxScope:()=>g,unstable_BubbleInput:()=>k,unstable_CheckboxBubbleInput:()=>k,unstable_CheckboxProvider:()=>p,unstable_CheckboxTrigger:()=>w,unstable_Provider:()=>p,unstable_Trigger:()=>w});var r=e.i(838653),i=e.i(897935),s=e.i(650254),n=e.i(324436),l=e.i(570652),o=e.i(868226),d=e.i(317020),u=e.i(826770),c=e.i(286697),m=e.i(731636),h="Checkbox",[f,g]=(0,s.createContextScope)(h),[v,y]=f(h);function p(e){let{__scopeCheckbox:t,checked:a,children:i,defaultChecked:s,disabled:n,form:o,name:d,onCheckedChange:u,required:c,value:f="on",internal_do_not_use_render:g}=e,[y,p]=(0,l.useControllableState)({prop:a,defaultProp:s??!1,onChange:u,caller:h}),[x,w]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),M=(0,r.useRef)(!1),S=!x||!!o||!!x.closest("form"),k={checked:y,disabled:n,setChecked:p,control:x,setControl:w,name:d,form:o,value:f,hasConsumerStoppedPropagationRef:M,required:c,defaultChecked:!C(s)&&s,isFormControl:S,bubbleInput:b,setBubbleInput:j};return(0,m.jsx)(v,{scope:t,...k,children:"function"==typeof g?g(k):i})}var x="CheckboxTrigger",w=(0,r.forwardRef)(({__scopeCheckbox:e,onKeyDown:t,onClick:a,...s},l)=>{let{control:o,value:d,disabled:u,checked:h,required:f,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:p,isFormControl:w,bubbleInput:b}=y(x,e),j=(0,i.useComposedRefs)(l,g),M=(0,r.useRef)(h);return(0,r.useEffect)(()=>{let e=o?.form;if(e){let t=()=>v(M.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,v]),(0,m.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":f,"data-state":D(h),"data-disabled":u?"":void 0,disabled:u,value:d,...s,ref:j,onKeyDown:(0,n.composeEventHandlers)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(a,e=>{v(e=>!!C(e)||!e),b&&w&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});w.displayName=x;var b=(0,r.forwardRef)((e,t)=>{let{__scopeCheckbox:a,name:r,checked:i,defaultChecked:s,required:n,disabled:l,value:o,onCheckedChange:d,form:u,...c}=e;return(0,m.jsx)(p,{__scopeCheckbox:a,checked:i,defaultChecked:s,disabled:l,required:n,onCheckedChange:d,name:r,form:u,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w,{...c,ref:t,__scopeCheckbox:a}),e&&(0,m.jsx)(k,{__scopeCheckbox:a})]})})});b.displayName=h;var j="CheckboxIndicator",M=(0,r.forwardRef)((e,t)=>{let{__scopeCheckbox:a,forceMount:r,...i}=e,s=y(j,a);return(0,m.jsx)(u.Presence,{present:r||C(s.checked)||!0===s.checked,children:(0,m.jsx)(c.Primitive.span,{"data-state":D(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});M.displayName=j;var S="CheckboxBubbleInput",k=(0,r.forwardRef)(({__scopeCheckbox:e,...t},a)=>{let{control:s,hasConsumerStoppedPropagationRef:n,checked:l,defaultChecked:u,required:h,disabled:f,name:g,value:v,form:p,bubbleInput:x,setBubbleInput:w}=y(S,e),b=(0,i.useComposedRefs)(a,w),j=(0,o.usePrevious)(l),M=(0,d.useSize)(s);(0,r.useEffect)(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!n.current;if(j!==l&&e){let a=new Event("click",{bubbles:t});x.indeterminate=C(l),e.call(x,!C(l)&&l),x.dispatchEvent(a)}},[x,j,l,n]);let k=(0,r.useRef)(!C(l)&&l);return(0,m.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??k.current,required:h,disabled:f,name:g,value:v,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...M,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function D(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=S},401575:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({Checkbox:()=>t});var r=e.i(731636),i=e.i(838653),s=e.i(992474),n=e.i(724350),l=e.i(718331);let t=(0,i.forwardRef)(({className:e,...t},a)=>(0,r.jsx)(s.Root,{ref:a,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,r.jsx)(s.Indicator,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.default,{width:"16",height:"16"})})}));t.displayName=s.Root.displayName}},561657:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"18",width:"18",...i,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("g",{fill:e,children:(0,r.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm3.843,5.708l-4.25,5.5c-.136,.176-.343,.283-.565,.291-.01,0-.019,0-.028,0-.212,0-.415-.09-.558-.248l-2.25-2.5c-.277-.308-.252-.782,.056-1.06,.309-.276,.781-.252,1.06,.056l1.648,1.832,3.701-4.789c.253-.328,.725-.388,1.052-.135,.328,.253,.388,.724,.135,1.052Z",fill:e})})]})}}},520860:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({computeRoute:()=>d,default:()=>f,inject:()=>c,pageview:()=>h,track:()=>m}),e.i(922271);var r=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function i(){return"undefined"!=typeof window}function s(){return"production"}function n(){return(i()?window.vam:s())||"production"}function l(){return"production"===n()}function o(){return"development"===n()}function d(e,t){if(!e||!t)return e;let a=e;try{let e=Object.entries(t);for(let[t,r]of e)if(!Array.isArray(r)){let e=u(r);e.test(a)&&(a=a.replace(e,`/[${t}]`))}for(let[t,r]of e)if(Array.isArray(r)){let e=u(r.join("/"));e.test(a)&&(a=a.replace(e,`/[...${t}]`))}return a}catch(t){return e}}function u(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function c(e={debug:!0}){var t;if(!i())return;!function(e="auto"){if("auto"===e){window.vam=s();return}window.vam=e}(e.mode),r(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let a=e.scriptSrc?e.scriptSrc:o()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${a}"]`))return;let n=document.createElement("script");n.src=a,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),n.dataset.sdkv="1.5.0",e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{let e=o()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${a}. ${e}`)},o()&&!1===e.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}function m(e,t,a){var r,s;if(!i()){let e="[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment";if(l())console.warn(e);else throw Error(e);return}if(!t){null==(r=window.va)||r.call(window,"event",{name:e,options:a});return}try{let r=function(e,t){if(!e)return;let a=e,r=[];for(let[i,s]of Object.entries(e))"object"==typeof s&&null!==s&&(t.strip?a=function(e,{[e]:t,...a}){return a}(i,a):r.push(i));if(r.length>0&&!t.strip)throw Error(`The following properties are not valid: ${r.join(", ")}. Only strings, numbers, booleans, and null are allowed.`);return a}(t,{strip:l()});null==(s=window.va)||s.call(window,"event",{name:e,data:r,options:a})}catch(e){e instanceof Error&&o()&&console.error(e)}}function h({route:e,path:t}){var a;null==(a=window.va)||a.call(window,"pageview",{route:e,path:t})}var f={inject:c,track:m,computeRoute:d}},602833:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({CustomInboundIcon:()=>t,default:()=>a});var r=e.i(731636);let t=({size:e=64,backgroundColor:t="#A50A3E",Icon:a,text:i,iconScale:s=.5,iconColor:n="white",className:l=""})=>{let o=e*s,d=.3*e,u=.4*e;return(0,r.jsx)("div",{className:`inline-flex items-center justify-center ${l}`,style:{width:e,height:e,backgroundColor:t,borderRadius:d,background:`linear-gradient(180deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 100%), ${t}`,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:a?(0,r.jsx)(a,{width:o,height:o,style:{color:n,filter:"drop-shadow(0px 1px 2px rgba(0,0,0,0.1))"}}):i?(0,r.jsx)("span",{style:{fontSize:u,fontWeight:"bold",color:n,textTransform:"uppercase",letterSpacing:"0.5px",textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:i.slice(0,2)}):null})},a=t}},231843:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({domainV2Keys:()=>t,useAddEmailAddressV2Mutation:()=>u,useDeleteDomainV2Mutation:()=>d,useDeleteEmailAddressV2Mutation:()=>c,useDomainDetailsV2Query:()=>l,useDomainVerificationCheckV2:()=>o,useDomainsListV2Query:()=>a,useUpdateDomainCatchAllV2Mutation:()=>h,useUpdateEmailEndpointV2Mutation:()=>m});var r=e.i(645643),i=e.i(659544),s=e.i(628662),n=e.i(520860);let t={all:["v2","domains"],list:e=>[...t.all,"list",e],detail:e=>[...t.all,e],verification:e=>[...t.all,e,"verification"],emailAddresses:e=>[...t.all,e,"email-addresses"]},a=e=>(0,r.useQuery)({queryKey:t.list(e),queryFn:async()=>{let t=new URLSearchParams;e?.limit&&t.set("limit",e.limit.toString()),e?.offset&&t.set("offset",e.offset.toString()),e?.status&&t.set("status",e.status),e?.canReceive&&t.set("canReceive",e.canReceive),e?.check&&t.set("check",e.check);let a=await fetch(`/api/v2/domains?${t}`);if(!a.ok)throw Error((await a.json()).error||`HTTP error! status: ${a.status}`);return a.json()},staleTime:12e4,gcTime:3e5}),l=e=>(0,r.useQuery)({queryKey:t.detail(e),queryFn:async()=>{let t=await fetch(`/api/v2/domains/${e}`);if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:!!e,staleTime:12e4,gcTime:6e5}),o=e=>{let a=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>{let e=await fetch("/api/v2/domains?status=pending&check=true");if(!e.ok)throw Error((await e.json()).error||"Failed to check verification");return e.json()},onSuccess:()=>{a.invalidateQueries({queryKey:t.detail(e)})}})},d=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch(`/api/v2/domains/${e}`,{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete domain");return t.json()},onMutate:async a=>{console.log("🗑️ Starting optimistic domain deletion for:",a),await e.cancelQueries({queryKey:t.all});let r=[],i=e.getQueriesData({queryKey:t.all});for(let[t,s]of(console.log("📊 Found",i.length,"cached domain queries to update"),i))if(s&&Array.isArray(s.data)&&"object"==typeof s.meta&&null!==s.meta){console.log("✅ Updating query with",s.data.length,"domains, totalCount:",s.meta.totalCount),r.push({queryKey:t,data:s});let i={...s,data:s.data.filter(e=>e.id!==a),meta:{...s.meta,totalCount:Math.max((s.meta?.totalCount||0)-1,0)}};e.setQueryData(t,i),console.log("✅ Updated query - new count:",i.data.length,"totalCount:",i.meta.totalCount)}else console.warn("⚠️ Skipping invalid query data:",{hasData:!!s,isDataArray:!!s&&Array.isArray(s.data),hasMeta:!!s&&"object"==typeof s.meta&&null!==s.meta});return console.log("✅ Optimistic update complete - updated",r.length,"queries"),{previousQueriesData:r}},onError:(t,a,r)=>{if(console.error("❌ Domain deletion failed, rolling back optimistic updates:",t.message),r?.previousQueriesData){for(let{queryKey:t,data:a}of(console.log("🔄 Rolling back",r.previousQueriesData.length,"queries"),r.previousQueriesData))e.setQueryData(t,a);console.log("✅ Rollback complete")}},onSuccess:(a,r)=>{e.removeQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.all}),e.invalidateQueries({queryKey:["domains"]}),e.invalidateQueries({queryKey:["domainStats"]})}})},u=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch("/api/v2/email-addresses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to add email address");return t.json()},onSuccess:a=>{(0,n.track)("Email Address Added",{address:a.address,domainId:a.domainId,emailAddressId:a.id}),e.invalidateQueries({queryKey:t.detail(a.domainId)}),e.invalidateQueries({queryKey:t.emailAddresses(a.domainId)})}})},c=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({emailAddressId:e})=>{let t=await fetch(`/api/v2/email-addresses/${e}`,{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete email address");return t.json()},onSuccess:(a,{domainId:r})=>{e.invalidateQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.emailAddresses(r)})}})},m=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({emailAddressId:e,domainId:t,...a})=>{console.log("🚀 Sending update request:",{url:`/api/v2/email-addresses/${e}`,body:a});let r=await fetch(`/api/v2/email-addresses/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw Error((await r.json()).error||"Failed to update endpoint");let i=await r.json();return console.log("📥 Update response:",i),i},onSuccess:(a,{domainId:r})=>{e.invalidateQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.emailAddresses(r)})}})},h=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({domainId:e,...t})=>{let a=await fetch(`/api/v2/domains/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to update catch-all settings");return a.json()},onSuccess:(a,{domainId:r,isCatchAllEnabled:i,catchAllEndpointId:s})=>{(0,n.track)(i?"Catch All Enabled":"Catch All Disabled",{domainId:r,endpointId:s||null}),e.invalidateQueries({queryKey:t.detail(r)})}})}}},291910:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({constructFromSymbol:()=>S,daysInWeek:()=>t,daysInYear:()=>a,maxTime:()=>r,millisecondsInDay:()=>n,millisecondsInHour:()=>o,millisecondsInMinute:()=>l,millisecondsInSecond:()=>d,millisecondsInWeek:()=>s,minTime:()=>i,minutesInDay:()=>m,minutesInHour:()=>h,minutesInMonth:()=>c,minutesInYear:()=>u,monthsInQuarter:()=>f,monthsInYear:()=>g,quartersInYear:()=>v,secondsInDay:()=>x,secondsInHour:()=>y,secondsInMinute:()=>p,secondsInMonth:()=>j,secondsInQuarter:()=>M,secondsInWeek:()=>w,secondsInYear:()=>b});let t=7,a=365.2425,r=864e13,i=-864e13,s=6048e5,n=864e5,l=6e4,o=36e5,d=1e3,u=525600,c=43200,m=1440,h=60,f=3,g=12,v=4,y=3600,p=60,x=86400,w=604800,b=0x1e18558,j=2629746,M=7889238,S=Symbol.for("constructDateFrom")}},737241:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({constructFrom:()=>i,default:()=>t});var r=e.i(291910);function i(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&r.constructFromSymbol in e?e[r.constructFromSymbol](t):e instanceof Date?new e.constructor(t):new Date(t)}let t=i}},613448:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({formatDistance:()=>a});let t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a=(e,a,r)=>{let i,s=t[e];if(i="string"==typeof s?s:1===a?s.one:s.other.replace("{{count}}",a.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return"in "+i;else return i+" ago";return i}}},950136:e=>{"use strict";var{g:t,__dirname:a}=e;function r(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}e.s({buildFormatLongFn:()=>r})},225255:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({formatLong:()=>t});var r=e.i(950136);let t={date:(0,r.buildFormatLongFn)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.buildFormatLongFn)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.buildFormatLongFn)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}}},71510:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({formatRelative:()=>a});let t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a=(e,a,r,i)=>t[e]}},345388:e=>{"use strict";var{g:t,__dirname:a}=e;function r(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=a?.width?String(a.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=a?.width?String(a.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}e.s({buildLocalizeFn:()=>r})},627671:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({localize:()=>t});var r=e.i(345388);let t={ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:(0,r.buildLocalizeFn)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,r.buildLocalizeFn)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.buildLocalizeFn)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}}},339003:e=>{"use strict";var{g:t,__dirname:a}=e;function r(e){return(t,a={})=>{let r,i=a.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],n=t.match(s);if(!n)return null;let l=n[0],o=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(o)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(o,e=>e.test(l)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(o,e=>e.test(l));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(l.length)}}}e.s({buildMatchFn:()=>r})},289969:e=>{"use strict";var{g:t,__dirname:a}=e;function r(e){return(t,a={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],s=t.match(e.parsePattern);if(!s)return null;let n=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:n=a.valueCallback?a.valueCallback(n):n,rest:t.slice(i.length)}}}e.s({buildMatchPatternFn:()=>r})},63685:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({match:()=>t});var r=e.i(339003);let t={ordinalNumber:(0,e.i(289969).buildMatchPatternFn)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.buildMatchFn)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}}},597663:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a,enUS:()=>t});var r=e.i(613448),i=e.i(225255),s=e.i(71510),n=e.i(627671),l=e.i(63685);let t={code:"en-US",formatDistance:r.formatDistance,formatLong:i.formatLong,formatRelative:s.formatRelative,localize:n.localize,match:l.match,options:{weekStartsOn:0,firstWeekContainsDate:1}},a=t}},586393:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({defaultLocale:()=>r.enUS});var r=e.i(597663)},872880:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({getDefaultOptions:()=>r,setDefaultOptions:()=>i});let t={};function r(){return t}function i(e){t=e}}},623972:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,toDate:()=>i});var r=e.i(737241);function i(e,t){return(0,r.constructFrom)(t||e,e)}let t=i}},176975:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getTimezoneOffsetInMilliseconds:()=>i});var r=e.i(623972);function i(e){let t=(0,r.toDate)(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),e-a}},286102:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({normalizeDates:()=>i});var r=e.i(737241);function i(e,...t){let a=r.constructFrom.bind(null,e||t.find(e=>"object"==typeof e));return t.map(a)}},831204:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({constructNow:()=>i,default:()=>t});var r=e.i(737241);function i(e){return(0,r.constructFrom)(e,Date.now())}let t=i}},173146:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({compareAsc:()=>i,default:()=>t});var r=e.i(623972);function i(e,t){let a=(0,r.toDate)(e)-(0,r.toDate)(t);return a<0?-1:a>0?1:a}let t=i}},14494:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,differenceInCalendarMonths:()=>i});var r=e.i(286102);function i(e,t,a){let[i,s]=(0,r.normalizeDates)(a?.in,e,t);return 12*(i.getFullYear()-s.getFullYear())+(i.getMonth()-s.getMonth())}let t=i}},865931:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,endOfDay:()=>i});var r=e.i(623972);function i(e,t){let a=(0,r.toDate)(e,t?.in);return a.setHours(23,59,59,999),a}let t=i}},178186:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,endOfMonth:()=>i});var r=e.i(623972);function i(e,t){let a=(0,r.toDate)(e,t?.in),i=a.getMonth();return a.setFullYear(a.getFullYear(),i+1,0),a.setHours(23,59,59,999),a}let t=i}},809790:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,isLastDayOfMonth:()=>n});var r=e.i(865931),i=e.i(178186),s=e.i(623972);function n(e,t){let a=(0,s.toDate)(e,t?.in);return+(0,r.endOfDay)(a,t)==+(0,i.endOfMonth)(a,t)}let t=n}},906511:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,differenceInMonths:()=>l});var r=e.i(286102),i=e.i(173146),s=e.i(14494),n=e.i(809790);function l(e,t,a){let[l,o,d]=(0,r.normalizeDates)(a?.in,e,e,t),u=(0,i.compareAsc)(o,d),c=Math.abs((0,s.differenceInCalendarMonths)(o,d));if(c<1)return 0;1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-u*c);let m=(0,i.compareAsc)(o,d)===-u;(0,n.isLastDayOfMonth)(l)&&1===c&&1===(0,i.compareAsc)(l,d)&&(m=!1);let h=u*(c-m);return 0===h?0:h}let t=l}},685460:e=>{"use strict";var{g:t,__dirname:a}=e;function r(e){return t=>{let a=(e?Math[e]:Math.trunc)(t);return 0===a?0:a}}e.s({getRoundingMethod:()=>r})},982987:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,differenceInMilliseconds:()=>i});var r=e.i(623972);function i(e,t){return(0,r.toDate)(e)-(0,r.toDate)(t)}let t=i}},440313:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,differenceInSeconds:()=>s});var r=e.i(685460),i=e.i(982987);function s(e,t,a){let s=(0,i.differenceInMilliseconds)(e,t)/1e3;return(0,r.getRoundingMethod)(a?.roundingMethod)(s)}let t=s}},284424:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,formatDistance:()=>c});var r=e.i(586393),i=e.i(872880),s=e.i(176975),n=e.i(286102),l=e.i(173146),o=e.i(291910),d=e.i(906511),u=e.i(440313);function c(e,t,a){let c,m=(0,i.getDefaultOptions)(),h=a?.locale??m.locale??r.defaultLocale,f=(0,l.compareAsc)(e,t);if(isNaN(f))throw RangeError("Invalid time value");let g=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:f}),[v,y]=(0,n.normalizeDates)(a?.in,...f>0?[t,e]:[e,t]),p=(0,u.differenceInSeconds)(y,v),x=Math.round((p-((0,s.getTimezoneOffsetInMilliseconds)(y)-(0,s.getTimezoneOffsetInMilliseconds)(v))/1e3)/60);if(x<2)if(a?.includeSeconds)if(p<5)return h.formatDistance("lessThanXSeconds",5,g);else if(p<10)return h.formatDistance("lessThanXSeconds",10,g);else if(p<20)return h.formatDistance("lessThanXSeconds",20,g);else if(p<40)return h.formatDistance("halfAMinute",0,g);else if(p<60)return h.formatDistance("lessThanXMinutes",1,g);else return h.formatDistance("xMinutes",1,g);else if(0===x)return h.formatDistance("lessThanXMinutes",1,g);else return h.formatDistance("xMinutes",x,g);if(x<45)return h.formatDistance("xMinutes",x,g);if(x<90)return h.formatDistance("aboutXHours",1,g);if(x<o.minutesInDay){let e=Math.round(x/60);return h.formatDistance("aboutXHours",e,g)}if(x<2520)return h.formatDistance("xDays",1,g);else if(x<o.minutesInMonth){let e=Math.round(x/o.minutesInDay);return h.formatDistance("xDays",e,g)}else if(x<2*o.minutesInMonth)return c=Math.round(x/o.minutesInMonth),h.formatDistance("aboutXMonths",c,g);if((c=(0,d.differenceInMonths)(y,v))<12){let e=Math.round(x/o.minutesInMonth);return h.formatDistance("xMonths",e,g)}{let e=c%12,t=Math.trunc(c/12);return e<3?h.formatDistance("aboutXYears",t,g):e<9?h.formatDistance("overXYears",t,g):h.formatDistance("almostXYears",t+1,g)}}let t=c}},937249:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t,formatDistanceToNow:()=>s});var r=e.i(831204),i=e.i(284424);function s(e,t){return(0,i.formatDistance)(e,(0,r.constructNow)(e),t)}let t=s}},936679:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"12",width:"12",...i,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsx)("g",{fill:e,children:(0,r.jsx)("path",{d:"m10.428,2.867l-2.295-2.294c-.363-.364-.867-.573-1.382-.573h-3.001C2.233,0,1,1.233,1,2.75v6.5c0,1.517,1.233,2.75,2.75,2.75h4.5c1.517,0,2.75-1.233,2.75-2.75v-5.001c0-.521-.203-1.012-.572-1.382Zm-3.355-1.233l2.294,2.293c.021.021.032.049.049.073h-2.415V1.585c.024.016.051.027.071.048,0,0,0,0,0,0Z",fill:e,strokeWidth:"0"})})]})}}},986392:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getEmailDetails:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("40ccd8d8e26d5a0a7819f93603cecd1770ab9afb12",r.callServer,void 0,r.findSourceMapURL,"getEmailDetails")},315894:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({useEmailQuery:()=>t});var r=e.i(645643),i=e.i(986392);let t=e=>(0,r.useQuery)({queryKey:["email",e],queryFn:async()=>{if(!e)throw Error("Email ID is required");let t=await (0,i.getEmailDetails)(e);if(t.error)throw Error(t.error);return t.data},enabled:!!e,staleTime:3e5,gcTime:6e5,retry:(e,t)=>"Email not found"!==t.message&&e<3})}},248262:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({markEmailAsRead:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("400e0c4e16c3c0c54c42073a20508c7d05f4dd64fa",r.callServer,void 0,r.findSourceMapURL,"markEmailAsRead")},28163:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({useMarkEmailAsReadMutation:()=>t});var r=e.i(659544),i=e.i(628662),s=e.i(248262),n=e.i(55496);let t=()=>{let e=(0,i.useQueryClient)();return(0,r.useMutation)({mutationFn:async e=>{let t=await (0,s.markEmailAsRead)(e);if(t.error)throw Error(t.error);return t.data},onSuccess:(t,a)=>{e.invalidateQueries({queryKey:["email",a]}),e.invalidateQueries({queryKey:["analytics"]}),e.invalidateQueries({queryKey:["emails"]})},onMutate:async t=>{await e.cancelQueries({queryKey:["email",t]});let a=e.getQueryData(["email",t]);return e.setQueryData(["email",t],e=>e?{...e,isRead:!0,readAt:new Date}:e),{previousEmail:a}},onError:(t,a,r)=>{r?.previousEmail&&e.setQueryData(["email",a],r.previousEmail),console.error("Failed to mark email as read:",t),n.toast.error("Failed to mark email as read")},onSettled:(t,a,r)=>{e.invalidateQueries({queryKey:["email",r]})}})}}},537644:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({emailAddressesV2Keys:()=>t,useCreateEmailAddressV2Mutation:()=>l,useDeleteEmailAddressV2Mutation:()=>d,useEmailAddressV2Query:()=>n,useEmailAddressesV2Query:()=>a,useUpdateEmailAddressV2Mutation:()=>o});var r=e.i(645643),i=e.i(659544),s=e.i(628662);let t={all:["v2","email-addresses"],lists:()=>[...t.all,"list"],list:e=>[...t.lists(),e],details:()=>[...t.all,"detail"],detail:e=>[...t.details(),e]},a=e=>(0,r.useQuery)({queryKey:t.list(e),queryFn:async()=>{let t=new URLSearchParams;e?.limit&&t.set("limit",e.limit.toString()),e?.offset&&t.set("offset",e.offset.toString()),e?.domainId&&t.set("domainId",e.domainId),e?.isActive&&t.set("isActive",e.isActive),e?.isReceiptRuleConfigured&&t.set("isReceiptRuleConfigured",e.isReceiptRuleConfigured);let a=await fetch(`/api/v2/email-addresses?${t}`);if(!a.ok)throw Error((await a.json()).error||`HTTP error! status: ${a.status}`);return a.json()},staleTime:12e4,gcTime:3e5}),n=e=>(0,r.useQuery)({queryKey:t.detail(e),queryFn:async()=>{let t=await fetch(`/api/v2/email-addresses/${e}`);if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:!!e,staleTime:12e4,gcTime:6e5}),l=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch("/api/v2/email-addresses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to create email address");return t.json()},onSuccess:a=>{e.invalidateQueries({queryKey:t.lists()}),e.invalidateQueries({queryKey:["v2","domains"]})}})},o=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({emailAddressId:e,...t})=>{let a=await fetch(`/api/v2/email-addresses/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to update email address");return a.json()},onSuccess:(a,{emailAddressId:r})=>{e.invalidateQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.lists()}),e.invalidateQueries({queryKey:["v2","domains"]})}})},d=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch(`/api/v2/email-addresses/${e}`,{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete email address");return t.json()},onSuccess:(a,r)=>{e.removeQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.lists()}),e.invalidateQueries({queryKey:["v2","domains"]})}})}}},875960:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({mailV2Keys:()=>t,useBulkUpdateEmailsMutation:()=>d,useEmailThreadCountsV2Query:()=>f,useEmailThreadV2Query:()=>h,useMailDetailsV2Query:()=>n,useMailV2Query:()=>a,useMarkEmailAsReadV2Mutation:()=>u,useOutboundEmailDetailsV2Query:()=>l,useReplyToEmailV2Mutation:()=>m,useUpdateEmailMutation:()=>o,useUserEmailLogsV2Query:()=>c});var r=e.i(645643),i=e.i(659544),s=e.i(628662);let t={all:["v2","mail"],lists:()=>[...t.all,"list"],list:e=>[...t.lists(),e],details:()=>[...t.all,"detail"],detail:e=>[...t.details(),e],outboundEmails:()=>["v2","emails"],outboundEmail:e=>[...t.outboundEmails(),e]},a=e=>(0,r.useQuery)({queryKey:t.list(e),queryFn:async()=>{let t=new URLSearchParams;e?.limit&&t.set("limit",e.limit.toString()),e?.offset&&t.set("offset",e.offset.toString()),e?.search&&t.set("search",e.search),e?.status&&t.set("status",e.status),e?.domain&&t.set("domain",e.domain),e?.timeRange&&t.set("timeRange",e.timeRange);let a=await fetch(`/api/v2/mail?${t}`);if(!a.ok)throw Error((await a.json()).error||`HTTP error! status: ${a.status}`);return a.json()},staleTime:3e4,gcTime:3e5}),n=e=>(0,r.useQuery)({queryKey:t.detail(e),queryFn:async()=>{let t=await fetch(`/api/v2/mail/${e}`);if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:!!e,staleTime:6e4,gcTime:6e5}),l=e=>(0,r.useQuery)({queryKey:t.outboundEmail(e),queryFn:async()=>{let t=await fetch(`/api/v2/emails/${e}`);if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:!!e,staleTime:6e4,gcTime:6e5}),o=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({emailId:e,updates:t})=>{let a=await fetch(`/api/v2/mail/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||`HTTP error! status: ${a.status}`);return a.json()},onMutate:async({emailId:a,updates:r})=>{await e.cancelQueries({queryKey:t.lists()});let i=e.getQueriesData({queryKey:t.lists()});return e.setQueriesData({queryKey:t.lists()},e=>e?.emails?{...e,emails:e.emails.map(e=>{if(e.id===a){let t={...e};return void 0!==r.isRead&&(t.isRead=r.isRead,t.readAt=r.isRead?new Date().toISOString():null),void 0!==r.isArchived&&(t.isArchived=r.isArchived,t.archivedAt=r.isArchived?new Date().toISOString():null),t}return e})}:e),{previousEmailLists:i}},onError:(t,a,r)=>{r?.previousEmailLists&&r.previousEmailLists.forEach(([t,a])=>{e.setQueryData(t,a)})},onSettled:()=>{e.invalidateQueries({queryKey:t.lists()})}})},d=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch("/api/v2/mail/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},onMutate:async({emailIds:a,updates:r})=>{await e.cancelQueries({queryKey:t.lists()});let i=e.getQueriesData({queryKey:t.lists()});return e.setQueriesData({queryKey:t.lists()},e=>e?.emails?{...e,emails:e.emails.map(e=>{if(a.includes(e.id)){let t={...e};return void 0!==r.isRead&&(t.isRead=r.isRead,t.readAt=r.isRead?new Date().toISOString():null),void 0!==r.isArchived&&(t.isArchived=r.isArchived,t.archivedAt=r.isArchived?new Date().toISOString():null),t}return e}).filter(e=>!0!==r.isArchived||!a.includes(e.id))}:e),{previousEmailLists:i}},onError:(t,a,r)=>{r?.previousEmailLists&&r.previousEmailLists.forEach(([t,a])=>{e.setQueryData(t,a)})},onSettled:()=>{e.invalidateQueries({queryKey:t.lists()})}})},u=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{let t=await fetch(`/api/v2/mail/${e}/mark-read`,{method:"POST"});if(!t.ok)throw Error((await t.json()).error||"Failed to mark email as read");return t.json()},onSuccess:(a,r)=>{e.invalidateQueries({queryKey:t.detail(r)}),e.invalidateQueries({queryKey:t.lists()})}})},c=e=>a({...e,limit:e?.limit||50,offset:e?.offset||0}),m=()=>{let e=(0,s.useQueryClient)();return(0,i.useMutation)({mutationFn:async({emailId:e,...t})=>{let a=await fetch(`/api/v2/emails/${e}/reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to send reply");return a.json()},onSuccess:(a,{emailId:r})=>{e.invalidateQueries({queryKey:t.lists()}),e.invalidateQueries({queryKey:t.detail(r)})}})},h=e=>(0,r.useQuery)({queryKey:[...t.detail(e),"thread"],queryFn:async()=>{let t=await fetch(`/api/v2/mail/${e}/thread`);if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:!!e,staleTime:6e4,gcTime:6e5}),f=e=>(0,r.useQuery)({queryKey:["mail-v2","thread-counts",...e.sort()],queryFn:async()=>{let t=await fetch("/api/v2/mail/thread-counts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailIds:e})});if(!t.ok)throw Error((await t.json()).error||`HTTP error! status: ${t.status}`);return t.json()},enabled:e.length>0,staleTime:12e4,gcTime:6e5})}},562530:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getUserEmailLogs:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("4036a927bdcc185c7cd5221062f42afb70733d159f",r.callServer,void 0,r.findSourceMapURL,"getUserEmailLogs")},701479:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({useUserEmailLogsQuery:()=>s});var r=e.i(645643),i=e.i(562530);function s(e={}){return(0,r.useQuery)({queryKey:["user-email-logs",e],queryFn:async()=>{let t=await (0,i.getUserEmailLogs)(e);if(!t.success)throw Error(t.error);return t.data},staleTime:3e4,gcTime:3e5})}},121348:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getEmailsList:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("4062391b8b9fea3dab173568dc243176dcda35bc73",r.callServer,void 0,r.findSourceMapURL,"getEmailsList")},403381:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getEmailDetailsFromParsed:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("40134f515b8fe5278d31a536a3a223c156ec6b61af",r.callServer,void 0,r.findSourceMapURL,"getEmailDetailsFromParsed")},64366:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({getUnifiedEmailLogs:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("40f4308e9524f900b328889cf8d5095aa19d019d23",r.callServer,void 0,r.findSourceMapURL,"getUnifiedEmailLogs")},226317:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({emailKeys:()=>t,useEmailDetailsQuery:()=>d,useEmailsListQuery:()=>o,useUnifiedEmailLogsQuery:()=>l});var r=e.i(645643),i=e.i(121348),s=e.i(403381),n=e.i(64366);function l(e={}){return(0,r.useQuery)({queryKey:["unified-email-logs",e],queryFn:async()=>{let t=await (0,n.getUnifiedEmailLogs)(e);if(!t.success)throw Error(t.error);return t.data},staleTime:3e4,gcTime:3e5})}e.i(231843),e.i(315894),e.i(28163),e.i(537644),e.i(875960),e.i(701479);let t={all:["emails"],lists:()=>[...t.all,"list"],list:e=>[...t.lists(),e],details:()=>[...t.all,"detail"],detail:e=>[...t.details(),e]};function o(e){return(0,r.useQuery)({queryKey:t.list(e||{}),queryFn:()=>(0,i.getEmailsList)(e),staleTime:3e4,gcTime:3e5})}function d(e,a=!0){return(0,r.useQuery)({queryKey:t.detail(e),queryFn:()=>(0,s.getEmailDetailsFromParsed)(e),enabled:a&&!!e,staleTime:6e4,gcTime:6e5})}}},866971:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({}),e.i(231843),e.i(315894),e.i(28163),e.i(537644),e.i(875960),e.i(701479),e.i(226317)},992460:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"12",width:"12",...i,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsxs)("g",{fill:e,children:[(0,r.jsx)("path",{d:"m1.75,11c-.192,0-.384-.073-.53-.22-.293-.293-.293-.768,0-1.061L9.543,1.396c.293-.293.768-.293,1.061,0s.293.768,0,1.061L2.28,10.78c-.146.146-.338.22-.53.22Z",fill:t,strokeWidth:"0"}),(0,r.jsx)("path",{d:"m10.25,7.25c-.414,0-.75-.336-.75-.75V2.5h-4c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h4.75c.414,0,.75.336.75.75v4.75c0,.414-.336.75-.75.75Z",fill:e,strokeWidth:"0"})]})]})}}},16274:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>t});var r=e.i(731636);let t=function({fill:e="currentColor",secondaryfill:t,title:a="badge 13",...i}){return t=t||e,(0,r.jsxs)("svg",{height:"18",width:"18",...i,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:a}),(0,r.jsxs)("g",{fill:e,children:[(0,r.jsx)("path",{d:"M16.5,4.25c-.192,0-.384-.073-.53-.22l-2-2c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l2,2c.293,.293,.293,.768,0,1.061-.146,.146-.338,.22-.53,.22Z",fill:t}),(0,r.jsx)("path",{d:"M1.5,4.25c-.192,0-.384-.073-.53-.22-.293-.293-.293-.768,0-1.061L2.97,.97c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061l-2,2c-.146,.146-.338,.22-.53,.22Z",fill:t}),(0,r.jsx)("path",{d:"M14.447,13.386c.969-1.201,1.553-2.726,1.553-4.386,0-3.86-3.14-7-7-7S2,5.14,2,9c0,1.66,.584,3.185,1.553,4.386l-1.333,1.333c-.293,.293-.293,.768,0,1.061,.146,.146,.338,.22,.53,.22s.384-.073,.53-.22l1.333-1.333c1.201,.969,2.726,1.553,4.387,1.553s3.185-.583,4.387-1.553l1.333,1.333c.146,.146,.338,.22,.53,.22s.384-.073,.53-.22c.293-.293,.293-.768,0-1.061l-1.333-1.333Zm-2.064-2.234c-.143,.225-.386,.347-.633,.347-.138,0-.277-.038-.402-.117l-2.75-1.75c-.216-.138-.347-.376-.347-.633v-3.25c0-.414,.336-.75,.75-.75s.75,.336,.75,.75v2.838l2.403,1.529c.349,.223,.452,.686,.23,1.036Z",fill:e})]})]})}}},158693:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({markAllEmailsAsRead:()=>i});var r=e.i(286714),i=(0,r.createServerReference)("00b110dd3c06704b76c3b03d988a4765d56aaab563",r.callServer,void 0,r.findSourceMapURL,"markAllEmailsAsRead")},954570:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({MarkAllReadButton:()=>c});var r=e.i(731636),i=e.i(838653),s=e.i(834953),n=e.i(611206),l=e.i(561657),o=e.i(70818),d=e.i(158693),u=e.i(555366);function c({unreadCount:e}){let[t,a]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),h=(0,u.useRouter)(),f=async()=>{try{m(!0);let e=await (0,d.markAllEmailsAsRead)();if(e.error)return void console.error("Failed to mark all as read:",e.error);console.log(e.message),a(!1),h.refresh()}catch(e){console.error("Error marking all emails as read:",e)}finally{m(!1)}};return 0===e?null:(0,r.jsxs)(n.Dialog,{open:t,onOpenChange:a,children:[(0,r.jsx)(n.DialogTrigger,{asChild:!0,children:(0,r.jsxs)(s.Button,{variant:"primary",size:"sm",children:[(0,r.jsx)(l.default,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})}),(0,r.jsxs)(n.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsxs)(n.DialogHeader,{children:[(0,r.jsxs)(n.DialogTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(o.default,{className:"h-5 w-5 text-amber-500"}),"Mark All Emails as Read?"]}),(0,r.jsxs)(n.DialogDescription,{children:["This will mark all ",e," unread email",1===e?"":"s"," as read. This action cannot be undone."]})]}),(0,r.jsxs)(n.DialogFooter,{className:"flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",children:[(0,r.jsx)(s.Button,{variant:"secondary",onClick:()=>a(!1),disabled:c,children:"Cancel"}),(0,r.jsx)(s.Button,{onClick:f,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Marking as Read..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})})]})]})]})}},533652:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({DomainFilterSelect:()=>n});var r=e.i(731636),i=e.i(974294),s=e.i(555366);function n({domains:e,currentDomain:t}){let a=(0,s.useRouter)(),n=(0,s.useSearchParams)();return(0,r.jsxs)(i.Select,{value:t,onValueChange:e=>{let t=new URLSearchParams(n.toString());"all"===e?t.delete("domain"):t.set("domain",e),t.delete("offset"),a.push(`/mail?${t.toString()}`)},children:[(0,r.jsx)(i.SelectTrigger,{className:"w-40 h-9 rounded-xl",children:(0,r.jsx)(i.SelectValue,{placeholder:"All Domains"})}),(0,r.jsxs)(i.SelectContent,{className:"rounded-xl",children:[(0,r.jsx)(i.SelectItem,{value:"all",children:"All Domains"}),e.map(e=>(0,r.jsx)(i.SelectItem,{value:e,children:e},e))]})]})}},710627:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({EmailListItem:()=>d});var r=e.i(731636),i=e.i(186240),s=e.i(937249),n=e.i(936679),l=e.i(401575);e.i(866971);var o=e.i(875960);function d({email:e,isSelectMode:t=!1,isSelected:a=!1,onSelect:d,threadCount:u}){let c=(0,o.useUpdateEmailMutation)(),m=e.parsedData.fromData?.addresses?.[0]?.name||e.from.split("@")[0]||e.from.split("<")[0]||e.from,h=e.parsedData.preview||"No preview available",f=t=>{d&&d(e.id,!0===t)},g=(0,r.jsxs)("div",{className:"flex items-center gap-4 relative",children:[t&&(0,r.jsx)("div",{className:"flex-shrink-0",onClick:e=>e.stopPropagation(),children:(0,r.jsx)(l.Checkbox,{checked:a,onCheckedChange:f})}),(0,r.jsx)("div",{className:"w-40 flex-shrink-0",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:`font-medium truncate text-foreground text-sm ${!e.isRead?"font-semibold":""}`,children:m}),!e.isRead&&(0,r.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"})]})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,r.jsx)("span",{className:`font-medium text-foreground ${!e.isRead?"font-semibold":""}`,children:e.subject}),u&&u>1&&(0,r.jsx)("span",{className:"bg-muted-foreground/20 text-muted-foreground text-xs px-1.5 py-0.5 rounded-md font-medium",children:u})]}),(0,r.jsxs)("span",{className:"text-muted-foreground/80 truncate",children:["— ",h]}),e.parsedData.hasAttachments&&(0,r.jsx)(n.default,{width:"14",height:"14",className:"text-muted-foreground flex-shrink-0"})]})}),(0,r.jsx)("div",{className:"w-24 flex-shrink-0 text-right",children:(0,r.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,s.formatDistanceToNow)(new Date(e.receivedAt||new Date),{addSuffix:!0})})})]});return t?(0,r.jsx)("div",{className:`block w-full px-6 py-3 hover:bg-accent/50 transition-colors duration-200 group cursor-pointer 
        } ${a?"bg-accent/30":""}`,onClick:()=>f(!a),children:g}):(0,r.jsx)(i.default,{href:`/mail/${e.id}`,className:`block w-full px-6 py-3 hover:bg-accent/50 transition-colors duration-200 group ${!e.isRead?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>{e.isRead||c.mutate({emailId:e.id,updates:{isRead:!0}})},children:g})}},727240:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({default:()=>p});var r=e.i(731636),i=e.i(838653),s=e.i(555366),n=e.i(921361);e.i(210339);var l=e.i(834953),o=e.i(330790),d=e.i(401575);e.i(866971);var u=e.i(875960),c=e.i(186240);e.i(724350),e.i(16274);var m=e.i(404800);e.i(992460);var h=e.i(70818),f=e.i(602833),g=e.i(954570),v=e.i(533652),y=e.i(710627);function p(){let e=(0,s.useSearchParams)();(0,s.useRouter)();let t=e.get("search")||"",a=e.get("status")||"all",p=e.get("domain")||"all",x=parseInt(e.get("limit")||"50"),w=parseInt(e.get("offset")||"0"),[b,j]=(0,i.useState)([]),[M,S]=(0,i.useState)(!1),{data:k,isLoading:C,error:D,refetch:E}=(0,u.useMailV2Query)({limit:x,offset:w,search:t,status:"all"===a?void 0:a,domain:"all"===p?void 0:p});(0,u.useUpdateEmailMutation)();let N=(0,u.useBulkUpdateEmailsMutation)(),T=k?.emails?.map(e=>e.id)||[],{data:F}=(0,u.useEmailThreadCountsV2Query)(T);(0,i.useEffect)(()=>{let e=setInterval(()=>{E()},5e3);return()=>clearInterval(e)},[E]);let A=(e,t)=>{t?j(t=>[...t,e]):j(t=>t.filter(t=>t!==e))},R=e=>{e&&k?.emails?j(k.emails.map(e=>e.id)):j([])},Q=async()=>{if(0!==b.length)try{await N.mutateAsync({emailIds:b,updates:{isArchived:!0}}),j([]),S(!1)}catch(e){console.error("Failed to archive emails:",e)}},q=async()=>{if(0!==b.length)try{await N.mutateAsync({emailIds:b,updates:{isRead:!0}}),j([])}catch(e){console.error("Failed to mark emails as read:",e)}};if((0,i.useEffect)(()=>{M||j([])},[M]),D)return(0,r.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,r.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,r.jsx)(n.Card,{className:"border-destructive/50 bg-destructive/10",children:(0,r.jsx)(n.CardContent,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,r.jsx)(h.default,{width:"16",height:"16"}),(0,r.jsx)("span",{children:D.message})]})})})})});if(C)return(0,r.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,r.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Loading emails..."})})})});if(!k)return(0,r.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,r.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"No emails found"})})})});let{emails:P,pagination:I,filters:L={uniqueDomains:[]}}=k,K=P.filter(e=>!e.isRead).length,$=e=>{if(!F?.success)return;let t=F.data.find(t=>t.emailId===e);return t?.threadCount},O=e=>({id:e.id,from:e.from,subject:e.subject||"No Subject",receivedAt:e.receivedAt.toString(),isRead:e.isRead,parsedData:{fromData:{addresses:[{name:e.fromName,address:e.from}]},preview:e.preview,hasAttachments:e.hasAttachments,htmlContent:null,textContent:null}});return(0,r.jsxs)("div",{className:"min-h-screen font-outfit",children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-foreground mb-1 tracking-tight",children:["Mail (",K," unread)"]}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Search and filter your received emails"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>S(!1),children:"Cancel"}),(0,r.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:q,disabled:0===b.length||N.isPending,children:["Mark Read (",b.length,")"]}),(0,r.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:Q,disabled:0===b.length||N.isPending,className:"text-destructive hover:text-destructive",children:["Archive (",b.length,")"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>S(!0),disabled:!k?.emails||0===k.emails.length,children:"Select"}),(0,r.jsx)(g.MarkAllReadButton,{unreadCount:K})]})})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[M&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Checkbox,{checked:!!k?.emails&&b.length===k.emails.length&&k.emails.length>0,onCheckedChange:e=>R(!0===e)}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Select All"})]}),(0,r.jsxs)("form",{method:"GET",className:"relative flex-1",children:[(0,r.jsx)(m.default,{width:"16",height:"16",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),(0,r.jsx)(o.Input,{name:"search",placeholder:"Search emails...",defaultValue:t,className:"pl-10 h-9 rounded-xl"}),"all"!==p&&(0,r.jsx)("input",{type:"hidden",name:"domain",value:p}),(0,r.jsx)(l.Button,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 px-2",children:(0,r.jsx)(m.default,{width:"12",height:"12"})})]}),(0,r.jsx)(v.DomainFilterSelect,{domains:L.uniqueDomains,currentDomain:p})]})})]}),(0,r.jsxs)("div",{className:"w-full max-w-6xl mx-auto",children:[0===P.length?(0,r.jsx)("div",{className:"max-w-5xl mx-auto p-4",children:(0,r.jsx)("div",{className:"bg-card border-border rounded-xl p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(f.CustomInboundIcon,{text:"EM",size:48,backgroundColor:"#8b5cf6",className:"mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"No emails found"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:t||"all"!==a||"all"!==p?"No emails match your search criteria.":"Hey! Looks like you don't have any emails yet."}),!(t||"all"!==a||"all"!==p)&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ready to start receiving emails? Let's get you set up!"}),(0,r.jsx)(l.Button,{asChild:!0,children:(0,r.jsx)(c.default,{href:"/onboarding",children:"Start Onboarding"})})]})]})})}):(0,r.jsx)("div",{className:"divide-y divide-border",children:P.map(e=>(0,r.jsx)(y.EmailListItem,{email:O(e),isSelectMode:M,isSelected:b.includes(e.id),onSelect:A,threadCount:$(e.id)},e.id))}),I.total>I.limit&&(0,r.jsx)("div",{className:"max-w-5xl mx-auto p-4",children:(0,r.jsx)("div",{className:"bg-card border-border rounded-xl p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground font-medium",children:["Showing ",I.offset+1," to ",Math.min(I.offset+I.limit,I.total)," of ",I.total," emails"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[I.offset>0&&(0,r.jsx)(c.default,{href:{pathname:"/mail",query:{...t&&{search:t},..."all"!==a&&{status:a},..."all"!==p&&{domain:p},offset:Math.max(0,I.offset-I.limit).toString()}},children:(0,r.jsx)(l.Button,{variant:"secondary",size:"sm",className:"rounded-xl",children:"Previous"})}),I.hasMore&&(0,r.jsx)(c.default,{href:{pathname:"/mail",query:{...t&&{search:t},..."all"!==a&&{status:a},..."all"!==p&&{domain:p},offset:(I.offset+I.limit).toString()}},children:(0,r.jsx)(l.Button,{variant:"secondary",size:"sm",className:"rounded-xl",children:"Next"})})]})]})})})]})]})}}}]);

//# sourceMappingURL=4f3d9370890618a1.js.map