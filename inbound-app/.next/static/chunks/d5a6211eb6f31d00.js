(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{555366:function(e){var{g:t,__dirname:i,m:s,e:r}=e;s.exports=e.r(341842)},628662:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({QueryClientContext:()=>n,QueryClientProvider:()=>o,useQueryClient:()=>a});var s=e.i(838653),r=e.i(731636),n=(0,s.createContext)(void 0),a=e=>{let t=(0,s.useContext)(n);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=({client:e,children:t})=>((0,s.useEffect)(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,r.jsx)(n.Provider,{value:e,children:t}))},445897:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({addToEnd:()=>S,addToStart:()=>O,ensureQueryFn:()=>A,functionalUpdate:()=>n,hashKey:()=>f,hashQueryKeyByOptions:()=>d,isPlainArray:()=>v,isPlainObject:()=>g,isServer:()=>s,isValidTimeout:()=>a,keepPreviousData:()=>P,matchMutation:()=>h,matchQuery:()=>l,noop:()=>r,partialMatchKey:()=>p,replaceData:()=>C,replaceEqualDeep:()=>y,resolveEnabled:()=>c,resolveStaleTime:()=>u,shallowEqualObjects:()=>m,shouldThrowError:()=>M,skipToken:()=>E,sleep:()=>w,timeUntilStale:()=>o}),e.i(922271);var s="undefined"==typeof window||"Deno"in globalThis;function r(){}function n(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function o(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function c(e,t){return"function"==typeof e?e(t):e}function l(e,t){let{type:i="all",exact:s,fetchStatus:r,predicate:n,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==d(a,t.options))return!1}else if(!p(t.queryKey,a))return!1}if("all"!==i){let e=t.isActive();if("active"===i&&!e||"inactive"===i&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&(!r||r===t.state.fetchStatus)&&(!n||!!n(t))}function h(e,t){let{exact:i,status:s,predicate:r,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(i){if(f(t.options.mutationKey)!==f(n))return!1}else if(!p(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&(!r||!!r(t))}function d(e,t){return(t?.queryKeyHashFn||f)(e)}function f(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,i)=>(e[i]=t[i],e),{}):t)}function p(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(i=>p(e[i],t[i]))}function y(e,t){if(e===t)return e;let i=v(e)&&v(t);if(i||g(e)&&g(t)){let s=i?e:Object.keys(e),r=s.length,n=i?t:Object.keys(t),a=n.length,o=i?[]:{},u=new Set(s),c=0;for(let s=0;s<a;s++){let r=i?s:n[s];(!i&&u.has(r)||i)&&void 0===e[r]&&void 0===t[r]?(o[r]=void 0,c++):(o[r]=y(e[r],t[r]),o[r]===e[r]&&void 0!==e[r]&&c++)}return r===a&&c===r?e:o}return t}function m(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(e[i]!==t[i])return!1;return!0}function v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let i=t.prototype;return!!b(i)&&!!i.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e){return new Promise(t=>{setTimeout(t,e)})}function C(e,t,i){return"function"==typeof i.structuralSharing?i.structuralSharing(e,t):!1!==i.structuralSharing?y(e,t):t}function P(e){return e}function S(e,t,i=0){let s=[...e,t];return i&&s.length>i?s.slice(1):s}function O(e,t,i=0){let s=[t,...e];return i&&s.length>i?s.slice(0,-1):s}var E=Symbol();function A(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==E?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function M(e,t){return"function"==typeof e?e(...t):!!e}},180431:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({createNotifyManager:()=>r,defaultScheduler:()=>s,notifyManager:()=>n});var s=e=>setTimeout(e,0);function r(){let e=[],t=0,i=e=>{e()},r=e=>{e()},n=s,a=s=>{t?e.push(s):n(()=>{i(s)})},o=()=>{let t=e;e=[],t.length&&n(()=>{r(()=>{t.forEach(e=>{i(e)})})})};return{batch:e=>{let i;t++;try{i=e()}finally{--t||o()}return i},batchCalls:e=>(...t)=>{a(()=>{e(...t)})},schedule:a,setNotifyFunction:e=>{i=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{n=e}}}var n=r()},741775:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({Subscribable:()=>s});var s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},947011:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({FocusManager:()=>n,focusManager:()=>a});var s=e.i(741775),r=e.i(445897),n=class extends s.Subscribable{#e;#t;#i;constructor(){super(),this.#i=e=>{if(!r.isServer&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#i=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}},a=new n},578e3:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({OnlineManager:()=>n,onlineManager:()=>a});var s=e.i(741775),r=e.i(445897),n=class extends s.Subscribable{#s=!0;#t;#i;constructor(){super(),this.#i=e=>{if(!r.isServer&&window.addEventListener){let t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#i=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#s!==e&&(this.#s=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#s}},a=new n},209291:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({pendingThenable:()=>r,tryResolveSync:()=>n});var s=e.i(445897);function r(){let e,t,i=new Promise((i,s)=>{e=i,t=s});function s(e){Object.assign(i,e),delete i.resolve,delete i.reject}return i.status="pending",i.catch(()=>{}),i.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},i.reject=e=>{s({status:"rejected",reason:e}),t(e)},i}function n(e){let t;if(e.then(e=>(t=e,e),s.noop)?.catch(s.noop),void 0!==t)return{data:t}}},171529:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({CancelledError:()=>c,canFetch:()=>u,createRetryer:()=>h,isCancelledError:()=>l});var s=e.i(947011),r=e.i(578e3),n=e.i(209291),a=e.i(445897);function o(e){return Math.min(1e3*2**e,3e4)}function u(e){return(e??"online")!=="online"||r.onlineManager.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l(e){return e instanceof c}function h(e){let t,i=!1,l=0,h=!1,d=(0,n.pendingThenable)(),f=()=>s.focusManager.isFocused()&&("always"===e.networkMode||r.onlineManager.isOnline())&&e.canRun(),p=()=>u(e.networkMode)&&e.canRun(),y=i=>{h||(h=!0,e.onSuccess?.(i),t?.(),d.resolve(i))},m=i=>{h||(h=!0,e.onError?.(i),t?.(),d.reject(i))},v=()=>new Promise(i=>{t=e=>{(h||f())&&i(e)},e.onPause?.()}).then(()=>{t=void 0,h||e.onContinue?.()}),g=()=>{let t;if(h)return;let s=0===l?e.initialPromise:void 0;try{t=s??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(h)return;let s=e.retry??3*!a.isServer,r=e.retryDelay??o,n="function"==typeof r?r(l,t):r,u=!0===s||"number"==typeof s&&l<s||"function"==typeof s&&s(l,t);if(i||!u)return void m(t);l++,e.onFail?.(l,t),(0,a.sleep)(n).then(()=>f()?void 0:v()).then(()=>{i?m(t):g()})})};return{promise:d,cancel:t=>{h||(m(new c(t)),e.abort?.())},continue:()=>(t?.(),d),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:p,start:()=>(p()?g():v().then(g),d)}}},153259:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({Removable:()=>r});var s=e.i(445897),r=class{#r;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.isValidTimeout)(this.gcTime)&&(this.#r=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(s.isServer?1/0:3e5))}clearGcTimeout(){this.#r&&(clearTimeout(this.#r),this.#r=void 0)}}},82907:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({Query:()=>o,fetchState:()=>u}),e.i(922271);var s=e.i(445897),r=e.i(180431),n=e.i(171529),a=e.i(153259),o=class extends a.Removable{#n;#a;#o;#u;#c;#l;#h;constructor(e){super(),this.#h=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#o=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#n=function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,i=void 0!==t,s=i?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#n,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){let i=(0,s.replaceData)(this.state.data,e,this.options);return this.#d({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(s.noop).catch(s.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#n)}isActive(){return this.observers.some(e=>!1!==(0,s.resolveEnabled)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===s.skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,s.resolveStaleTime)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,s.timeUntilStale)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#h?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let i=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#h=!0,i.signal)})},a=()=>{let e=(0,s.ensureQueryFn)(this.options,t),i=(()=>{let e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return(this.#h=!1,this.options.persister)?this.options.persister(e,i,this):e(i)},o=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:a};return r(e),e})();this.options.behavior?.onFetch(o,this),this.#a=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#d({type:"fetch",meta:o.fetchOptions?.meta});let u=e=>{(0,n.isCancelledError)(e)&&e.silent||this.#d({type:"error",error:e}),(0,n.isCancelledError)(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=(0,n.createRetryer)({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:e=>{if(void 0===e)return void u(Error(`${this.queryHash} data is undefined`));try{this.setData(e)}catch(e){u(e);return}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()},onError:u,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#c.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...u(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=e.error;if((0,n.isCancelledError)(i)&&i.revert&&this.#a)return{...this.#a,fetchStatus:"idle"};return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),r.notifyManager.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function u(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.canFetch)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}},305632:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({Mutation:()=>a,getDefaultState:()=>o});var s=e.i(180431),r=e.i(153259),n=e.i(171529),a=class extends r.Removable{#f;#p;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#f=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter(t=>t!==e),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#d({type:"continue"})};this.#c=(0,n.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});let i="pending"===this.state.status,s=!this.#c.canStart();try{if(i)t();else{this.#d({type:"pending",variables:e,isPaused:s}),await this.#p.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:s})}let r=await this.#c.start();return await this.#p.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#p.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#d({type:"success",data:r}),r}catch(t){try{throw await this.#p.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#p.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#d({type:"error",error:t})}}finally{this.#p.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),s.notifyManager.batch(()=>{this.#f.forEach(t=>{t.onMutationUpdate(e)}),this.#p.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},923616:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({toSnakeCase:()=>s});var s=e=>Array.isArray(e)?e.map(s):null!==e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,t])=>[e.replace(/([a-z])([A-Z])/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase(),s(t)])):e},980655:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({attachMethod:()=>r,cancelMethod:()=>n,checkMethod:()=>a,openBillingPortalMethod:()=>u,trackMethod:()=>o});var s=e.i(923616);async function r(e){let{dialog:t,...i}=e,r=(0,s.toSnakeCase)(i);return await this.post("/api/autumn/attach",r)}async function n(e){let t=(0,s.toSnakeCase)(e);return await this.post("/api/autumn/cancel",t)}async function a(e){let{dialog:t,...i}=e,r=(0,s.toSnakeCase)(i);return await this.post("/api/autumn/check",r)}async function o(e){let t=(0,s.toSnakeCase)(e);return await this.post("/api/autumn/track",t)}async function u(e){let t=(0,s.toSnakeCase)(e||{});return await this.post("/api/autumn/billing_portal",t)}},912165:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({AutumnError:()=>r,toContainerResult:()=>n});var s=e.i(922271),r=class extends Error{message;code;constructor(e){super(e.message),this.message=e.message,this.code=e.code}toString(){return`${this.message} (code: ${this.code})`}toJSON(){return{message:this.message,code:this.code}}},n=async e=>{if(e.status<200||e.status>=300){let t;try{t=await e.json()}catch(t){return{data:null,error:new r({message:"Failed to parse JSON response from Autumn",code:"internal_error"}),statusCode:e.status}}return{data:null,error:new r({message:t.message,code:t.code}),statusCode:e.status}}try{return{data:await e.json(),error:null,statusCode:e?.status}}catch(t){return{data:null,error:new r({message:"Failed to parse Autumn API response",code:"internal_error"}),statusCode:e?.status}}},a=(e,t,i)=>(t||(t=new q),e({instance:t,...i})),o=e=>({get:(t,i)=>a(c,e,{id:t,params:i}),create:t=>a(l,e,{params:t}),update:(t,i)=>a(h,e,{id:t,params:i}),delete:t=>a(d,e,{id:t}),billingPortal:(t,i)=>a(f,e,{id:t,params:i})}),u=e=>e?`expand=${e.join(",")}`:"",c=async({instance:e,id:t,params:i})=>t?e.get(`/customers/${t}?${u(i?.expand)}`):{data:null,error:new r({message:"Customer ID is required",code:"CUSTOMER_ID_REQUIRED"})},l=async({instance:e,params:t})=>e.post(`/customers?${u(t?.expand)}`,t),h=async({instance:e,id:t,params:i})=>e.post(`/customers/${t}`,i),d=async({instance:e,id:t})=>e.delete(`/customers/${t}`),f=async({instance:e,id:t,params:i})=>e.post(`/customers/${t}/billing_portal`,i),p=e=>({get:(t,i,s)=>a(m,e,{customer_id:t,entity_id:i,params:s}),create:(t,i)=>a(v,e,{customer_id:t,params:i}),delete:(t,i)=>a(g,e,{customer_id:t,entity_id:i})}),y=e=>e?`expand=${e.join(",")}`:"",m=async({instance:e,customer_id:t,entity_id:i,params:s})=>e.get(`/customers/${t}/entities/${i}?${y(s?.expand)}`),v=async({instance:e,customer_id:t,params:i})=>e.post(`/customers/${t}/entities`,i),g=async({instance:e,customer_id:t,entity_id:i})=>e.delete(`/customers/${t}/entities/${i}`),b=async({instance:e,params:t})=>e.post("/attach",t),w=async({instance:e,params:t})=>e.post("/cancel",t),C=async({instance:e,params:t})=>e.post("/entitled",t),P=async({instance:e,params:t})=>e.post("/events",t),S=async({instance:e,params:t})=>e.post("/track",t),O=async({instance:e,params:t})=>e.post("/usage",t),E=async({instance:e,params:t})=>e.post("/check",t),A=e=>({get:t=>a(T,e,{id:t}),create:t=>a(k,e,{params:t}),list:t=>a(M,e,{params:t})}),M=async({instance:e,params:t})=>{let i="/products";if(t){let e=new URLSearchParams;for(let[i,s]of Object.entries(t))void 0!==s&&e.append(i,String(s));let s=e.toString();s&&(i+=`?${s}`)}return e.get(i)},T=async({instance:e,id:t})=>e.get(`/products/${t}`),k=async({instance:e,params:t})=>e.post("/products",t),q=class{secretKey;publishableKey;level;headers;url;constructor(e){try{this.secretKey=e?.secretKey||s.default.env.AUTUMN_SECRET_KEY,this.publishableKey=e?.publishableKey||s.default.env.AUTUMN_PUBLISHABLE_KEY}catch(e){}if(!this.secretKey&&!this.publishableKey)throw Error("Autumn secret key or publishable key is required");this.headers={Authorization:`Bearer ${this.secretKey||this.publishableKey}`,"Content-Type":"application/json"};let t=e?.version||"1.2";this.headers["x-api-version"]=t,this.url=e?.url||"https://api.useautumn.com/v1",this.level=this.secretKey?"secret":"publishable"}getLevel(){return this.level}async get(e){return n(await fetch(`${this.url}${e}`,{headers:this.headers}))}async post(e,t){return n(await fetch(`${this.url}${e}`,{method:"POST",headers:this.headers,body:JSON.stringify(t)}))}async delete(e){return n(await fetch(`${this.url}${e}`,{method:"DELETE",headers:this.headers}))}static customers=o();static products=A();static entities=p();customers=o(this);products=A(this);entities=p(this);static attach=e=>a(b,void 0,{params:e});static usage=e=>a(O,void 0,{params:e});async attach(e){return b({instance:this,params:e})}static cancel=e=>a(w,void 0,{params:e});async cancel(e){return w({instance:this,params:e})}static entitled=e=>a(C,void 0,{params:e});async entitled(e){return C({instance:this,params:e})}static check=e=>a(E,void 0,{params:e});async check(e){return E({instance:this,params:e})}static event=e=>a(P,void 0,{params:e});async event(e){return P({instance:this,params:e})}static track=e=>a(S,void 0,{params:e});async track(e){return S({instance:this,params:e})}async usage(e){return O({instance:this,params:e})}}},236092:e=>{"use strict";var{g:t,__dirname:i}=e;async function s(){return await this.get("/api/autumn/components/pricing_table")}e.s({getPricingTableMethod:()=>s})},288941:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({createCustomerMethod:()=>s});var s=async({client:e,params:t})=>await e.post("/api/autumn/customers",t)},183545:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({createEntityMethod:()=>n,deleteEntityMethod:()=>o,getEntityMethod:()=>a});var s=e.i(923616),r=e=>e?`expand=${e.join(",")}`:"";async function n(e){let t=(0,s.toSnakeCase)(e);return await this.post("/api/autumn/entities",t)}async function a(e,t){(0,s.toSnakeCase)(t);let i=r(t?.expand);return await this.get(`/api/autumn/entities/${e}?${i}`)}async function o(e){return await this.delete(`/api/autumn/entities/${e}`)}},637673:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({AutumnClient:()=>u});var s=e.i(980655),r=e.i(912165),n=e.i(236092),a=e.i(288941),o=e.i(183545),u=class{backendUrl;getBearerToken;customerData;includeCredentials;constructor({backendUrl:e,getBearerToken:t,customerData:i,includeCredentials:s}){this.backendUrl=e,this.getBearerToken=t,this.customerData=i,this.includeCredentials=s}async getHeaders(){let e={"Content-Type":"application/json"};if(this.getBearerToken)try{let t=await this.getBearerToken();e.Authorization=`Bearer ${t}`}catch(e){console.error("Failed to call getToken() in AutumnProvider")}return e}async handleFetchResult(e){return await (0,r.toContainerResult)(e)}async post(e,t){let i=await fetch(`${this.backendUrl}${e}`,{method:"POST",body:JSON.stringify({...t,customer_data:this.customerData||void 0}),headers:await this.getHeaders(),credentials:this.includeCredentials?"include":void 0});return await this.handleFetchResult(i)}async get(e){let t=await fetch(`${this.backendUrl}${e}`,{method:"GET",headers:await this.getHeaders(),credentials:this.includeCredentials?"include":void 0});return await this.handleFetchResult(t)}async delete(e){let t=await fetch(`${this.backendUrl}${e}`,{method:"DELETE",headers:await this.getHeaders()});return await this.handleFetchResult(t)}async createCustomer(e){return await (0,a.createCustomerMethod)({client:this,params:e})}async getPricingTable(){return await n.getPricingTableMethod.bind(this)()}attach=s.attachMethod.bind(this);cancel=s.cancelMethod.bind(this);check=s.checkMethod.bind(this);track=s.trackMethod.bind(this);openBillingPortal=s.openBillingPortalMethod.bind(this);entities={create:o.createEntityMethod.bind(this),get:o.getEntityMethod.bind(this),delete:o.deleteEntityMethod.bind(this)}}},271252:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({AutumnContext:()=>n,useAutumnContext:()=>a});var s=e.i(637673),r=e.i(838653),n=(0,r.createContext)({customerProvider:null,pricingTableProvider:{pricingTableProducts:null,isLoading:!0,error:null,refetch:()=>Promise.resolve()},entityProvider:{entity:null,isLoading:!0,error:null,refetch:()=>Promise.resolve(),lastParams:null},client:new s.AutumnClient({backendUrl:"http://localhost:8000"}),paywallDialog:{props:null,setProps:()=>{},open:!1,setOpen:()=>{},setComponent:()=>{}},prodChangeDialog:{props:null,setProps:()=>{},open:!1,setOpen:()=>{},setComponent:()=>{}}}),a=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAutumnContext must be used within a AutumnContextProvider");return e}},453964:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useAutumn:()=>r});var s=e.i(271252),r=()=>{let{client:e}=(0,s.useAutumnContext)(),{prodChangeDialog:t,paywallDialog:i,pricingTableProvider:r,customerProvider:n}=(0,s.useAutumnContext)(),{setProps:a,setOpen:o,setComponent:u}=t,{setProps:c,setOpen:l,setComponent:h}=i,d=async t=>{let i=async e=>{let{dialog:i,...s}=t;return await f(s)},{productId:s,entityId:r,entityData:n}=t,u=await e.check({productId:s,entityId:r,entityData:n,withPreview:"formatted"});if(u.error)return u;let c=u.data.preview;return c?(a({preview:c}),o(!0),u):await i()},f=async t=>{let{productId:i,entityId:s,options:a,successUrl:c,forceCheckout:l,metadata:h,dialog:f,callback:p,entityData:y}=t;if(f)return u(f),await d(t);let m=await e.attach({productId:i,entityId:s,successUrl:c,forceCheckout:l,metadata:h,options:a,dialog:f,callback:p,entityData:y});if(m.error)return m;let v=m.data;v?.checkout_url&&"undefined"!=typeof window&&window.open(v.checkout_url,"_blank");try{await p?.()}catch(e){return m}return await Promise.all([r.pricingTableProducts?r.refetch().catch(e=>{console.warn("Failed to refetch pricing table data"),console.warn(e)}):Promise.resolve(),n.refetchFirstTwo()]),o&&o(!1),m};return{attach:f,check:async t=>{let{dialog:i,withPreview:s}=t;i&&h(i);let r=await e.check({...t,withPreview:s||i?"formatted":void 0});if(r.error)return r;let n=r.data;return n&&n.preview&&i&&(c({preview:n.preview}),l(!0)),r},track:async t=>{let i=await e.track(t);return i.error,i},cancel:async({productId:t,entityId:i})=>{let s=await e.cancel({productId:t,entityId:i});return s.error,s},openBillingPortal:async t=>{let i=await e.openBillingPortal(t);if(i.error)return i;let s=i.data;return s?.url&&"undefined"!=typeof window&&window.open(s.url,"_blank"),i}}}},78431:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useCustomer:()=>n});var s=e.i(271252),r=e.i(838653),n=e=>{let{customerProvider:t,client:i}=(0,s.useAutumnContext)(),{getState:n,refetch:a}=t,{customer:o,isLoading:u,error:c}=n(e);return(0,r.useEffect)(()=>{o||a({params:e})},[]),{customer:o,isLoading:u&&!o,error:c,refetch:async()=>{await a({params:e})},createEntity:i.entities.create}}},383981:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({compareParams:()=>s});var s=(e,t)=>{if(e===t)return!0;if(null===e||null===t||"object"!=typeof e||"object"!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,i)=>s(e,t[i]));let i=Object.keys(e),r=Object.keys(t);return i.length===r.length&&i.every(i=>!!Object.prototype.hasOwnProperty.call(t,i)&&s(e[i],t[i]))}},335185:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useEntity:()=>a});var s=e.i(383981),r=e.i(271252),n=e.i(838653),a=(e,t)=>{let{entityProvider:i}=(0,r.useAutumnContext)(),{entity:a,isLoading:o,error:u,refetch:c,lastParams:l}=i;return(0,n.useEffect)(()=>{e===a?.id&&(0,s.compareParams)(t,l)||c({entityId:e,params:t})},[e]),{entity:a,isLoading:o&&!a,error:u,refetch:async t=>{await c({entityId:e,params:t})}}}},812381:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({usePricingTable:()=>a});var s=e.i(271252),r=e.i(838653),n=(e,t)=>{if(!e)return null;if(!t)return e;let i=structuredClone(e);for(let e of t){let t=i.findIndex(t=>t.id===e.id);if(-1==t){console.warn(`Product with id ${e.id} not found`);continue}i[t]={...i[t],...e}}return i},a=e=>{let{pricingTableProvider:t}=(0,s.useAutumnContext)(),{pricingTableProducts:i,isLoading:a,error:o,refetch:u}=t;return(0,r.useEffect)(()=>{i||u()},[i]),{products:n(i||void 0,e?.productDetails),isLoading:a&&!i,error:o,refetch:u}}},990900:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({usePricingTableProvider:()=>n});var s=e.i(912165),r=e.i(838653),n=({client:e})=>{let[t,i]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0),[o,u]=(0,r.useState)(null);return{pricingTableProducts:t,isLoading:n&&!t,error:o,refetch:async()=>{try{a(!0);let{data:t,error:s}=await e.getPricingTable();s?(u(s),i(null)):(i(t?.list||[]),u(null))}catch(e){u(new s.AutumnError({message:"Failed to fetch pricing table products",code:"failed_to_fetch_pricing_table_products"})),i(null)}finally{a(!1)}}}}},811105:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useCustomerProvider:()=>r});var s=e.i(838653);function r(e){let[t,i]=(0,s.useState)({}),r=(0,s.useRef)({}),n=e=>JSON.stringify(e||{}),a=async({params:t,errorOnNotFound:s=!0})=>{let a=n(t);if(r.current[a])return;r.current[a]=!0,i(e=>({...e,[a]:{...e[a]||{customer:null},isLoading:!0,error:null}}));let{data:o,error:u}=await e.createCustomer({expand:t?.expand,errorOnNotFound:s}),c={customer:o,isLoading:!1,error:u};i(e=>({...e,[a]:c})),r.current[a]=!1},o=async()=>{try{let e=[];for(let i of Object.keys(t))e.push(a({params:JSON.parse(i)}));await Promise.all(e)}catch(e){console.error("Failed to refetch customer (useCustomerProvider)"),console.error(e)}};return{getState:e=>{let i=n(e);return t[i]?t[i]:{customer:null,isLoading:!0,error:null}},refetch:a,refetchFirstTwo:o}}},390822:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useDialog:()=>r});var s=e.i(838653),r=e=>{let[t,i]=(0,s.useState)(null),[r,n]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{r||setTimeout(()=>{i(null)},200)},[r]),[t,i,r,n]}},937519:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({useEntityProvider:()=>n});var s=e.i(912165),r=e.i(838653),n=({client:e})=>{let[t,i]=(0,r.useState)(null),[n,a]=(0,r.useState)(null),[o,u]=(0,r.useState)(!0),[c,l]=(0,r.useState)(null);return{entity:t,isLoading:o,error:n,refetch:async({entityId:t,params:r})=>{if(!t)return void console.warn("(Autumn) No entity ID provided in useEntity hook");u(!0),l(r||null);try{let{data:s,error:n}=await e.entities.get(t,r);n?(a(n),i(null)):(i(s),a(null))}catch(e){a(new s.AutumnError({message:e?.message||"Failed to fetch entity",code:"entity_fetch_failed"}))}u(!1)},lastParams:c}}},75682:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({BaseAutumnProvider:()=>l});var s=e.i(990900),r=e.i(811105),n=e.i(390822),a=e.i(937519),o=e.i(271252),u=e.i(838653),c=e.i(731636);function l({client:e,children:t}){let[i,l]=(0,u.useState)({}),[h,d,f,p]=(0,n.useDialog)(i.paywallDialog),[y,m,v,g]=(0,n.useDialog)(i.productChangeDialog),b=(0,r.useCustomerProvider)(e),w=(0,a.useEntityProvider)({client:e}),{pricingTableProducts:C,isLoading:P,error:S,refetch:O}=(0,s.usePricingTableProvider)({client:e});return(0,u.useEffect)(()=>{b.refetch({errorOnNotFound:!1})},[]),(0,c.jsxs)(o.AutumnContext.Provider,{value:{customerProvider:b,entityProvider:w,pricingTableProvider:{pricingTableProducts:C,isLoading:P,error:S,refetch:O},client:e,paywallDialog:{props:h,setProps:d,open:f,setOpen:p,setComponent:e=>{l({...i,paywallDialog:e})}},prodChangeDialog:{props:y,setProps:m,open:v,setOpen:g,setComponent:e=>{l({...i,productChangeDialog:e})}}},children:[i.paywallDialog&&(0,c.jsx)(i.paywallDialog,{open:f,setOpen:p,...h}),i.productChangeDialog&&(0,c.jsx)(i.productChangeDialog,{open:v,setOpen:g,...y}),t]})}},318573:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({ReactAutumnProvider:()=>a});var s=e.i(75682),r=e.i(637673),n=e.i(731636),a=({children:e,getBearerToken:t,backendUrl:i,customerData:a,includeCredentials:o=!0})=>{let u=new r.AutumnClient({backendUrl:i,getBearerToken:t,customerData:a,includeCredentials:o});return(0,n.jsx)(s.BaseAutumnProvider,{client:u,children:e})}},790802:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({}),e.i(453964),e.i(78431),e.i(335185),e.i(383981),e.i(812381),e.i(318573),e.i(75682),e.i(990900),e.i(811105),e.i(390822),e.i(937519),e.i(271252),e.i(637673),e.i(980655),e.i(912165),e.i(236092),e.i(288941),e.i(183545),e.i(923616)},841537:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({}),e.i(453964),e.i(78431),e.i(335185),e.i(383981),e.i(812381),e.i(318573),e.i(75682),e.i(990900),e.i(811105),e.i(390822),e.i(937519),e.i(271252),e.i(637673),e.i(980655),e.i(912165),e.i(236092),e.i(288941),e.i(183545),e.i(923616),e.i(790802)},992051:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({Analytics:()=>p});var s=e.i(922271),r=e.i(838653),n=e.i(555366),a=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function o(){return"undefined"!=typeof window}function u(){return"production"}function c(){return"development"===((o()?window.vam:u())||"production")}function l(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function h(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!o())return;!function(e="auto"){if("auto"===e){window.vam=u();return}window.vam=e}(e.mode),a(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let i=e.scriptSrc?e.scriptSrc:c()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${i}"]`))return;let s=document.createElement("script");s.src=i,s.defer=!0,s.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),s.dataset.sdkv="1.5.0",e.disableAutoTrack&&(s.dataset.disableAutoTrack="1"),e.endpoint?s.dataset.endpoint=e.endpoint:e.basePath&&(s.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(s.dataset.dsn=e.dsn),s.onerror=()=>{let e=c()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${i}. ${e}`)},c()&&!1===e.debug&&(s.dataset.debug="false"),document.head.appendChild(s)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==s.default&&void 0!==s.default.env)return s.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var i;null==(i=window.va)||i.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}var d=()=>{let e=(0,n.useParams)(),t=(0,n.useSearchParams)(),i=(0,n.usePathname)();return e?{route:function(e,t){if(!e||!t)return e;let i=e;try{let e=Object.entries(t);for(let[t,s]of e)if(!Array.isArray(s)){let e=l(s);e.test(i)&&(i=i.replace(e,`/[${t}]`))}for(let[t,s]of e)if(Array.isArray(s)){let e=l(s.join("/"));e.test(i)&&(i=i.replace(e,`/[...${t}]`))}return i}catch(t){return e}}(i,Object.keys(e).length?e:Object.fromEntries(t.entries())),path:i}:{route:null,path:i}};function f(e){let{route:t,path:i}=d();return r.default.createElement(h,{path:i,route:t,...e,basePath:function(){if(void 0!==s.default&&void 0!==s.default.env)return s.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function p(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(f,{...e}))}},741126:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({AutumnProvider:()=>o.ReactAutumnProvider,useAutumn:()=>s.useAutumn,useCustomer:()=>r.useCustomer,useEntity:()=>n.useEntity,usePricingTable:()=>a.usePricingTable});var s=e.i(453964),r=e.i(78431),n=e.i(335185),a=e.i(812381),o=e.i(318573);e.i(790802)},131080:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({AutumnProvider:()=>s.AutumnProvider,useAutumn:()=>s.useAutumn,useCustomer:()=>s.useCustomer,useEntity:()=>s.useEntity,usePricingTable:()=>s.usePricingTable}),e.i(841537);var s=e.i(741126)},317349:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({ReactQueryDevtools:()=>s,ReactQueryDevtoolsPanel:()=>r}),e.i(922271);var s=function(){return null},r=function(){return null}},47657:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({QueryCache:()=>o});var s=e.i(445897),r=e.i(82907),n=e.i(180431),a=e.i(741775),o=class extends a.Subscribable{constructor(e={}){super(),this.config=e,this.#y=new Map}#y;build(e,t,i){let n=t.queryKey,a=t.queryHash??(0,s.hashQueryKeyByOptions)(n,t),o=this.get(a);return o||(o=new r.Query({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#y.has(e.queryHash)||(this.#y.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#y.get(e.queryHash);t&&(e.destroy(),t===e&&this.#y.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#y.get(e)}getAll(){return[...this.#y.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,s.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,s.matchQuery)(e,t)):t}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}},712766:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({MutationCache:()=>o});var s=e.i(180431),r=e.i(305632),n=e.i(445897),a=e.i(741775),o=class extends a.Subscribable{constructor(e={}){super(),this.config=e,this.#m=new Set,this.#v=new Map,this.#g=0}#m;#v;#g;build(e,t,i){let s=new r.Mutation({mutationCache:this,mutationId:++this.#g,options:e.defaultMutationOptions(t),state:i});return this.add(s),s}add(e){this.#m.add(e);let t=u(e);if("string"==typeof t){let i=this.#v.get(t);i?i.push(e):this.#v.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#m.delete(e)){let t=u(e);if("string"==typeof t){let i=this.#v.get(t);if(i)if(i.length>1){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}else i[0]===e&&this.#v.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=u(e);if("string"!=typeof t)return!0;{let i=this.#v.get(t),s=i?.find(e=>"pending"===e.state.status);return!s||s===e}}runNext(e){let t=u(e);if("string"!=typeof t)return Promise.resolve();{let i=this.#v.get(t)?.find(t=>t!==e&&t.state.isPaused);return i?.continue()??Promise.resolve()}}clear(){s.notifyManager.batch(()=>{this.#m.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#m.clear(),this.#v.clear()})}getAll(){return Array.from(this.#m)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.matchMutation)(e,t))}notify(e){s.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return s.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.noop))))}};function u(e){return e.options.scope?.id}},391323:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({hasNextPage:()=>o,hasPreviousPage:()=>u,infiniteQueryBehavior:()=>r});var s=e.i(445897);function r(e){return{onFetch:(t,i)=>{let r=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],c=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},h=0,d=async()=>{let i=!1,d=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?i=!0:t.signal.addEventListener("abort",()=>{i=!0}),t.signal)})},f=(0,s.ensureQueryFn)(t.options,t.fetchOptions),p=async(e,r,n)=>{if(i)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let a=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:n?"backward":"forward",meta:t.options.meta};return d(e),e})(),o=await f(a),{maxPages:u}=t.options,c=n?s.addToStart:s.addToEnd;return{pages:c(e.pages,o,u),pageParams:c(e.pageParams,r,u)}};if(o&&u.length){let e="backward"===o,t={pages:u,pageParams:c},i=(e?a:n)(r,t);l=await p(t,i,e)}else{let t=e??u.length;do{let e=0===h?c[0]??r.initialPageParam:n(r,l);if(h>0&&null==e)break;l=await p(l,e),h++}while(h<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i):t.fetchFn=d}}}function n(e,{pages:t,pageParams:i}){let s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,i[s],i):void 0}function a(e,{pages:t,pageParams:i}){return t.length>0?e.getPreviousPageParam?.(t[0],t,i[0],i):void 0}function o(e,t){return!!t&&null!=n(e,t)}function u(e,t){return!!t&&!!e.getPreviousPageParam&&null!=a(e,t)}},40791:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({QueryClient:()=>l});var s=e.i(445897),r=e.i(47657),n=e.i(712766),a=e.i(947011),o=e.i(578e3),u=e.i(180431),c=e.i(391323),l=class{#b;#p;#l;#w;#C;#P;#S;#O;constructor(e={}){this.#b=e.queryCache||new r.QueryCache,this.#p=e.mutationCache||new n.MutationCache,this.#l=e.defaultOptions||{},this.#w=new Map,this.#C=new Map,this.#P=0}mount(){this.#P++,1===this.#P&&(this.#S=a.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onFocus())}),this.#O=o.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#b.onOnline())}))}unmount(){this.#P--,0===this.#P&&(this.#S?.(),this.#S=void 0,this.#O?.(),this.#O=void 0)}isFetching(e){return this.#b.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),i=this.#b.build(this,t),r=i.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime((0,s.resolveStaleTime)(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#b.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,i){let r=this.defaultQueryOptions({queryKey:e}),n=this.#b.get(r.queryHash),a=n?.state.data,o=(0,s.functionalUpdate)(t,a);if(void 0!==o)return this.#b.build(this,r).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return u.notifyManager.batch(()=>this.#b.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,i)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#b.get(t.queryHash)?.state}removeQueries(e){let t=this.#b;u.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let i=this.#b;return u.notifyManager.batch(()=>(i.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let i={revert:!0,...t};return Promise.all(u.notifyManager.batch(()=>this.#b.findAll(e).map(e=>e.cancel(i)))).then(s.noop).catch(s.noop)}invalidateQueries(e,t={}){return u.notifyManager.batch(()=>(this.#b.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let i={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(u.notifyManager.batch(()=>this.#b.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(s.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(s.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let i=this.#b.build(this,t);return i.isStaleByTime((0,s.resolveStaleTime)(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(s.noop).catch(s.noop)}fetchInfiniteQuery(e){return e.behavior=(0,c.infiniteQueryBehavior)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(s.noop).catch(s.noop)}ensureInfiniteQueryData(e){return e.behavior=(0,c.infiniteQueryBehavior)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return o.onlineManager.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#p}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#w.set((0,s.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#w.values()],i={};return t.forEach(t=>{(0,s.partialMatchKey)(e,t.queryKey)&&Object.assign(i,t.defaultOptions)}),i}setMutationDefaults(e,t){this.#C.set((0,s.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#C.values()],i={};return t.forEach(t=>{(0,s.partialMatchKey)(e,t.mutationKey)&&Object.assign(i,t.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,s.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===s.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#b.clear(),this.#p.clear()}}},989071:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({queryClient:()=>t});let t=new(e.i(40791)).QueryClient({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:3,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{retry:1}}})}},744448:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({QueryProvider:()=>a}),e.i(922271);var s=e.i(731636),r=e.i(628662);e.i(317349);var n=e.i(989071);function a({children:e}){return(0,s.jsxs)(r.QueryClientProvider,{client:n.queryClient,children:[e,!1]})}}}]);

//# sourceMappingURL=cddf17bd6627383f.js.map