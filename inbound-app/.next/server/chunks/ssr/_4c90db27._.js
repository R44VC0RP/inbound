module.exports={184689:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getWebhooks:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("0033509ad366aa6a87e952e2313e6ac9178e219542",d.callServer,void 0,d.findSourceMapURL,"getWebhooks")},669883:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useWebhooksQuery:()=>b});var d=a.i(18337),e=a.i(184689);let b=()=>(0,d.useQuery)({queryKey:["webhooks"],queryFn:async()=>{let a=await (0,e.getWebhooks)();if(!a.success)throw Error(a.error);return a.webhooks},staleTime:3e5,gcTime:6e5})}},633644:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({createWebhook:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("40ac5c1f5a73f51e037883eba8504686a1e492c7ab",d.callServer,void 0,d.findSourceMapURL,"createWebhook")},891739:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useCreateWebhookMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(754563),g=a.i(633644);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:async a=>{let b=await (0,g.createWebhook)(a);if(!b.success)throw Error(b.error);return b.webhook},onSuccess:b=>{(0,f.track)("Webhook Created",{webhookName:b.name,webhookId:b.id,webhookUrl:b.url}),a.invalidateQueries({queryKey:["webhooks"]}),a.setQueryData(["webhooks"],a=>a?[...a,b]:[b])},onError:a=>{console.error("Error creating webhook:",a)}})}}},989199:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({updateWebhook:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("6059f1634f6dfc74054b84ae414c11596cceeb4c6e",d.callServer,void 0,d.findSourceMapURL,"updateWebhook")},32445:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useUpdateWebhookMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(989199);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:async({id:a,data:b})=>{let c=await (0,f.updateWebhook)(a,b);if(!c.success)throw Error(c.error);return c.webhook},onMutate:async({id:b,data:c})=>{await a.cancelQueries({queryKey:["webhooks"]});let d=a.getQueryData(["webhooks"]);return a.setQueryData(["webhooks"],a=>a?a.map(a=>a.id===b?{...a,...c,updatedAt:new Date}:a):a),{previousWebhooks:d}},onError:(b,c,d)=>{d?.previousWebhooks&&a.setQueryData(["webhooks"],d.previousWebhooks)},onSettled:()=>{a.invalidateQueries({queryKey:["webhooks"]})}})}}},183656:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({deleteWebhook:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("40678defcdd6d1be0653983f7df2baf1cbbfbc5edc",d.callServer,void 0,d.findSourceMapURL,"deleteWebhook")},384086:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useDeleteWebhookMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(754563),g=a.i(183656);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:async a=>{let b=await (0,g.deleteWebhook)(a);if(!b.success)throw Error(b.error);return(0,f.track)("Webhook Deleted",{webhookId:a}),b},onMutate:async b=>{await a.cancelQueries({queryKey:["webhooks"]});let c=a.getQueryData(["webhooks"]);return a.setQueryData(["webhooks"],a=>a?a.filter(a=>a.id!==b):a),{previousWebhooks:c}},onError:(b,c,d)=>{d?.previousWebhooks&&a.setQueryData(["webhooks"],d.previousWebhooks)},onSettled:()=>{a.invalidateQueries({queryKey:["webhooks"]})}})}}},356027:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({testWebhook:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("400605f8cc72befca4c1d670ad479a8708cca3a3e0",d.callServer,void 0,d.findSourceMapURL,"testWebhook")},211765:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({useTestWebhookMutation:()=>b});var d=a.i(513929),e=a.i(378727),f=a.i(356027);let b=()=>{let a=(0,e.useQueryClient)();return(0,d.useMutation)({mutationFn:async a=>{let b=await (0,f.testWebhook)(a);if(!b.success)throw Error(b.error);return b},onSuccess:()=>{a.invalidateQueries({queryKey:["webhooks"]})},onError:a=>{console.error("Error testing webhook:",a)}})}}},100570:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(669883),a.i(891739),a.i(32445),a.i(384086),a.i(211765)},129808:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(669883),a.i(891739),a.i(32445),a.i(384086),a.i(211765),a.i(100570)},424437:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({CreateWebhookDialog:()=>q});var d=a.i(674420),e=a.i(722851);a.i(129808);var f=a.i(891739),g=a.i(232997),h=a.i(378903),i=a.i(668018),j=a.i(386483),k=a.i(487085),l=a.i(238769),m=a.i(300096),n=a.i(58901),o=a.i(483182),p=a.i(323772);function q({open:a,onOpenChange:b}){let[c,q]=(0,e.useState)({name:"",url:"",description:"",timeout:30,retryAttempts:3,headers:{}}),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)({}),x=(0,f.useCreateWebhookMutation)();(0,e.useEffect)(()=>{let b=a=>{(a.metaKey||a.ctrlKey)&&"Enter"===a.key&&(a.preventDefault(),!x.isPending&&y()&&z(a))};return a&&document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,x.isPending,c]);let y=()=>{let a={};if(c.name.trim()||(a.name="Name is required"),c.url.trim())try{new URL(c.url)}catch{a.url="Please enter a valid URL"}else a.url="URL is required";return c.timeout&&(c.timeout<1||c.timeout>300)&&(a.timeout="Timeout must be between 1 and 300 seconds"),c.retryAttempts&&(c.retryAttempts<0||c.retryAttempts>10)&&(a.retryAttempts="Retry attempts must be between 0 and 10"),w(a),0===Object.keys(a).length},z=async a=>{if(a.preventDefault(),y())try{await x.mutateAsync(c),p.toast.success("Webhook created successfully!"),A()}catch(a){p.toast.error(a instanceof Error?a.message:"Failed to create webhook")}},A=()=>{q({name:"",url:"",description:"",timeout:30,retryAttempts:3,headers:{}}),s(""),u(""),w({}),b(!1)},B=()=>{r.trim()&&t.trim()&&(q(a=>({...a,headers:{...a.headers,[r.trim()]:t.trim()}})),s(""),u(""))},C=a=>{q(b=>{let c={...b.headers};return delete c[a],{...b,headers:c}})};return(0,d.jsx)(g.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(g.DialogContent,{className:"sm:max-w-md",children:[(0,d.jsx)(g.DialogHeader,{children:(0,d.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-100",children:(0,d.jsx)(m.default,{width:"16",height:"16",className:"text-purple-600"})}),"Create New Webhook"]})}),(0,d.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"name",children:"Name *"}),(0,d.jsx)(i.Input,{id:"name",value:c.name,onChange:a=>q(b=>({...b,name:a.target.value})),placeholder:"Production Webhook",className:v.name?"border-red-500":""}),v.name&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:v.name})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"url",children:"URL *"}),(0,d.jsx)(i.Input,{id:"url",type:"url",value:c.url,onChange:a=>q(b=>({...b,url:a.target.value})),placeholder:"https://your-app.com/webhooks/inbound",className:v.url?"border-red-500":""}),v.url&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:v.url})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"description",children:"Description"}),(0,d.jsx)(k.Textarea,{id:"description",value:c.description||"",onChange:a=>q(b=>({...b,description:a.target.value})),placeholder:"Optional description of this webhook's purpose",rows:2})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"timeout",children:"Timeout (seconds)"}),(0,d.jsx)(i.Input,{id:"timeout",type:"number",min:"1",max:"300",value:c.timeout||"",onChange:a=>q(b=>({...b,timeout:parseInt(a.target.value)||30})),className:v.timeout?"border-red-500":""}),v.timeout&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:v.timeout})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"retryAttempts",children:"Retry Attempts"}),(0,d.jsx)(i.Input,{id:"retryAttempts",type:"number",min:"0",max:"10",value:c.retryAttempts||"",onChange:a=>q(b=>({...b,retryAttempts:parseInt(a.target.value)||3})),className:v.retryAttempts?"border-red-500":""}),v.retryAttempts&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:v.retryAttempts})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{children:"Custom Headers"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(i.Input,{placeholder:"Header name",value:r,onChange:a=>s(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),B())}),(0,d.jsx)(i.Input,{placeholder:"Header value",value:t,onChange:a=>u(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),B())}),(0,d.jsx)(h.Button,{type:"button",variant:"secondary",size:"sm",onClick:B,disabled:!r.trim()||!t.trim(),children:(0,d.jsx)(o.default,{width:"16",height:"16"})})]}),Object.entries(c.headers||{}).length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(c.headers||{}).map(([a,b])=>(0,d.jsxs)(l.Badge,{variant:"secondary",className:"text-xs",children:[a,": ",b,(0,d.jsx)("button",{type:"button",onClick:()=>C(a),className:"ml-1 hover:text-red-500",children:(0,d.jsx)(n.default,{width:"12",height:"12"})})]},a))})]})]}),(0,d.jsxs)(g.DialogFooter,{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to submit"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Button,{variant:"secondary",onClick:A,children:"Cancel"}),(0,d.jsx)(h.Button,{onClick:z,disabled:x.isPending,className:"bg-purple-600 hover:bg-purple-700",children:x.isPending?"Creating...":"Create Webhook"})]})]})]})})}},924537:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({EditWebhookDialog:()=>r});var d=a.i(674420),e=a.i(722851);a.i(129808);var f=a.i(32445),g=a.i(232997),h=a.i(378903),i=a.i(668018),j=a.i(386483),k=a.i(487085),l=a.i(238769),m=a.i(974137),n=a.i(342064),o=a.i(58901),p=a.i(483182),q=a.i(323772);function r({open:a,onOpenChange:b,webhook:c}){let[r,s]=(0,e.useState)({name:"",url:"",description:"",isActive:!0,timeout:30,retryAttempts:3,headers:{}}),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)({}),z=(0,f.useUpdateWebhookMutation)();(0,e.useEffect)(()=>{let b=a=>{(a.metaKey||a.ctrlKey)&&"Enter"===a.key&&(a.preventDefault(),!z.isPending&&c&&A()&&B(a))};return a&&document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,z.isPending,c,r]),(0,e.useEffect)(()=>{if(c){let a={};if(c.headers)try{a=JSON.parse(c.headers)}catch(a){console.error("Failed to parse webhook headers:",a)}s({name:c.name,url:c.url,description:c.description||"",isActive:c.isActive??!0,timeout:c.timeout||30,retryAttempts:c.retryAttempts||3,headers:a})}},[c]);let A=()=>{let a={};if(r.name?.trim()||(a.name="Name is required"),r.url?.trim())try{new URL(r.url)}catch{a.url="Please enter a valid URL"}else a.url="URL is required";return r.timeout&&(r.timeout<1||r.timeout>300)&&(a.timeout="Timeout must be between 1 and 300 seconds"),r.retryAttempts&&(r.retryAttempts<0||r.retryAttempts>10)&&(a.retryAttempts="Retry attempts must be between 0 and 10"),y(a),0===Object.keys(a).length},B=async a=>{if(a.preventDefault(),c&&A())try{await z.mutateAsync({id:c.id,data:r}),q.toast.success("Webhook updated successfully!"),C()}catch(a){q.toast.error(a instanceof Error?a.message:"Failed to update webhook")}},C=()=>{u(""),w(""),y({}),b(!1)},D=()=>{t.trim()&&v.trim()&&(s(a=>({...a,headers:{...a.headers,[t.trim()]:v.trim()}})),u(""),w(""))},E=a=>{s(b=>{let c={...b.headers};return delete c[a],{...b,headers:c}})};return c?(0,d.jsx)(g.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(g.DialogContent,{className:"sm:max-w-md",children:[(0,d.jsx)(g.DialogHeader,{children:(0,d.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100",children:(0,d.jsx)(n.default,{width:"16",height:"16",className:"text-blue-600"})}),"Edit Webhook"]})}),(0,d.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(j.Label,{className:"text-sm font-medium",children:"Status"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:"Enable or disable this webhook"})]}),(0,d.jsx)(m.Switch,{checked:r.isActive,onCheckedChange:a=>s(b=>({...b,isActive:a}))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"name",children:"Name *"}),(0,d.jsx)(i.Input,{id:"name",value:r.name||"",onChange:a=>s(b=>({...b,name:a.target.value})),placeholder:"Production Webhook",className:x.name?"border-red-500":""}),x.name&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:x.name})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"url",children:"URL *"}),(0,d.jsx)(i.Input,{id:"url",type:"url",value:r.url||"",onChange:a=>s(b=>({...b,url:a.target.value})),placeholder:"https://your-app.com/webhooks/inbound",className:x.url?"border-red-500":""}),x.url&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:x.url})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"description",children:"Description"}),(0,d.jsx)(k.Textarea,{id:"description",value:r.description||"",onChange:a=>s(b=>({...b,description:a.target.value})),placeholder:"Optional description of this webhook's purpose",rows:2})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"timeout",children:"Timeout (seconds)"}),(0,d.jsx)(i.Input,{id:"timeout",type:"number",min:"1",max:"300",value:r.timeout||"",onChange:a=>s(b=>({...b,timeout:parseInt(a.target.value)||30})),className:x.timeout?"border-red-500":""}),x.timeout&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:x.timeout})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{htmlFor:"retryAttempts",children:"Retry Attempts"}),(0,d.jsx)(i.Input,{id:"retryAttempts",type:"number",min:"0",max:"10",value:r.retryAttempts||"",onChange:a=>s(b=>({...b,retryAttempts:parseInt(a.target.value)||3})),className:x.retryAttempts?"border-red-500":""}),x.retryAttempts&&(0,d.jsx)("p",{className:"text-sm text-red-500",children:x.retryAttempts})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(j.Label,{children:"Custom Headers"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(i.Input,{placeholder:"Header name",value:t,onChange:a=>u(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),D())}),(0,d.jsx)(i.Input,{placeholder:"Header value",value:v,onChange:a=>w(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),D())}),(0,d.jsx)(h.Button,{type:"button",variant:"secondary",size:"sm",onClick:D,disabled:!t.trim()||!v.trim(),children:(0,d.jsx)(p.default,{width:"16",height:"16"})})]}),Object.entries(r.headers||{}).length>0&&(0,d.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(r.headers||{}).map(([a,b])=>(0,d.jsxs)(l.Badge,{variant:"secondary",className:"text-xs",children:[a,": ",b,(0,d.jsx)("button",{type:"button",onClick:()=>E(a),className:"ml-1 hover:text-red-500",children:(0,d.jsx)(o.default,{width:"12",height:"12"})})]},a))})]})]}),(0,d.jsxs)(g.DialogFooter,{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to submit"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Button,{variant:"secondary",onClick:C,children:"Cancel"}),(0,d.jsx)(h.Button,{onClick:B,disabled:z.isPending,className:"bg-blue-600 hover:bg-blue-700",children:z.isPending?"Updating...":"Update Webhook"})]})]})]})}):null}},296421:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({DeleteWebhookDialog:()=>k});var d=a.i(674420),e=a.i(722851);a.i(129808);var f=a.i(384086),g=a.i(232997),h=a.i(378903),i=a.i(164929),j=a.i(323772);function k({open:a,onOpenChange:b,webhook:c}){let k=(0,f.useDeleteWebhookMutation)();(0,e.useEffect)(()=>{let b=a=>{(a.metaKey||a.ctrlKey)&&"Enter"===a.key&&(a.preventDefault(),!k.isPending&&c&&l())};return a&&document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,k.isPending,c]);let l=async()=>{if(c)try{await k.mutateAsync(c.id),j.toast.success("Webhook deleted successfully!"),b(!1)}catch(a){j.toast.error(a instanceof Error?a.message:"Failed to delete webhook")}};return c?(0,d.jsx)(g.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(g.DialogContent,{className:"sm:max-w-md",children:[(0,d.jsx)(g.DialogHeader,{children:(0,d.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-red-100",children:(0,d.jsx)(i.default,{width:"16",height:"16",className:"text-red-600"})}),"Delete Webhook"]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(i.default,{width:"20",height:"20",className:"text-red-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"This action cannot be undone"}),(0,d.jsx)("p",{className:"text-sm text-red-700",children:"Deleting this webhook will permanently remove it and stop all email deliveries to this endpoint."})]})]})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"You are about to delete the webhook:"}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[(0,d.jsx)("div",{className:"font-medium text-gray-900",children:c.name}),(0,d.jsx)("div",{className:"text-sm text-gray-600 font-mono",children:c.url}),c.description&&(0,d.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:c.description})]})]}),c.totalDeliveries&&c.totalDeliveries>0&&(0,d.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,d.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,d.jsx)("strong",{children:"Note:"})," This webhook has delivered ",c.totalDeliveries," emails. Make sure you have updated any email addresses that use this webhook."]})}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Type the webhook name ",(0,d.jsx)("strong",{children:c.name})," to confirm deletion:"]}),(0,d.jsx)("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:c.name,onChange:a=>{}})]}),(0,d.jsxs)(g.DialogFooter,{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to delete"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Button,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),(0,d.jsx)(h.Button,{onClick:l,disabled:k.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:k.isPending?"Deleting...":"Delete Webhook"})]})]})]})}):null}},887455:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({TestWebhookDialog:()=>p});var d=a.i(674420),e=a.i(722851);a.i(129808);var f=a.i(211765),g=a.i(232997),h=a.i(378903),i=a.i(238769),j=a.i(49641),k=a.i(195743),l=a.i(58901),m=a.i(180214),n=a.i(164929),o=a.i(323772);function p({open:a,onOpenChange:b,webhook:c}){let[p,q]=(0,e.useState)(null),[r,s]=(0,e.useState)([]),t=(0,f.useTestWebhookMutation)();(0,e.useEffect)(()=>{let b=a=>{(a.metaKey||a.ctrlKey)&&"Enter"===a.key&&(a.preventDefault(),!t.isPending&&c&&c.isActive&&u())};return a&&document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[a,t.isPending,c]);let u=async()=>{if(c)try{let a=await t.mutateAsync(c.id),b={...a,timestamp:new Date};q(b),s(a=>[b,...a.slice(0,4)]),a.success?o.toast.success("Webhook test successful!"):o.toast.error("Webhook test failed")}catch(b){let a={success:!1,error:b instanceof Error?b.message:"Test failed",timestamp:new Date};q(a),s(b=>[a,...b.slice(0,4)]),o.toast.error("Webhook test failed")}},v=a=>a.success?(0,d.jsx)(k.default,{width:"16",height:"16",className:"text-green-600"}):(0,d.jsx)(l.default,{width:"16",height:"16",className:"text-red-600"}),w=a=>a.success?(0,d.jsxs)(i.Badge,{className:"bg-green-500 text-white text-xs",children:["Success ",a.statusCode&&`(${a.statusCode})`]}):(0,d.jsxs)(i.Badge,{className:"bg-red-500 text-white text-xs",children:["Failed ",a.statusCode&&`(${a.statusCode})`]});return c?(0,d.jsx)(g.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(g.DialogContent,{className:"sm:max-w-lg",children:[(0,d.jsx)(g.DialogHeader,{children:(0,d.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100",children:(0,d.jsx)(j.default,{width:"16",height:"16",className:"text-blue-600"})}),"Test Webhook"]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:c.name}),(0,d.jsx)("p",{className:"text-sm text-gray-600 font-mono break-all",children:c.url}),c.description&&(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:c.description})]}),(0,d.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(n.default,{width:"20",height:"20",className:"text-blue-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Test Delivery"}),(0,d.jsx)("p",{className:"text-sm text-blue-700",children:"This will send a test payload to your webhook endpoint to verify it's working correctly."})]})]})}),p&&(0,d.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[v(p),"Latest Test Result"]}),w(p)]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Timestamp:"}),(0,d.jsx)("span",{className:"text-gray-900",children:p.timestamp.toLocaleString()})]}),p.statusCode&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Status Code:"}),(0,d.jsx)("span",{className:"text-gray-900",children:p.statusCode})]}),p.responseTime&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Response Time:"}),(0,d.jsxs)("span",{className:"text-gray-900",children:[p.responseTime,"ms"]})]}),p.message&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Message:"}),(0,d.jsx)("p",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono",children:p.message})]}),p.error&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Error:"}),(0,d.jsx)("p",{className:"text-red-600 mt-1 p-2 bg-red-50 rounded text-xs",children:p.error})]}),p.responseBody&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Response Body:"}),(0,d.jsx)("pre",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:p.responseBody})]}),p.responseHeaders&&Object.keys(p.responseHeaders).length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Response Headers:"}),(0,d.jsx)("pre",{className:"text-gray-900 mt-1 p-2 bg-gray-50 rounded text-xs font-mono overflow-x-auto",children:JSON.stringify(p.responseHeaders,null,2)})]}),p.details&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Additional Details:"}),(0,d.jsxs)("div",{className:"mt-1 p-2 bg-gray-50 rounded text-xs",children:[p.details.url&&(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"URL:"})," ",p.details.url]}),p.details.timeout&&(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Timeout:"})," ",p.details.timeout,"s"]}),p.details.errorType&&(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Error Type:"})," ",p.details.errorType]}),p.details.statusText&&(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Status Text:"})," ",p.details.statusText]}),p.details.originalError&&(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Original Error:"})," ",p.details.originalError]})]})]})]})]}),r.length>1&&(0,d.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Recent Tests"}),(0,d.jsx)("div",{className:"space-y-2",children:r.slice(1).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[v(a),(0,d.jsx)("span",{className:"text-sm text-gray-600",children:a.timestamp.toLocaleTimeString()})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[a.statusCode&&(0,d.jsx)("span",{className:"text-xs text-gray-500",children:a.statusCode}),w(a)]})]},b))})]}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,d.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Test Payload Preview"}),(0,d.jsx)("pre",{className:"text-xs text-gray-600 overflow-x-auto",children:`{
  "event": "webhook_test",
  "timestamp": "${new Date().toISOString()}",
  "webhook_id": "${c.id}",
  "test": true,
  "data": {
    "message": "This is a test webhook delivery from Inbound"
  }
}`})]})]}),(0,d.jsxs)(g.DialogFooter,{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-gray-500",children:"Press Cmd+Enter to test"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Button,{variant:"secondary",onClick:()=>{q(null),b(!1)},children:"Close"}),(0,d.jsx)(h.Button,{onClick:u,disabled:t.isPending||!c.isActive,className:"bg-blue-600 hover:bg-blue-700",children:t.isPending?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.default,{width:"16",height:"16",className:"mr-2 animate-spin"}),"Testing..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.default,{width:"16",height:"16",className:"mr-2"}),"Send Test"]})})]})]})]})}):null}},141761:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(424437),a.i(924537),a.i(296421),a.i(887455)},361061:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(424437),a.i(924537),a.i(296421),a.i(887455),a.i(141761)},697393:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({Indicator:()=>v,Progress:()=>m,ProgressIndicator:()=>o,Root:()=>u,createProgressScope:()=>j});var d=a.i(722851),e=a.i(201496),f=a.i(558489),g=a.i(674420),h="Progress",[i,j]=(0,e.createContextScope)(h),[k,l]=i(h),m=(0,d.forwardRef)((a,b)=>{var c,d;let{__scopeProgress:e,value:h=null,max:i,getValueLabel:j=p,...l}=a;(i||0===i)&&!s(i)&&console.error((c=`${i}`,`Invalid prop \`max\` of value \`${c}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=s(i)?i:100;null===h||t(h,m)||console.error((d=`${h}`,`Invalid prop \`value\` of value \`${d}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let n=t(h,m)?h:null,o=r(n)?j(n,m):void 0;return(0,g.jsx)(k,{scope:e,value:n,max:m,children:(0,g.jsx)(f.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":r(n)?n:void 0,"aria-valuetext":o,role:"progressbar","data-state":q(n,m),"data-value":n??void 0,"data-max":m,...l,ref:b})})});m.displayName=h;var n="ProgressIndicator",o=(0,d.forwardRef)((a,b)=>{let{__scopeProgress:c,...d}=a,e=l(n,c);return(0,g.jsx)(f.Primitive.div,{"data-state":q(e.value,e.max),"data-value":e.value??void 0,"data-max":e.max,...d,ref:b})});function p(a,b){return`${Math.round(a/b*100)}%`}function q(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function r(a){return"number"==typeof a}function s(a){return r(a)&&!isNaN(a)&&a>0}function t(a,b){return r(a)&&!isNaN(a)&&a<=b&&a>=0}o.displayName=n;var u=m,v=o},556326:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Progress:()=>b});var d=a.i(674420),e=a.i(722851),f=a.i(697393),g=a.i(284103);let b=(0,e.forwardRef)(({className:a,value:b,...c},e)=>(0,d.jsx)(f.Root,{ref:e,className:(0,g.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a),...c,children:(0,d.jsx)(f.Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));b.displayName=f.Root.displayName}},719309:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("rect",{height:"14",width:"4",fill:a,rx:"1.75",ry:"1.75",x:"12.5",y:"2"}),(0,d.jsx)("rect",{height:"9",width:"4",fill:a,rx:"1.75",ry:"1.75",x:"7",y:"7"}),(0,d.jsx)("rect",{height:"5",width:"4",fill:a,rx:"1.75",ry:"1.75",x:"1.5",y:"11"}),(0,d.jsx)("path",{d:"M2.75,9.5c.192,0,.384-.073,.53-.22l4.72-4.72v.689c0,.414,.336,.75,.75,.75s.75-.336,.75-.75V2.75c0-.414-.336-.75-.75-.75h-2.5c-.414,0-.75,.336-.75,.75s.336,.75,.75,.75h.689L2.22,8.22c-.293,.293-.293,.768,0,1.061,.146,.146,.338,.22,.53,.22Z",fill:b})]})]})}}},87515:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"m11.25,11H.75c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h10.5c.414,0,.75.336.75.75s-.336.75-.75.75Z",fill:b,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m2.75,8.5c-.414,0-.75-.336-.75-.75v-3.5c0-.414.336-.75.75-.75s.75.336.75.75v3.5c0,.414-.336.75-.75.75Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m9.25,8.5c-.414,0-.75-.336-.75-.75v-1.5c0-.414.336-.75.75-.75s.75.336.75.75v1.5c0,.414-.336.75-.75.75Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m6,8.5c-.414,0-.75-.336-.75-.75V1.75c0-.414.336-.75.75-.75s.75.336.75.75v6c0,.414-.336.75-.75.75Z",fill:a,strokeWidth:"0"})]})]})}}},607540:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>E});var d=a.i(674420),e=a.i(722851);a.i(129808);var f=a.i(669883),g=a.i(211765);a.i(361061);var h=a.i(424437),i=a.i(924537),j=a.i(296421),k=a.i(887455),l=a.i(123546),m=a.i(238769),n=a.i(378903),o=a.i(556326),p=a.i(195743),q=a.i(58901),r=a.i(483182),s=a.i(188126),t=a.i(300096),u=a.i(719309),v=a.i(164929),w=a.i(316114),x=a.i(49641),y=a.i(342064),z=a.i(87515),A=a.i(816692),B=a.i(960830),C=a.i(566825),D=a.i(576104);function E(){let{data:a=[],isLoading:b,error:c,refetch:E}=(0,f.useWebhooksQuery)(),[F,G]=(0,e.useState)(null),H=(0,g.useTestWebhookMutation)(),[I,J]=(0,e.useState)(null),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(!1),S=async a=>{try{await navigator.clipboard.writeText(a),G(a),setTimeout(()=>G(null),2e3)}catch(a){console.error("Failed to copy URL:",a)}},T=a=>{J(a),R(!0)},U=a=>{J(a),N(!0)},V=a=>{J(a),P(!0)},W=a=>{if(!a.isActive)return(0,d.jsxs)(m.Badge,{className:"bg-gray-400 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,d.jsx)(q.default,{className:"w-3 h-3 mr-1"}),"Disabled"]});{let b=X(a);return 0===(a.totalDeliveries||0)?(0,d.jsxs)(m.Badge,{className:"bg-blue-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,d.jsx)(t.default,{className:"w-3 h-3 mr-1"}),"Ready"]}):b>=95?(0,d.jsxs)(m.Badge,{className:"bg-emerald-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,d.jsx)(p.default,{className:"w-3 h-3 mr-1"}),"Excellent"]}):b>=80?(0,d.jsxs)(m.Badge,{className:"bg-blue-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,d.jsx)(u.default,{className:"w-3 h-3 mr-1"}),"Good"]}):(0,d.jsxs)(m.Badge,{className:"bg-amber-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:[(0,d.jsx)(v.default,{className:"w-3 h-3 mr-1"}),"Needs Attention"]})}},X=a=>a.totalDeliveries?Math.round((a.successfulDeliveries||0)/a.totalDeliveries*100):0,Y=a=>{if(!a.isActive)return"#64748b";let b=X(a);return 0===(a.totalDeliveries||0)?"#3b82f6":b>=95?"#10b981":b>=80?"#3b82f6":"#f59e0b"},Z=a.length,$=a.filter(a=>a.isActive).length,_=a.reduce((a,b)=>a+(b.totalDeliveries||0),0),aa=a.reduce((a,b)=>a+(b.successfulDeliveries||0),0),ab=_>0?Math.round(aa/_*100):0;return b?(0,d.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,d.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsx)("div",{className:"text-muted-foreground",children:"Loading webhooks..."})})})}):c?(0,d.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,d.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,d.jsx)(l.Card,{className:"border-destructive/50 bg-destructive/10",children:(0,d.jsx)(l.CardContent,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,d.jsx)(q.default,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:c.message}),(0,d.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:()=>E(),className:"ml-auto text-destructive hover:text-destructive",children:"Try Again"})]})})})})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,d.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between bg-slate-900 text-white rounded-lg p-4 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-xl font-semibold mb-1",children:"Webhook Management"}),(0,d.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-300",children:[(0,d.jsxs)("span",{children:[Z," webhooks"]}),(0,d.jsxs)("span",{children:[$," active"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(t.default,{className:"h-3 w-3"}),_," deliveries"]}),_>0&&(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(u.default,{className:"h-3 w-3"}),ab,"% success rate"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(n.Button,{variant:"secondary",size:"sm",onClick:()=>E(),disabled:b,className:"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700",children:[(0,d.jsx)(s.default,{className:"h-3 w-3 mr-1"}),"Refresh"]}),(0,d.jsxs)(n.Button,{size:"sm",onClick:()=>L(!0),children:[(0,d.jsx)(r.default,{className:"h-3 w-3 mr-1"}),"Add Webhook"]})]})]}),_>0&&(0,d.jsx)(l.Card,{className:"bg-card border-border rounded-xl mb-6",children:(0,d.jsx)(l.CardContent,{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(z.default,{className:"h-4 w-4 text-muted-foreground"}),(0,d.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Performance Overview:"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:[_," total"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:[aa," successful"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,d.jsxs)("span",{className:"text-muted-foreground",children:[_-aa," failed"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-foreground",children:[ab,"%"]}),(0,d.jsx)("div",{className:"w-16",children:(0,d.jsx)(o.Progress,{value:ab,className:"h-1"})})]})]})})}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-1 tracking-tight",children:["Active Webhooks (",Z,")"]}),(0,d.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Manage your webhook endpoints and delivery settings"})]}),(0,d.jsx)("div",{className:"space-y-4",children:0===a.length?(0,d.jsx)(l.Card,{className:"bg-card border-border rounded-xl",children:(0,d.jsx)(l.CardContent,{className:"p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(C.CustomInboundIcon,{Icon:t.default,size:48,backgroundColor:"#8b5cf6",className:"mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"No webhooks configured"}),(0,d.jsxs)(n.Button,{variant:"secondary",onClick:()=>L(!0),children:[(0,d.jsx)(r.default,{className:"h-4 w-4 mr-2"}),"Add Your First Webhook"]})]})})}):a.map(a=>(0,d.jsx)(l.Card,{className:"bg-card border-border hover:bg-accent/5 transition-all duration-300 rounded-xl group",children:(0,d.jsx)(l.CardContent,{className:"p-0",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,d.jsx)(C.CustomInboundIcon,{Icon:t.default,size:36,backgroundColor:Y(a)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("h3",{className:"text-base font-semibold text-foreground tracking-tight truncate",children:a.name}),(0,d.jsx)(m.Badge,{className:"bg-purple-500 text-white rounded-full px-2.5 py-0.5 text-xs font-medium shadow-sm pointer-events-none",children:"Webhook"}),W(a)]}),(0,d.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[(0,d.jsx)("span",{className:"font-mono truncate",children:new URL(a.url).hostname}),(0,d.jsx)(n.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-all duration-200 p-1 h-auto hover:bg-accent rounded hover:scale-105 active:scale-95",onClick:()=>S(a.url),children:F===a.url?(0,d.jsx)(p.default,{className:"w-3.5 h-3.5 text-emerald-500"}):(0,d.jsx)(A.default,{className:"w-3.5 h-3.5 text-muted-foreground transition-all duration-150 hover:text-foreground"})})]}),a.secret&&(0,d.jsxs)("div",{className:"flex items-center space-x-1 text-green-600",children:[(0,d.jsx)(w.default,{className:"w-3 h-3"}),(0,d.jsx)("span",{className:"text-xs font-medium",children:"Secured"})]}),(a.totalDeliveries||0)>0&&(0,d.jsxs)("div",{className:"flex items-center space-x-1 text-muted-foreground",children:[(0,d.jsxs)("span",{className:"text-xs font-medium",children:[X(a),"% success"]}),(0,d.jsxs)("span",{className:"text-xs text-muted-foreground/70",children:["(",a.totalDeliveries," deliveries)"]})]}),a.description&&(0,d.jsx)("span",{className:"text-muted-foreground text-xs truncate",children:a.description}),(0,d.jsxs)("span",{className:"text-muted-foreground/70 text-xs",children:["Added ",a.createdAt?(0,D.formatDistanceToNow)(new Date(a.createdAt),{addSuffix:!0}):"recently"]})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(n.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>T(a),disabled:H.isPending,title:"Test webhook",children:(0,d.jsx)(x.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})}),(0,d.jsx)(n.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>U(a),title:"Configure webhook",children:(0,d.jsx)(y.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})}),(0,d.jsx)(n.Button,{variant:"ghost",size:"sm",className:"p-1.5 hover:bg-accent rounded-lg transition-colors",onClick:()=>V(a),title:"Delete webhook",children:(0,d.jsx)(B.default,{className:"w-4 h-4 text-muted-foreground hover:text-foreground"})})]})]})})})},a.id))})]})}),(0,d.jsx)(h.CreateWebhookDialog,{open:K,onOpenChange:L}),(0,d.jsx)(i.EditWebhookDialog,{open:M,onOpenChange:N,webhook:I}),(0,d.jsx)(j.DeleteWebhookDialog,{open:O,onOpenChange:P,webhook:I}),(0,d.jsx)(k.TestWebhookDialog,{open:Q,onOpenChange:R,webhook:I})]})}}};

//# sourceMappingURL=_4c90db27._.js.map