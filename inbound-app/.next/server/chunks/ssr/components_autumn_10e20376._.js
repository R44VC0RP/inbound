module.exports={304880:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({AnnualSwitch:()=>q,PricingCard:()=>n,PricingCardButton:()=>p,PricingFeatureList:()=>o,PricingTable:()=>m,RecommendedBadge:()=>r,usePricingTableContext:()=>c});var d=a.i(674420),e=a.i(722851),f=a.i(284103),g=a.i(974137),h=a.i(378903),i=a.i(196544),j=a.i(140859),k=a.i(714513),l=a.i(816486);let b=(0,e.createContext)({isAnnual:!1,setIsAnnual:()=>{},products:[],showFeatures:!0,uniform:!1}),c=a=>{let c=(0,e.useContext)(b);if(void 0===c)throw Error(`${a} must be used within <PricingTable />`);return c},m=({children:a,products:c,showFeatures:g=!0,className:h,uniform:i=!1})=>{let[j,l]=(0,e.useState)(!1);if((0,k.useSession)(),!c)throw Error("products is required in <PricingTable />");if(0===c.length)return(0,d.jsx)(d.Fragment,{});let m=c.length%2==0;return(0,d.jsx)(b.Provider,{value:{isAnnual:j,setIsAnnual:l,products:c,showFeatures:g,uniform:i},children:(0,d.jsxs)("div",{className:(0,f.cn)("flex items-center flex-col space-y-8"),children:[c.some(a=>a.priceAnnual)&&(0,d.jsx)("div",{children:(0,d.jsx)(q,{isAnnual:j,setIsAnnual:l})}),(0,d.jsx)("div",{className:(0,f.cn)("w-full grid grid-cols-1 gap-6 max-w-6xl mx-auto",m&&"sm:grid-cols-2",c.length>=3&&"lg:grid-cols-3",h),children:a})]})})},n=({productId:a,className:b,onButtonClick:e,buttonProps:g})=>{let{isAnnual:i,products:j,showFeatures:m,uniform:n}=c("PricingCard"),{data:q}=(0,k.useSession)(),s=j.find(b=>b.id===a);if(!s)throw Error(`Product with id ${a} not found`);let{name:t,price:u,priceAnnual:v,recommendedText:w,buttonText:x,items:y,description:z,buttonUrl:A,everythingFrom:B}=s,C=!!w;return(0,d.jsxs)("div",{className:(0,f.cn)("rounded-xl border bg-card text-card-foreground shadow relative flex flex-col h-full",C&&"border-primary shadow-lg scale-105 bg-primary/5",b),children:[w&&(0,d.jsx)(r,{recommended:w}),(0,d.jsxs)("div",{className:"flex flex-col h-full p-6",children:[(0,d.jsxs)("div",{className:"flex flex-col space-y-1.5 pb-4",children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold leading-none tracking-tight",children:t}),z&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:z})]}),"free"!==u.primaryText.toLowerCase()?(0,d.jsxs)("div",{className:"border-t border-b py-4 mb-6",children:[(0,d.jsx)("div",{className:"text-3xl font-bold",children:i&&v?v?.primaryText:u.primaryText}),u.secondaryText&&(0,d.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:i&&v?v?.secondaryText:u.secondaryText})]}):(0,d.jsx)("div",{className:"border-t py-4"}),m&&y.length>0&&(0,d.jsx)("div",{className:"flex-grow mb-6",children:(0,d.jsx)(o,{items:y,showIcon:!0,everythingFrom:B})}),q?(0,d.jsx)("div",{className:"mt-auto pt-4",children:(0,d.jsx)(p,{recommended:C,onClick:e,buttonUrl:A,...g,children:x})}):(0,d.jsx)("div",{className:"mt-auto pt-4",children:(0,d.jsx)(l.default,{href:"/login",children:(0,d.jsx)(h.Button,{variant:"primary",className:"w-full",children:"Login to get started"})})})]})]})},o=({items:a,showIcon:b=!0,everythingFrom:c,className:e})=>(0,d.jsxs)("div",{className:(0,f.cn)("space-y-3",e),children:[c&&(0,d.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Everything from ",c,", plus:"]}),a.map((a,c)=>(0,d.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[b&&(0,d.jsx)(i.default,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:"text-card-foreground",children:a.primaryText}),a.secondaryText&&(0,d.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:a.secondaryText})]})]},c))]}),p=e.default.forwardRef(({recommended:a,children:b,buttonUrl:c,onClick:g,className:i,...k},l)=>{let[m,n]=(0,e.useState)(!1);return(0,d.jsx)(h.Button,{className:(0,f.cn)("w-full",i),variant:a?"primary":"secondary",size:"lg",ref:l,disabled:m,onClick:async a=>{n(!0);try{if(g)return void await g(a);if(c)return void window.open(c,"_blank")}catch(a){throw a}finally{n(!1)}},...k,children:m?(0,d.jsx)(j.default,{className:"h-4 w-4 animate-spin"}):b})});p.displayName="PricingCardButton";let q=({isAnnual:a,setIsAnnual:b})=>(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-3 p-4 rounded-xl border bg-card",children:[(0,d.jsx)("span",{className:(0,f.cn)("text-sm font-medium",a?"text-muted-foreground":"text-card-foreground"),children:"Monthly"}),(0,d.jsx)(g.Switch,{id:"annual-billing",checked:a,onCheckedChange:b}),(0,d.jsx)("span",{className:(0,f.cn)("text-sm font-medium",a?"text-card-foreground":"text-muted-foreground"),children:"Annual"}),a&&(0,d.jsx)("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded-full font-medium",children:"Save 20%"})]}),r=({recommended:a})=>(0,d.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground text-sm font-medium px-3 py-1 rounded-full border",children:a})}},277647:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({PricingTable:()=>b});var d=a.i(674420),e=a.i(304880),f=a.i(140859);a.i(779128);var g=a.i(805175),h=a.i(35335),i=a.i(969405);let b=()=>{let{attach:a}=(0,g.useAutumn)(),{products:b,isLoading:c,error:j}=(0,h.usePricingTable)();return c?(0,d.jsx)("div",{className:"w-full h-full flex justify-center items-center min-h-[300px]",children:(0,d.jsx)(f.default,{className:"w-6 h-6 text-zinc-400 animate-spin"})}):j?(0,d.jsx)("div",{children:" Something went wrong..."}):(0,d.jsx)("div",{children:b&&(0,d.jsx)(e.PricingTable,{products:b,children:b.map(b=>(0,d.jsx)(e.PricingCard,{productId:b.id,buttonProps:{onClick:async()=>{await a({productId:b.id,successUrl:`${process.env.NEXT_PUBLIC_BETTER_AUTH_URL}/settings?upgrade=true`,dialog:i.default})}}},b.id))})})}}}};

//# sourceMappingURL=components_autumn_10e20376._.js.map