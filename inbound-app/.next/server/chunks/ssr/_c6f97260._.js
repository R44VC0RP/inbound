module.exports={493498:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("circle",{cx:"9",cy:"9",fill:b,r:"3.5"}),(0,d.jsx)("path",{d:"M1.75,9.75c-.076,0-.153-.012-.23-.036-.394-.127-.611-.549-.484-.944,.02-.06,2.007-6.02,7.964-6.02s7.945,5.962,7.965,6.022c.125,.394-.092,.814-.486,.941-.395,.128-.815-.091-.943-.484-.065-.203-1.666-4.979-6.536-4.979S2.48,9.18,2.464,9.23c-.103,.318-.397,.52-.714,.52Z",fill:a})]})]})}}},298789:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M15.25,2H2.75c-.414,0-.75,.336-.75,.75v1.785c0,.518,.227,1.005,.622,1.338l4.378,3.695v6.682c0,.414,.336,.75,.75,.75h2.5c.414,0,.75-.336,.75-.75v-6.682l4.377-3.695c.396-.333,.623-.821,.623-1.339v-1.785c0-.414-.336-.75-.75-.75Z",fill:a})})]})}}},420796:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"m11.25,4.441H1.59c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h9.66c.414,0,.75.336.75.75s-.336.75-.75.75Z",fill:b,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m10.41,9.061H.75c-.414,0-.75-.336-.75-.75s.336-.75.75-.75h9.66c.414,0,.75.336.75.75s-.336.75-.75.75Z",fill:b,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m2.884,12.001c-.046,0-.092-.004-.139-.013-.407-.077-.675-.468-.599-.875L4.114.613c.076-.407.464-.677.875-.599.407.077.675.468.599.875l-1.969,10.5c-.068.36-.383.612-.736.612Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m7.149,12.001c-.046,0-.092-.004-.139-.013-.407-.077-.675-.468-.599-.875L8.38.613c.076-.407.464-.677.875-.599.407.077.675.468.599.875l-1.969,10.5c-.068.36-.383.612-.736.612Z",fill:a,strokeWidth:"0"})]})]})}}},18639:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M4.75,13h-1c-1.517,0-2.75-1.233-2.75-2.75V4.75c0-1.517,1.233-2.75,2.75-2.75h7.5c1.517,0,2.75,1.233,2.75,2.75v1h-1.5v-1c0-.689-.561-1.25-1.25-1.25H3.75c-.689,0-1.25,.561-1.25,1.25v5.5c0,.689,.561,1.25,1.25,1.25h1v1.5Z",fill:b}),(0,d.jsx)("rect",{height:"11",width:"13",fill:a,rx:"2.75",ry:"2.75",x:"4",y:"5"})]})]})}}},560911:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"12",width:"12",...e,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"m10.75,2c-.414,0-.75.336-.75.75v3.25h-1.25c-.414,0-.75.336-.75.75v1.25h-4v-1.25c0-.414-.336-.75-.75-.75h-1.25v-3.25c0-.414-.336-.75-.75-.75s-.75.336-.75.75v6c0,1.517,1.233,2.75,2.75,2.75h5.5c1.517,0,2.75-1.233,2.75-2.75V2.75c0-.414-.336-.75-.75-.75Z",fill:a,strokeWidth:"0"}),(0,d.jsx)("path",{d:"m7.72,1.72l-.97.97V.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v1.939l-.97-.97c-.293-.293-.768-.293-1.061,0s-.293.768,0,1.061l2.25,2.25c.146.146.338.22.53.22s.384-.073.53-.22l2.25-2.25c.293-.293.293-.768,0-1.061s-.768-.293-1.061,0Z",fill:b,strokeWidth:"0"})]})]})}}},379106:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>O});var d=a.i(674420),e=a.i(722851),f=a.i(238769),g=a.i(378903),h=a.i(668018),i=a.i(526146),j=a.i(64207),k=a.i(760998),l=a.i(100806),m=a.i(791347),n=a.i(499815),o=a.i(816486),p=a.i(180214),q=a.i(261381),r=a.i(164929),s=a.i(493498),t=a.i(298789),u=a.i(188126),v=a.i(212242),w=a.i(840462),x=a.i(195743),y=a.i(58901),z=a.i(49641),A=a.i(772162),B=a.i(420796),C=a.i(316114),D=a.i(294697),E=a.i(18639),F=a.i(919801),G=a.i(560911),H=a.i(228164);a.i(697859);var I=a.i(131106),J=a.i(458146),K=a.i(323772);function L(a){return"inbound"===a.type?(0,d.jsx)(G.default,{width:"16",height:"16",className:"text-purple-600"}):(0,d.jsx)(H.default,{width:"16",height:"16",className:"text-blue-600"})}function M(a){if("inbound"===a.type){let b=a.deliveries.length>0,c=a.deliveries.some(a=>"success"===a.status),e=a.deliveries.some(a=>"failed"===a.status),f=a.deliveries.some(a=>"pending"===a.status);if(!a.parseSuccess)return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"});if(c)return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"});if(e)return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"});else if(f)return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"});else if(!b)return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"});else return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"})}switch(a.status){case"sent":return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"});case"failed":return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"});case"pending":return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"});default:return(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"})}}function N({log:a,isOpen:b,onClose:c}){let e=async(a,b)=>{try{await navigator.clipboard.writeText(a),K.toast.success(`${b} copied to clipboard`)}catch(a){K.toast.error("Failed to copy to clipboard")}};if(!a)return null;let h="inbound"===a.type,i=h?a:null,p=h?null:a,q=(0,J.useMailDetailsV2Query)(h?a.id:""),t=(0,J.useOutboundEmailDetailsV2Query)(h?"":a.emailId),u=h?q.data:null,v=h?null:t.data,w=h?q.isLoading:t.isLoading,z=h?q.error:t.error;return(0,d.jsx)(j.Sheet,{open:b,onOpenChange:c,children:(0,d.jsxs)(j.SheetContent,{side:"bottom",className:"h-[85vh] sm:max-w-none",children:[(0,d.jsxs)(j.SheetHeader,{className:"pb-4",children:[(0,d.jsxs)(j.SheetTitle,{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"relative",children:[L(a),(0,d.jsx)("div",{className:"absolute -top-1 -right-1",children:M(a)})]}),h?"Inbound":"Outbound"," Email Log Details",w&&(0,d.jsx)("span",{className:"text-xs text-muted-foreground ml-2",children:"(Loading...)"})]}),(0,d.jsxs)(j.SheetDescription,{children:["Message ID: ",a.messageId]})]}),(0,d.jsx)(k.ScrollArea,{className:"h-[calc(85vh-120px)]",children:(0,d.jsxs)("div",{className:"space-y-6 pb-6",children:[w&&(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading email details..."})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Email Information"}),(0,d.jsx)("div",{className:"space-y-2 text-sm",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"relative",children:[L(a),(0,d.jsx)("div",{className:"absolute -top-1 -right-1",children:M(a)})]}),(0,d.jsx)("p",{className:"font-medium capitalize",children:a.type})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"From:"}),(0,d.jsx)("p",{className:"font-medium",children:a.from})]}),h&&i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"To:"}),(0,d.jsx)("p",{className:"font-medium",children:i.recipient})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Received:"}),(0,d.jsx)("p",{className:"font-medium",children:(0,n.format)(new Date(i.receivedAt),"PPpp")})]})]}),!h&&p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"To:"}),(0,d.jsx)("div",{className:"font-medium",children:p.to.map((a,b)=>(0,d.jsx)("div",{children:a},b))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,d.jsx)("p",{className:"font-medium capitalize",children:p.status})]}),p.sentAt&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Sent:"}),(0,d.jsx)("p",{className:"font-medium",children:(0,n.format)(new Date(p.sentAt),"PPpp")})]}),p.provider&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Provider:"}),(0,d.jsx)("p",{className:"font-medium uppercase",children:p.provider})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Subject:"}),(0,d.jsx)("p",{className:"font-medium",children:a.subject})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Domain:"}),(0,d.jsx)("p",{className:"font-medium",children:a.domain})]}),h&&i&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Processing Time:"}),(0,d.jsxs)("p",{className:"font-medium",children:[i.processingTimeMs,"ms"]})]})]})})]}),(0,d.jsx)(m.Separator,{}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Email Content"}),w?(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading email content..."})}):z?(0,d.jsxs)("div",{className:"p-4 bg-destructive/10 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"text-destructive"}),(0,d.jsx)("span",{className:"font-medium text-destructive",children:"Failed to Load Content"})]}),(0,d.jsx)("p",{className:"text-sm text-destructive",children:z.message})]}):u||v?(0,d.jsxs)(l.Tabs,{defaultValue:"html",className:"w-full",children:[(0,d.jsxs)(l.TabsList,{className:"grid w-full grid-cols-3",children:[(0,d.jsx)(l.TabsTrigger,{value:"html",children:"HTML"}),(0,d.jsx)(l.TabsTrigger,{value:"text",children:"Text"}),(0,d.jsx)(l.TabsTrigger,{value:"raw",children:"Raw"})]}),(0,d.jsx)(l.TabsContent,{value:"html",className:"space-y-2",children:(h?u?.content?.htmlBody:v?.html)?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"HTML Content:"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>e(h?u?.content?.htmlBody||"":v?.html||"","HTML content"),children:(0,d.jsx)(E.default,{width:"12",height:"12"})})]}),(0,d.jsx)("div",{className:"border rounded-lg p-4 bg-muted/20 max-h-96 overflow-auto",children:(0,d.jsx)("iframe",{srcDoc:`
                               <html>
                                 <head>
                                   <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
                                   <style>
                                     body {
                                       font-family: 'Outfit', Arial, Helvetica, sans-serif;
                                       color: white;
                                       background-color: transparent;
                                       margin: 0;
                                       padding: 16px;
                                     }
                                     * {
                                       font-family: 'Outfit', Arial, Helvetica, sans-serif;
                                       font-weight: 400;
                                       color: white;
                                     }
                                     a {
                                       color: #60a5fa !important;
                                     }
                                   </style>
                                 </head>
                                 <body>
                                   ${h?u?.content?.htmlBody||"":v?.html||""}
                                 </body>
                               </html>
                             `,className:"w-full min-h-[300px] border-0",sandbox:"allow-same-origin",title:"Email HTML Content"})})]}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No HTML content available"})}),(0,d.jsx)(l.TabsContent,{value:"text",className:"space-y-2",children:(h?u?.content?.textBody:v?.text)?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Text Content:"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>e(h?u?.content?.textBody||"":v?.text||"","Text content"),children:(0,d.jsx)(E.default,{width:"12",height:"12"})})]}),(0,d.jsx)("pre",{className:"text-sm bg-muted p-4 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-96 overflow-y-auto",children:h?u?.content?.textBody:v?.text})]}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No text content available"})}),(0,d.jsx)(l.TabsContent,{value:"raw",className:"space-y-2",children:h&&u?.content?.rawContent?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Raw Email Content:"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>e(u?.content?.rawContent||"","Raw content"),children:(0,d.jsx)(E.default,{width:"12",height:"12"})})]}),(0,d.jsx)("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-x-auto font-mono max-h-96 overflow-y-auto",children:u?.content?.rawContent})]}):(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Raw content not available ",!h&&"(outbound emails only store HTML/text)"]})})]}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No email content available"})]}),(0,d.jsx)(m.Separator,{}),(u||v)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Email Statistics"}),(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:h&&u?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Parse Success:"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[u.metadata?.parseSuccess?(0,d.jsx)(x.default,{width:"14",height:"14",className:"text-green-600"}):(0,d.jsx)(y.default,{width:"14",height:"14",className:"text-destructive"}),(0,d.jsx)("p",{className:"font-medium",children:u.metadata?.parseSuccess?"Yes":"No"})]})]}),u.metadata?.parseError&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Parse Error:"}),(0,d.jsx)("p",{className:"font-medium text-destructive",children:u.metadata.parseError})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Has Text Body:"}),(0,d.jsx)("p",{className:"font-medium",children:u.metadata?.hasTextBody?"Yes":"No"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Has HTML Body:"}),(0,d.jsx)("p",{className:"font-medium",children:u.metadata?.hasHtmlBody?"Yes":"No"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Attachments:"}),(0,d.jsx)("p",{className:"font-medium",children:u.metadata?.attachmentCount||0})]}),u.metadata?.priority&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Priority:"}),(0,d.jsx)("p",{className:"font-medium",children:u.metadata.priority})]})]}):v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,d.jsx)("p",{className:"font-medium",children:(0,n.format)(new Date(v.created_at),"PPpp")})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Last Event:"}),(0,d.jsx)("p",{className:"font-medium capitalize",children:v.last_event})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Recipients:"}),(0,d.jsxs)("p",{className:"font-medium",children:[v.to?.length||0," to, ",v.cc?.filter(Boolean).length||0," cc, ",v.bcc?.filter(Boolean).length||0," bcc"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Content Type:"}),(0,d.jsx)("p",{className:"font-medium",children:v.html&&v.text?"HTML + Text":v.html?"HTML Only":v.text?"Text Only":"None"})]})]}):null})]}),(0,d.jsx)(m.Separator,{})]}),h&&u?.content?.attachments&&u.content.attachments.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"text-sm font-semibold mb-3",children:["Attachments (",u.content.attachments.length,")"]}),(0,d.jsx)("div",{className:"space-y-2",children:u.content.attachments.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(B.default,{width:"16",height:"16",className:"text-muted-foreground"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-sm",children:a.filename}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.contentType," • ",a.size?`${Math.round(a.size/1024)}KB`:"Unknown size"]})]})]}),a.contentId&&(0,d.jsx)(f.Badge,{variant:"outline",className:"text-xs",children:"Inline"})]},b))})]}),(0,d.jsx)(m.Separator,{})]}),!h&&p&&(p.cc||p.bcc||p.replyTo)&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Additional Recipients"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[p.cc&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"CC:"}),(0,d.jsx)("div",{className:"font-medium",children:p.cc.map((a,b)=>(0,d.jsx)("div",{children:a},b))})]}),p.bcc&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"BCC:"}),(0,d.jsx)("div",{className:"font-medium",children:p.bcc.map((a,b)=>(0,d.jsx)("div",{children:a},b))})]}),p.replyTo&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Reply-To:"}),(0,d.jsx)("div",{className:"font-medium",children:p.replyTo.map((a,b)=>(0,d.jsx)("div",{children:a},b))})]})]})]}),(0,d.jsx)(m.Separator,{})]}),h&&i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Authentication Results"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsxs)(f.Badge,{variant:"PASS"===i.authResults.spf?"default":"destructive",className:"PASS"===i.authResults.spf?"bg-green-500/10 text-green-600 border-green-500/20":"",children:["PASS"===i.authResults.spf?(0,d.jsx)(C.default,{width:"12",height:"12",className:"mr-1"}):(0,d.jsx)(D.default,{width:"12",height:"12",className:"mr-1"}),"SPF: ",i.authResults.spf]}),(0,d.jsxs)(f.Badge,{variant:"PASS"===i.authResults.dkim?"default":"destructive",className:"PASS"===i.authResults.dkim?"bg-green-500/10 text-green-600 border-green-500/20":"",children:["PASS"===i.authResults.dkim?(0,d.jsx)(C.default,{width:"12",height:"12",className:"mr-1"}):(0,d.jsx)(D.default,{width:"12",height:"12",className:"mr-1"}),"DKIM: ",i.authResults.dkim]}),(0,d.jsxs)(f.Badge,{variant:"PASS"===i.authResults.dmarc?"default":"destructive",className:"PASS"===i.authResults.dmarc?"bg-green-500/10 text-green-600 border-green-500/20":"",children:["PASS"===i.authResults.dmarc?(0,d.jsx)(C.default,{width:"12",height:"12",className:"mr-1"}):(0,d.jsx)(D.default,{width:"12",height:"12",className:"mr-1"}),"DMARC: ",i.authResults.dmarc]}),(0,d.jsxs)(f.Badge,{variant:"PASS"===i.authResults.spam?"default":"destructive",className:"PASS"===i.authResults.spam?"bg-green-500/10 text-green-600 border-green-500/20":"",children:["Spam: ",i.authResults.spam]}),(0,d.jsxs)(f.Badge,{variant:"PASS"===i.authResults.virus?"default":"destructive",className:"PASS"===i.authResults.virus?"bg-green-500/10 text-green-600 border-green-500/20":"",children:["Virus: ",i.authResults.virus]})]})]}),(0,d.jsx)(m.Separator,{})]}),h&&i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Delivery Information"}),0===i.deliveries.length?(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"No delivery configured for this email"}):(0,d.jsx)("div",{className:"space-y-4",children:i.deliveries.map(a=>(0,d.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium",children:a.config?.name||"Unknown Endpoint"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"webhook"===a.type?"Webhook":"Email Forward"})]}),(0,d.jsx)(f.Badge,{variant:"success"===a.status?"default":"failed"===a.status?"destructive":"secondary",className:"success"===a.status?"bg-green-500/10 text-green-600 border-green-500/20":"failed"===a.status?"":"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",children:a.status.toUpperCase()})]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Attempts:"}),(0,d.jsx)("p",{className:"font-medium",children:a.attempts})]}),a.lastAttemptAt&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Last Attempt:"}),(0,d.jsx)("p",{className:"font-medium",children:(0,n.format)(new Date(a.lastAttemptAt),"PPp")})]}),a.deliveryTimeMs&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Delivery Time:"}),(0,d.jsxs)("p",{className:"font-medium",children:[a.deliveryTimeMs,"ms"]})]}),a.responseCode&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Response Code:"}),(0,d.jsx)("p",{className:"font-medium",children:a.responseCode})]})]}),a.config?.url&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"URL:"}),(0,d.jsx)("p",{className:"font-medium font-mono text-xs break-all",children:a.config.url})]}),a.error&&(0,d.jsxs)("div",{className:"mt-2 p-2 bg-destructive/10 rounded",children:[(0,d.jsx)("span",{className:"text-destructive text-sm font-medium",children:"Error:"}),(0,d.jsx)("p",{className:"text-destructive text-sm mt-1",children:a.error})]}),a.responseData&&(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Response Data:"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>e(JSON.stringify(a.responseData,null,2),"Response data"),children:(0,d.jsx)(E.default,{width:"12",height:"12"})})]}),(0,d.jsx)("pre",{className:"text-xs bg-muted p-2 rounded overflow-x-auto",children:JSON.stringify(a.responseData,null,2)})]})]})]},a.id))})]}),(0,d.jsx)(m.Separator,{})]}),!h&&p&&"failed"===p.status&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-sm font-semibold mb-3",children:"Failure Information"}),(0,d.jsxs)("div",{className:"p-4 bg-destructive/10 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)(y.default,{width:"16",height:"16",className:"text-destructive"}),(0,d.jsx)("span",{className:"font-medium text-destructive",children:"Email Failed to Send"})]}),p.failureReason&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:p.failureReason}),p.providerResponse&&(0,d.jsxs)("div",{className:"mt-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,d.jsx)("span",{className:"text-muted-foreground text-xs",children:"Provider Response:"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>e(JSON.stringify(p.providerResponse,null,2),"Provider response"),children:(0,d.jsx)(E.default,{width:"12",height:"12"})})]}),(0,d.jsx)("pre",{className:"text-xs bg-muted p-2 rounded overflow-x-auto",children:JSON.stringify(p.providerResponse,null,2)})]})]})]}),(0,d.jsx)(m.Separator,{})]}),(0,d.jsx)("div",{className:"flex items-center gap-2 pt-4",children:(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",asChild:!0,children:(0,d.jsxs)(o.default,{href:`/mail/${a.id}`,children:[(0,d.jsx)(s.default,{width:"14",height:"14",className:"mr-2"}),"View Email"]})})})]})})]})})}function O(){let[a,b]=(0,e.useState)(""),[c,j]=(0,e.useState)("all"),[k,l]=(0,e.useState)("all"),[m,r]=(0,e.useState)("all"),[s,C]=(0,e.useState)("7d"),[D,E]=(0,e.useState)(null),{data:J,isLoading:K,error:O,refetch:P}=(0,I.useUnifiedEmailLogsQuery)({searchQuery:a,statusFilter:c,typeFilter:k,domainFilter:m,timeRange:s,limit:100,offset:0});return O?(0,d.jsx)("div",{className:"min-h-screen p-4",children:(0,d.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,d.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,d.jsx)(w.default,{width:"16",height:"16"}),(0,d.jsx)("span",{children:O.message}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>P(),className:"ml-auto text-destructive hover:text-destructive/80",children:"Try Again"})]})})})}):(0,d.jsxs)("div",{className:"min-h-screen",children:[(0,d.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-1 tracking-tight",children:"Logs"}),(0,d.jsxs)("p",{className:"text-muted-foreground text-sm font-medium",children:[J?.stats.totalEmails||0," total logs found (",J?.stats.inbound||0," inbound, ",J?.stats.outbound||0," outbound)"]})]}),(0,d.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>P(),disabled:K,children:[(0,d.jsx)(u.default,{width:"14",height:"14",className:"mr-2"}),"Refresh"]})]})}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,d.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,d.jsx)(v.default,{width:"16",height:"16",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),(0,d.jsx)(h.Input,{placeholder:"Search logs...",value:a,onChange:a=>b(a.target.value),className:"pl-10 h-9 rounded-xl"})]}),(0,d.jsxs)(i.Select,{value:k,onValueChange:l,children:[(0,d.jsx)(i.SelectTrigger,{className:"w-[120px] h-9 rounded-xl",children:(0,d.jsx)(i.SelectValue,{placeholder:"Type"})}),(0,d.jsxs)(i.SelectContent,{children:[(0,d.jsx)(i.SelectItem,{value:"all",children:"All Types"}),(0,d.jsx)(i.SelectItem,{value:"inbound",children:"Inbound"}),(0,d.jsx)(i.SelectItem,{value:"outbound",children:"Outbound"})]})]}),(0,d.jsxs)(i.Select,{value:c,onValueChange:j,children:[(0,d.jsx)(i.SelectTrigger,{className:"w-[140px] h-9 rounded-xl",children:(0,d.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,d.jsxs)(i.SelectContent,{children:[(0,d.jsx)(i.SelectItem,{value:"all",children:"All Status"}),(0,d.jsx)(i.SelectItem,{value:"delivered",children:"Delivered"}),(0,d.jsx)(i.SelectItem,{value:"failed",children:"Failed"}),(0,d.jsx)(i.SelectItem,{value:"pending",children:"Pending"}),(0,d.jsx)(i.SelectItem,{value:"no_delivery",children:"No Delivery"}),(0,d.jsx)(i.SelectItem,{value:"parse_failed",children:"Parse Failed"})]})]}),(0,d.jsxs)(i.Select,{value:m,onValueChange:r,children:[(0,d.jsx)(i.SelectTrigger,{className:"w-[140px] h-9 rounded-xl",children:(0,d.jsx)(i.SelectValue,{placeholder:"Domain"})}),(0,d.jsxs)(i.SelectContent,{children:[(0,d.jsx)(i.SelectItem,{value:"all",children:"All Domains"}),J?.filters.uniqueDomains.map(a=>(0,d.jsx)(i.SelectItem,{value:a,children:a},a))]})]}),(0,d.jsxs)(i.Select,{value:s,onValueChange:C,children:[(0,d.jsx)(i.SelectTrigger,{className:"w-[140px] h-9 rounded-xl",children:(0,d.jsx)(i.SelectValue,{placeholder:"Time Range"})}),(0,d.jsxs)(i.SelectContent,{children:[(0,d.jsx)(i.SelectItem,{value:"24h",children:"Last 24 hours"}),(0,d.jsx)(i.SelectItem,{value:"7d",children:"Last 7 days"}),(0,d.jsx)(i.SelectItem,{value:"30d",children:"Last 30 days"}),(0,d.jsx)(i.SelectItem,{value:"90d",children:"Last 90 days"})]})]}),(a||"all"!==c||"all"!==k||"all"!==m||"7d"!==s)&&(0,d.jsxs)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{b(""),j("all"),l("all"),r("all"),C("7d")},className:"h-9",children:[(0,d.jsx)(t.default,{width:"14",height:"14",className:"mr-2"}),"Clear"]})]})}),J&&(0,d.jsx)("div",{className:"mb-6 bg-muted/30 rounded-xl p-3",children:(0,d.jsxs)("div",{className:"flex items-center gap-6 text-sm flex-wrap",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(G.default,{width:"14",height:"14",className:"text-purple-600"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Inbound:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.inbound})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(H.default,{width:"14",height:"14",className:"text-blue-600"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Outbound:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.outbound})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(x.default,{width:"14",height:"14",className:"text-green-600"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Delivered:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.delivered})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.default,{width:"14",height:"14",className:"text-destructive"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Failed:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.failed})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(z.default,{width:"14",height:"14",className:"text-yellow-600"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Pending:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.pending})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(A.default,{width:"14",height:"14",className:"text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"No Delivery:"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:J.stats.noDelivery})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(p.default,{width:"14",height:"14",className:"text-muted-foreground"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"Avg Processing:"}),(0,d.jsxs)("span",{className:"font-medium text-foreground",children:[Math.round(J.stats.avgProcessingTime),"ms"]})]})]})})]}),(0,d.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:K?(0,d.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,d.jsx)("div",{className:"text-muted-foreground",children:"Loading logs..."})}):J?.emails.length?(0,d.jsx)("div",{className:"divide-y divide-border",children:J.emails.map(a=>{let b="inbound"===a.type,c=b?a:null,e=b?null:a;return(0,d.jsxs)("div",{className:"flex items-center gap-4 px-6 py-3 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>E(a),children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsxs)("div",{className:"relative",children:[L(a),(0,d.jsx)("div",{className:"absolute -top-1 -right-1",children:M(a)})]})}),(0,d.jsx)("div",{className:"flex-shrink-0 w-20 text-xs font-mono text-muted-foreground",children:(0,n.format)(new Date(a.createdAt),"HH:mm:ss")}),(0,d.jsx)("div",{className:"flex-shrink-0 w-48 truncate",children:(0,d.jsx)("span",{className:"text-sm font-medium",children:a.from})}),(0,d.jsx)("div",{className:"flex-shrink-0 w-48 truncate",children:b&&c?(0,d.jsx)("span",{className:"text-sm",children:c.recipient}):e&&(0,d.jsx)("span",{className:"text-sm",children:e.to.length>1?`${e.to[0]} +${e.to.length-1}`:e.to[0]})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm truncate",children:a.subject}),a.hasAttachments&&(0,d.jsx)(B.default,{width:"14",height:"14",className:"text-muted-foreground flex-shrink-0"})]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground truncate",children:[a.domain," • ",b?"Inbound":"Outbound"]})]}),(0,d.jsx)("div",{className:"flex-shrink-0 text-right",children:b&&c?c.deliveries.length>0?(0,d.jsxs)("div",{className:"text-xs",children:[(0,d.jsx)("div",{className:"font-medium",children:c.deliveries[0].config?.name||"Unknown"}),(0,d.jsx)("div",{className:"text-muted-foreground",children:c.deliveries[0].responseCode?`${c.deliveries[0].responseCode}`:c.deliveries[0].error?"Error":c.deliveries[0].status})]}):(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"No delivery"}):e&&(0,d.jsxs)("div",{className:"text-xs",children:[(0,d.jsx)("div",{className:"font-medium capitalize",children:e.status}),(0,d.jsx)("div",{className:"text-muted-foreground uppercase",children:e.provider})]})}),(0,d.jsx)("div",{className:"flex-shrink-0 flex gap-1",children:b&&c&&(0,d.jsxs)(d.Fragment,{children:["PASS"===c.authResults.spf&&(0,d.jsx)(f.Badge,{variant:"outline",className:"text-xs px-1 py-0 h-5",children:"SPF"}),"PASS"===c.authResults.dkim&&(0,d.jsx)(f.Badge,{variant:"outline",className:"text-xs px-1 py-0 h-5",children:"DKIM"}),"FAIL"===c.authResults.spf&&(0,d.jsx)(f.Badge,{variant:"destructive",className:"text-xs px-1 py-0 h-5",children:"SPF✗"}),"FAIL"===c.authResults.dkim&&(0,d.jsx)(f.Badge,{variant:"destructive",className:"text-xs px-1 py-0 h-5",children:"DKIM✗"})]})}),(0,d.jsx)("div",{className:"flex-shrink-0 text-xs text-muted-foreground",children:b&&c?`${c.processingTimeMs}ms`:e?.sentAt?(0,n.format)(new Date(e.sentAt),"HH:mm"):"Pending"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0",asChild:!0,onClick:a=>a.stopPropagation(),children:(0,d.jsx)(o.default,{href:`/mail/${a.id}`,children:(0,d.jsx)(F.default,{width:"12",height:"12"})})})]},a.id)})}):(0,d.jsx)("div",{className:"max-w-6xl mx-auto p-4",children:(0,d.jsx)("div",{className:"bg-card border-border rounded-xl p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(q.default,{width:"48",height:"48",className:"text-muted-foreground mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:"No logs found"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a||"all"!==c||"all"!==k||"all"!==m||"7d"!==s?"Try adjusting your filters or search query.":"Start receiving or sending emails to see logs here."})]})})})}),(0,d.jsx)(N,{log:D,isOpen:!!D,onClose:()=>E(null)})]})}}};

//# sourceMappingURL=_c6f97260._.js.map