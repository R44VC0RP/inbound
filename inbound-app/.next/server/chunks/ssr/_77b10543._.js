module.exports={969004:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("rect",{height:"14",width:"5",fill:a,rx:"1.75",ry:"1.75",x:"2",y:"2"}),(0,d.jsx)("rect",{height:"14",width:"5",fill:b,rx:"1.75",ry:"1.75",x:"11",y:"2"})]})]})}}},254176:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsx)("g",{fill:a,children:(0,d.jsx)("path",{d:"M14.146,6.327c-.442-2.463-2.611-4.327-5.146-4.327-2.895,0-5.25,2.355-5.25,5.25,0,.128,.005,.258,.017,.39-1.604,.431-2.767,1.885-2.767,3.61,0,2.068,1.682,3.75,3.75,3.75h7.75c2.481,0,4.5-2.019,4.5-4.5,0-1.854-1.15-3.503-2.854-4.173Zm-2.366,3.704l-2.25,2.25c-.146,.146-.338,.22-.53,.22s-.384-.073-.53-.22l-2.25-2.25c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l.97,.97v-3.189c0-.414,.336-.75,.75-.75s.75,.336,.75,.75v3.189l.97-.97c.293-.293,.768-.293,1.061,0s.293,.768,0,1.061Z",fill:a})})]})}}},704693:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M15.75 10.5H8.75C8.336 10.5 8 10.836 8 11.25C8 11.664 8.336 12 8.75 12H15.75C16.164 12 16.5 11.664 16.5 11.25C16.5 10.836 16.164 10.5 15.75 10.5Z",fill:a}),(0,d.jsx)("path",{d:"M15.75 14H8.75C8.336 14 8 14.336 8 14.75C8 15.164 8.336 15.5 8.75 15.5H15.75C16.164 15.5 16.5 15.164 16.5 14.75C16.5 14.336 16.164 14 15.75 14Z",fill:a}),(0,d.jsx)("path",{d:"M15.75 3.5H8.75C8.336 3.5 8 3.836 8 4.25C8 4.664 8.336 5 8.75 5H15.75C16.164 5 16.5 4.664 16.5 4.25C16.5 3.836 16.164 3.5 15.75 3.5Z",fill:a}),(0,d.jsx)("path",{d:"M15.75 7H8.75C8.336 7 8 7.336 8 7.75C8 8.164 8.336 8.5 8.75 8.5H15.75C16.164 8.5 16.5 8.164 16.5 7.75C16.5 7.336 16.164 7 15.75 7Z",fill:a}),(0,d.jsx)("path",{d:"M3.75 6.5C4.9926 6.5 6 5.493 6 4.25C6 3.007 4.9926 2 3.75 2C2.5074 2 1.5 3.007 1.5 4.25C1.5 5.493 2.5074 6.5 3.75 6.5Z",fill:b}),(0,d.jsx)("path",{d:"M3.75 13.5C4.9926 13.5 6 12.493 6 11.25C6 10.007 4.9926 9 3.75 9C2.5074 9 1.5 10.007 1.5 11.25C1.5 12.493 2.5074 13.5 3.75 13.5Z",fill:b})]})]})}}},573375:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("rect",{height:"6",width:"6",fill:a,rx:"1.75",ry:"1.75",x:"2",y:"10"}),(0,d.jsx)("rect",{height:"6",width:"6",fill:a,rx:"1.75",ry:"1.75",x:"10",y:"10"}),(0,d.jsx)("rect",{height:"6",width:"6",fill:a,rx:"1.75",ry:"1.75",x:"2",y:"2"}),(0,d.jsx)("path",{d:"M16.005,3.763l-1.769-1.769c-.681-.68-1.791-.681-2.474,0l-1.769,1.769c-.681,.682-.681,1.792,0,2.474l1.769,1.769c.341,.34,.789,.511,1.237,.511s.896-.17,1.237-.511l1.769-1.769c.681-.682,.681-1.792,0-2.474,0,0,0,0,0,0Z",fill:b})]})]})}}},170063:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getLambdaFunctionInfo:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("002fadfbf1de6b6906c36737771fcb63155a62f386",d.callServer,void 0,d.findSourceMapURL,"getLambdaFunctionInfo")},102758:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getLambdaRecentLogs:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("60b38dcd28b08e3c462dc19827d9069a7a04fdad8b",d.callServer,void 0,d.findSourceMapURL,"getLambdaRecentLogs")},967477:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getLambdaMoreLogs:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("70ad903b3a5ebe2d80c70c968fd3c917594be4b861",d.callServer,void 0,d.findSourceMapURL,"getLambdaMoreLogs")},221091:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getLambdaLogStreams:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("00d95b3472d71039b8dd024b1b22cac9d0724f6b72",d.callServer,void 0,d.findSourceMapURL,"getLambdaLogStreams")},143322:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({checkAWSConnection:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("00309720759baccbe8187348cba5569cb3494fcf37",d.callServer,void 0,d.findSourceMapURL,"checkAWSConnection")},492377:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>C});var d=a.i(674420),e=a.i(722851),f=a.i(123546),g=a.i(378903),h=a.i(100806),i=a.i(760998),j=a.i(526146),k=a.i(668018),l=a.i(64207),m=a.i(772516),n=a.i(188126),o=a.i(969004),p=a.i(49641),q=a.i(254176),r=a.i(212242),s=a.i(704693),t=a.i(573375),u=a.i(372667),v=a.i(830671),w=a.i(323772),x=a.i(170063),y=a.i(102758),z=a.i(967477),A=a.i(221091),B=a.i(143322);function C(){let a,[b,c]=(0,e.useState)(null),[C,D]=(0,e.useState)([]),[E,F]=(0,e.useState)([]),[G,H]=(0,e.useState)(!0),[I,J]=(0,e.useState)(!0),[K,L]=(0,e.useState)("30"),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(null),[Q,R]=(0,e.useState)(null),[S,T]=(0,e.useState)(null),[U,V]=(0,e.useState)(!1),[W,X]=(0,e.useState)(""),[Y,Z]=(0,e.useState)(""),[$,_]=(0,e.useState)(null),[aa,ab]=(0,e.useState)(!1),[ac,ad]=(0,e.useState)(!0),ae=(0,e.useRef)(null),[af,ag]=(0,e.useState)(!0),[ah,ai]=(0,e.useState)(new Set),[aj,ak]=(0,e.useState)({type:null,value:null});(0,e.useEffect)(()=>{al()},[]),(0,e.useEffect)(()=>{M&&(_(null),ad(!0),am())},[M,K]),(0,e.useEffect)(()=>{let a=null;return I&&M&&(a=setInterval(()=>{an()},2e3)),()=>{a&&clearInterval(a)}},[I,M,K]),(0,e.useEffect)(()=>{let a=ae.current;if(!a)return;let b=a=>{let{scrollTop:b,scrollHeight:c,clientHeight:d}=a.target;c-b-d<100&&ac&&!aa&&ao()},c=a.querySelector("[data-radix-scroll-area-viewport]");if(c)return c.addEventListener("scroll",b),()=>{c.removeEventListener("scroll",b)}},[ac,aa]);let al=async()=>{try{let a=await (0,B.checkAWSConnection)();N(a.success),a.success||P(a.error||"AWS connection failed")}catch(a){P("Failed to check AWS connection"),N(!1)}},am=async()=>{H(!0),P(null);try{let[a,b,d]=await Promise.all([(0,x.getLambdaFunctionInfo)(),(0,y.getLambdaRecentLogs)(parseInt(K)),(0,A.getLambdaLogStreams)()]);if(a.success&&a.data?c(a.data):P(a.error||"Failed to load function info"),b.success&&b.data){let a=b.data.sort((a,b)=>b.timestamp-a.timestamp);F(a),_(b.nextToken||null),ad(!!b.nextToken)}else P(b.error||"Failed to load logs");d.success&&d.data&&D(d.data),R(new Date)}catch(a){P("Failed to load Lambda data")}finally{H(!1)}},an=async()=>{try{let a=await (0,y.getLambdaRecentLogs)(parseInt(K));if(a.success&&a.data){let b=a.data.sort((a,b)=>b.timestamp-a.timestamp);F(b),_(a.nextToken||null),ad(!!a.nextToken),R(new Date)}}catch(a){console.error("Failed to refresh logs:",a)}},ao=async()=>{if($&&!aa){ab(!0);try{let a=await (0,z.getLambdaMoreLogs)(parseInt(K),$);if(a.success&&a.data){let b=a.data.sort((a,b)=>b.timestamp-a.timestamp);F(a=>[...a,...b].filter((a,b,c)=>b===c.findIndex(b=>b.timestamp===a.timestamp&&b.message===a.message)).sort((a,b)=>b.timestamp-a.timestamp)),_(a.nextToken||null),ad(!!a.nextToken)}}catch(a){console.error("Failed to load more logs:",a)}finally{ab(!1)}}},ap=a=>new Date(a).toLocaleString(),aq=a=>a.includes("ERROR")||a.includes("❌")?{type:"error",content:a}:a.includes("WARN")||a.includes("⚠️")?{type:"warning",content:a}:a.includes("✅")||a.includes("SUCCESS")?{type:"success",content:a}:{type:"info",content:a},ar=a=>a.includes("📧 Lambda - Received SES email event")?"📧 Received SES email event":a.includes("📥 Lambda - Fetching email from S3")?"📥 Fetching email from S3":a.includes("✅ Lambda - Successfully fetched email content")?"✅ Email content fetched":a.includes("🚀 Lambda - Sending webhook request")?"🚀 Sending webhook request":a.includes("✅ Lambda - Webhook response")?"✅ Webhook sent successfully":a.includes("❌ Lambda")?"❌ Lambda error occurred":a.includes("INIT_START")?"🔄 Lambda function initializing":a.includes("START RequestId")?"▶️ Request started":a.includes("END RequestId")?"✅ Request completed":a.includes("REPORT RequestId")||a.match(/^REPORT\s+RequestId:/)?"📊 Request metrics":a.length>80?a.substring(0,80)+"...":a,as=a=>{T(a),V(!0),X("")},at=()=>S&&W?S.message.split("\n").filter(a=>a.toLowerCase().includes(W.toLowerCase())):S?.message.split("\n")||[],au=a=>{let b=a.split("	"),c=a,d=null;b.length>=4?(d=b[1],c=b.slice(3).join("	")):2===b.length&&(c=b[1]);let e=c.match(/(?:🆔\s+)?REQUEST_START\|([^|]+)\|(.+)/);if(e)return{type:"REQUEST_START",requestId:e[1],message:e[2]};let f=c.match(/(?:📧\s+)?EMAIL_TARGET\|([^|]+)\|([^|]+)\|(.+)/);if(f)return{type:"EMAIL_TARGET",requestId:f[1],email:f[2],message:f[3]};let g=c.match(/(?:✅\s+)?REQUEST_COMPLETE\|([^|]+)\|([^|]+)\|(.+)/);if(g)return{type:"REQUEST_COMPLETE",requestId:g[1],status:g[2],message:g[3]};let h=c.match(/^(?:[📧📥🔍🚀💥⚠️❌✅📨📭📍🧪📊]\s+)?([a-f0-9-]+)\|(.+)/);if(h)return{type:"LAMBDA_LOG",requestId:h[1],message:h[2]};if(d)return{type:"LAMBDA_LOG",requestId:d,message:c};if(c.match(/^([📧📥🔍🚀💥⚠️❌✅📨📭📍🧪📊])\s+(Lambda\s+-\s+.+|Error\s+details:|.+error.+)/))return{type:"LAMBDA_LOG_NO_ID",requestId:null,message:c};let i=c.match(/^([a-f0-9-]+)\|(.+)/);if(i)return{type:"LAMBDA_LOG",requestId:i[1],message:i[2]};let j=c.match(/RequestId:\s*([a-f0-9-]+)/);return j?{type:"LAMBDA_LOG",requestId:j[1],message:c}:{type:"OTHER",requestId:null,message:c}},av=a=>{let b={};return a.forEach(a=>{let c=au(a.message);c.requestId&&(b[c.requestId]||(b[c.requestId]={requestId:c.requestId,logs:[],startTime:a.timestamp,endTime:a.timestamp,status:"RUNNING",summary:"Processing request..."}),b[c.requestId].logs.push(a),b[c.requestId].startTime=Math.min(b[c.requestId].startTime,a.timestamp),b[c.requestId].endTime=Math.max(b[c.requestId].endTime,a.timestamp),"EMAIL_TARGET"===c.type?(b[c.requestId].emailTarget=c.email,b[c.requestId].summary=`Processing email for ${c.email}`):"REQUEST_COMPLETE"===c.type&&(b[c.requestId].status="SUCCESS"===c.status?"SUCCESS":"FAILED",b[c.requestId].summary="SUCCESS"===c.status?"Request completed successfully":"Request failed"))}),Object.values(b).sort((a,b)=>b.startTime-a.startTime)},aw=a=>{ai(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})},ax=a=>{ak({type:"request",value:a}),Z("")},ay=a=>{ak({type:"email",value:a}),Z("")};return M?(0,d.jsxs)("div",{className:"flex flex-1 flex-col h-full p-6 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,d.jsx)(m.default,{width:"32",height:"32"}),"Lambda Monitoring"]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[Q&&(0,d.jsxs)("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[I&&(0,d.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Last refresh: ",Q.toLocaleTimeString()]}),(0,d.jsx)(g.Button,{variant:"secondary",onClick:()=>{J(!I)},className:I?"bg-green-50 border-green-200 text-green-700 dark:bg-green-950 dark:border-green-800 dark:text-green-300":"",children:I?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.default,{width:"16",height:"16",className:"mr-2"}),"Live Streaming"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.default,{width:"16",height:"16",className:"mr-2"}),"Start Live Stream"]})}),(0,d.jsxs)(g.Button,{variant:"secondary",onClick:am,disabled:G,children:[(0,d.jsx)(n.default,{width:"16",height:"16",className:"mr-2"}),"Refresh"]})]})]}),(0,d.jsxs)(h.Tabs,{defaultValue:"logs",className:"flex flex-col flex-1 gap-4",children:[(0,d.jsxs)(h.TabsList,{children:[(0,d.jsx)(h.TabsTrigger,{value:"logs",children:"Recent Logs"}),(0,d.jsx)(h.TabsTrigger,{value:"streams",children:"Log Streams"})]}),(0,d.jsxs)(h.TabsContent,{value:"logs",className:"flex flex-col flex-1 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Lambda Logs"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-sm text-muted-foreground bg-muted px-2 py-1 rounded-md font-mono",children:(a=E,aj.type&&aj.value&&("request"===aj.type?a=E.filter(a=>au(a.message).requestId===aj.value):"email"===aj.type&&(a=E.filter(a=>{let b=au(a.message);return"EMAIL_TARGET"===b.type&&b.email===aj.value||a.message.includes(aj.value)}))),a=a.filter(a=>""===Y||a.message.toLowerCase().includes(Y.toLowerCase())||ar(a.message).toLowerCase().includes(Y.toLowerCase())),`${a.length} logs`)}),(0,d.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>ag(!af),className:"flex items-center gap-1",children:[af?(0,d.jsx)(s.default,{width:"16",height:"16"}):(0,d.jsx)(t.default,{width:"16",height:"16"}),af?"Grouped":"Individual"]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[aj.type&&(0,d.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 bg-blue-50 border border-blue-200 rounded text-xs dark:bg-blue-950 dark:border-blue-800",children:[(0,d.jsxs)("span",{className:"text-blue-700 dark:text-blue-300",children:["request"===aj.type?"🔍 Request:":"📧 Email:"," ",aj.value]}),(0,d.jsx)("button",{onClick:()=>{ak({type:null,value:null})},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200",children:"×"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),(0,d.jsx)(k.Input,{placeholder:aj.type?"Search filtered logs...":"Search logs...",value:Y,onChange:a=>Z(a.target.value),className:"pl-10 w-48"})]}),(0,d.jsxs)(j.Select,{value:K,onValueChange:L,children:[(0,d.jsx)(j.SelectTrigger,{className:"w-32",children:(0,d.jsx)(j.SelectValue,{})}),(0,d.jsxs)(j.SelectContent,{children:[(0,d.jsx)(j.SelectItem,{value:"15",children:"Last 15 min"}),(0,d.jsx)(j.SelectItem,{value:"30",children:"Last 30 min"}),(0,d.jsx)(j.SelectItem,{value:"60",children:"Last 1 hour"}),(0,d.jsx)(j.SelectItem,{value:"180",children:"Last 3 hours"}),(0,d.jsx)(j.SelectItem,{value:"720",children:"Last 12 hours"})]})]}),(0,d.jsxs)(g.Button,{variant:"secondary",onClick:()=>{let a=new Blob([E.map(a=>`${ap(a.timestamp)} - ${a.message}`).join("\n")],{type:"text/plain"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`lambda-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},children:[(0,d.jsx)(q.default,{width:"16",height:"16",className:"mr-2"}),"Download"]})]})]}),(0,d.jsx)(i.ScrollArea,{className:"flex-1 w-full",ref:ae,children:(0,d.jsxs)("div",{className:"p-2 space-y-0.5 font-mono text-xs",children:[(()=>{let a=E;if(aj.type&&aj.value&&("request"===aj.type?a=E.filter(a=>au(a.message).requestId===aj.value):"email"===aj.type&&(a=E.filter(a=>{let b=au(a.message);return"EMAIL_TARGET"===b.type&&b.email===aj.value||a.message.includes(aj.value)}))),0===(a=a.filter(a=>""===Y||a.message.toLowerCase().includes(Y.toLowerCase())||ar(a.message).toLowerCase().includes(Y.toLowerCase()))).length){let a="No logs found for the selected time range";return aj.type&&Y?a=`No logs found matching "${Y}" in filtered results`:aj.type?a=`No logs found for ${"request"===aj.type?"request":"email"}: ${aj.value}`:Y&&(a=`No logs found matching "${Y}"`),(0,d.jsx)("div",{className:"text-center text-muted-foreground py-6 text-xs",children:a})}if(!af)return a.map((a,b)=>{let c=a.message,e=a.message.split("	");e.length>=4&&(c=e.slice(3).join("	"));let f=au(a.message);f.requestId&&(c=(c=(c=c.replace(RegExp(f.requestId,"g"),"").trim()).replace(/\|\s*\|/g,"|").replace(/\s+/g," ").replace(/^\|/,"").trim()).replace(/\|Lambda\s+-\s+/g,"Lambda - "));let g=aq(c),h=ar(c);return(0,d.jsxs)("div",{onClick:()=>as(a),className:`px-3 py-2 rounded-md cursor-pointer transition-colors border-l-2 h-8 flex items-center ${"error"===g.type?"bg-red-50/50 hover:bg-red-50 text-red-800 border-l-red-400 dark:bg-red-950/30 dark:hover:bg-red-950/50 dark:text-red-300 dark:border-l-red-600":"warning"===g.type?"bg-yellow-50/50 hover:bg-yellow-50 text-yellow-800 border-l-yellow-400 dark:bg-yellow-950/30 dark:hover:bg-yellow-950/50 dark:text-yellow-300 dark:border-l-yellow-600":"success"===g.type?"bg-green-50/50 hover:bg-green-50 text-green-800 border-l-green-400 dark:bg-green-950/30 dark:hover:bg-green-950/50 dark:text-green-300 dark:border-l-green-600":"bg-muted/50 hover:bg-muted border-l-border"}`,children:[(0,d.jsx)("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap flex-shrink-0 font-mono opacity-60",children:new Date(a.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,d.jsx)("div",{className:"font-medium text-xs truncate flex-1 mx-2",children:h}),(0,d.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,d.jsxs)("span",{className:"text-[10px] text-muted-foreground opacity-60 font-mono",children:[a.message.split("\n").length," lines"]}),(0,d.jsx)("div",{className:"text-[10px] text-muted-foreground opacity-50",children:"↗"})]})]},b)});{let b=av(a),c=a.filter(a=>!au(a.message).requestId),e=[...b.map(a=>({type:"group",timestamp:a.startTime,group:a})),...c.map((a,b)=>({type:"log",timestamp:a.timestamp,log:a,originalIndex:b}))];return e.sort((a,b)=>b.timestamp-a.timestamp),(0,d.jsx)(d.Fragment,{children:e.map((a,b)=>{if("group"===a.type&&a.group){let b=a.group;return(0,d.jsxs)("div",{className:"border rounded-md bg-card",children:[(0,d.jsxs)("div",{className:`px-3 py-2 transition-colors border-l-4 flex items-center gap-2 ${"SUCCESS"===b.status?"bg-green-50/50 hover:bg-green-50 text-green-800 border-l-green-400 dark:bg-green-950/30 dark:hover:bg-green-950/50 dark:text-green-300 dark:border-l-green-600":"FAILED"===b.status?"bg-red-50/50 hover:bg-red-50 text-red-800 border-l-red-400 dark:bg-red-950/30 dark:hover:bg-red-950/50 dark:text-red-300 dark:border-l-red-600":"bg-blue-50/50 hover:bg-blue-50 text-blue-800 border-l-blue-400 dark:bg-blue-950/30 dark:hover:bg-blue-950/50 dark:text-blue-300 dark:border-l-blue-600"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer",onClick:()=>aw(b.requestId),children:[ah.has(b.requestId)?(0,d.jsx)(u.default,{width:"12",height:"12"}):(0,d.jsx)(v.default,{width:"12",height:"12"}),(0,d.jsx)("span",{className:"text-[9px] text-muted-foreground whitespace-nowrap font-mono opacity-60",children:new Date(b.startTime).toLocaleTimeString()})]}),(0,d.jsx)("div",{className:"font-medium text-xs flex-1 cursor-pointer",onClick:()=>aw(b.requestId),children:b.emailTarget?`Request for ${b.emailTarget}`:b.summary}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[b.emailTarget&&(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",onClick:a=>{a.stopPropagation(),ay(b.emailTarget)},className:"h-5 px-2 text-[10px] bg-blue-100 hover:bg-blue-200 text-blue-700 dark:bg-blue-900 dark:hover:bg-blue-800 dark:text-blue-300",children:"📧 Email"}),(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",onClick:a=>{a.stopPropagation(),ax(b.requestId)},className:"h-5 px-2 text-[10px] bg-purple-100 hover:bg-purple-200 text-purple-700 dark:bg-purple-900 dark:hover:bg-purple-800 dark:text-purple-300",children:"🔍 Filter"}),(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",onClick:a=>{a.stopPropagation(),navigator.clipboard.writeText(b.requestId),w.toast.success("Request ID copied to clipboard")},className:"h-5 px-2 text-[10px] bg-muted hover:bg-muted/80 text-muted-foreground",title:`Copy request ID: ${b.requestId}`,children:"📋 Copy ID"}),(0,d.jsxs)("span",{className:"text-[9px] text-muted-foreground opacity-60 font-mono",children:[b.logs.length," logs"]}),(0,d.jsx)("span",{className:"text-[10px] px-1 py-0.5 rounded font-mono",children:"SUCCESS"===b.status?"✅":"FAILED"===b.status?"❌":"⏳"})]})]}),ah.has(b.requestId)&&(0,d.jsx)("div",{className:"border-t bg-muted/30 space-y-0.5 p-2",children:b.logs.map((a,c)=>{au(a.message);let e=a.message,f=a.message.split("	");f.length>=4&&(e=f.slice(3).join("	")),b.requestId&&(e=(e=(e=e.replace(RegExp(b.requestId,"g"),"").trim()).replace(/\|\s*\|/g,"|").replace(/\s+/g," ").replace(/^\|/,"").trim()).replace(/\|Lambda\s+-\s+/g,"Lambda - ")),aq(e);let g=ar(e);return(0,d.jsx)("div",{onClick:()=>as(a),className:"px-2 py-1 hover:bg-card rounded cursor-pointer transition-colors text-xs",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("span",{className:"text-[9px] text-muted-foreground whitespace-nowrap flex-shrink-0 font-mono opacity-50",children:new Date(a.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,d.jsx)("div",{className:"flex-1 break-words",children:g})]})},c)})})]},`group-${b.requestId}`)}if("log"===a.type&&a.log){let b=a.log,c=b.message,e=b.message.split("	");e.length>=4&&(c=e.slice(3).join("	"));let f=au(b.message);f.requestId&&(c=(c=(c=c.replace(RegExp(f.requestId,"g"),"").trim()).replace(/\|\s*\|/g,"|").replace(/\s+/g," ").replace(/^\|/,"").trim()).replace(/\|Lambda\s+-\s+/g,"Lambda - "));let g=aq(c),h=ar(c);return(0,d.jsxs)("div",{onClick:()=>as(b),className:`px-3 py-2 rounded-md cursor-pointer transition-colors border-l-2 h-8 flex items-center opacity-60 ${"error"===g.type?"bg-red-50/50 hover:bg-red-50 text-red-800 border-l-red-400 dark:bg-red-950/30 dark:hover:bg-red-950/50 dark:text-red-300 dark:border-l-red-600":"warning"===g.type?"bg-yellow-50/50 hover:bg-yellow-50 text-yellow-800 border-l-yellow-400 dark:bg-yellow-950/30 dark:hover:bg-yellow-950/50 dark:text-yellow-300 dark:border-l-yellow-600":"success"===g.type?"bg-green-50/50 hover:bg-green-50 text-green-800 border-l-green-400 dark:bg-green-950/30 dark:hover:bg-green-950/50 dark:text-green-300 dark:border-l-green-600":"bg-muted/50 hover:bg-muted border-l-border"}`,children:[(0,d.jsx)("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap flex-shrink-0 font-mono opacity-60",children:new Date(b.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}),(0,d.jsx)("div",{className:"font-medium text-xs flex-1 mx-2 break-words",children:h}),(0,d.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[(0,d.jsxs)("span",{className:"text-[10px] text-muted-foreground opacity-60 font-mono",children:[b.message.split("\n").length," lines"]}),(0,d.jsx)("div",{className:"text-[10px] text-muted-foreground opacity-50",children:"↗"})]})]},`log-${a.originalIndex}`)}return null})})}})(),aa&&(0,d.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"}),"Loading more logs..."]})}),ac&&!aa&&E.length>0&&(0,d.jsx)("div",{className:"text-center py-4",children:(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",onClick:ao,children:"Load More Logs"})}),!ac&&E.length>0&&(0,d.jsx)("div",{className:"text-center py-4 text-xs text-muted-foreground",children:"No more logs available"})]})})]}),(0,d.jsx)(h.TabsContent,{value:"streams",className:"space-y-4",children:(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{children:(0,d.jsx)(f.CardTitle,{children:"Log Streams"})}),(0,d.jsx)(f.CardContent,{children:(0,d.jsx)("div",{className:"space-y-2",children:0===C.length?(0,d.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"No log streams found"}):C.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-mono text-sm",children:a.logStreamName}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",ap(a.creationTime)]})]}),(0,d.jsx)("div",{className:"text-right",children:a.lastEventTime&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last event: ",ap(a.lastEventTime)]})})]},b))})})]})})]}),(0,d.jsx)(l.Sheet,{open:U,onOpenChange:V,children:(0,d.jsxs)(l.SheetContent,{side:"bottom",className:"h-[80vh] flex flex-col",children:[(0,d.jsxs)(l.SheetHeader,{className:"pb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(l.SheetTitle,{children:"Log Details"}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:S&&ap(S.timestamp)})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(r.default,{width:"16",height:"16",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),(0,d.jsx)(k.Input,{placeholder:"Search in log...",value:W,onChange:a=>X(a.target.value),className:"pl-10"})]})]}),(0,d.jsx)(i.ScrollArea,{className:"flex-1",children:(0,d.jsx)("div",{className:"font-mono text-sm space-y-1 p-4",children:S&&(W?at().length>0?at().map((a,b)=>(0,d.jsxs)("div",{className:"py-1 border-b border-border last:border-b-0",children:[(0,d.jsx)("span",{className:"text-muted-foreground text-xs mr-2",children:b+1}),(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:a.replace(RegExp(W,"gi"),'<mark class="bg-yellow-200 text-yellow-900 px-1 rounded dark:bg-yellow-800 dark:text-yellow-100">$&</mark>')}})]},b)):(0,d.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:['No lines found matching "',W,'"']}):S.message.split("\n").map((a,b)=>{let c=aq(a);return(0,d.jsxs)("div",{className:`py-1 border-b border-border last:border-b-0 ${"error"===c.type?"bg-red-50 text-red-700 dark:bg-red-950/30 dark:text-red-300":"warning"===c.type?"bg-yellow-50 text-yellow-700 dark:bg-yellow-950/30 dark:text-yellow-300":"success"===c.type?"bg-green-50 text-green-700 dark:bg-green-950/30 dark:text-green-300":""}`,children:[(0,d.jsx)("span",{className:"text-muted-foreground text-xs mr-2 select-none",children:b+1}),(0,d.jsx)("span",{className:"whitespace-pre-wrap break-words",children:a})]},b)}))})})]})})]}):(0,d.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsx)("div",{children:(0,d.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,d.jsx)(m.default,{width:"32",height:"32"}),"Lambda Monitoring"]})})}),(0,d.jsxs)(f.Card,{children:[(0,d.jsx)(f.CardHeader,{children:(0,d.jsx)(f.CardTitle,{className:"text-destructive",children:"AWS Connection Error"})}),(0,d.jsxs)(f.CardContent,{children:[(0,d.jsx)("p",{className:"text-muted-foreground mb-4",children:O||"Unable to connect to AWS services. Please check your AWS credentials and configuration."}),(0,d.jsxs)(g.Button,{onClick:al,children:[(0,d.jsx)(n.default,{width:"16",height:"16",className:"mr-2"}),"Retry Connection"]})]})]})]})}}};

//# sourceMappingURL=_77b10543._.js.map