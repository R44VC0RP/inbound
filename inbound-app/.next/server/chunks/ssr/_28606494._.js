module.exports={197996:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M9.444 0.960004C9.095 0.728004 8.657 0.685004 8.269 0.846004L3.577 2.801C2.923 3.073 2.5 3.708 2.5 4.416V13.583C2.5 14.291 2.923 14.926 3.577 15.198L8.27 17.153C8.425 17.217 8.588 17.249 8.751 17.249C8.994 17.249 9.235 17.178 9.444 17.039C9.792 16.807 10 16.418 10 15.999V2C10 1.581 9.792 1.192 9.444 0.960004ZM7.5 9.5C7.5 9.914 7.164 10.25 6.75 10.25C6.336 10.25 6 9.914 6 9.5V8.5C6 8.086 6.336 7.75 6.75 7.75C7.164 7.75 7.5 8.086 7.5 8.5V9.5Z",fill:a}),(0,d.jsx)("path",{d:"M11.5 3.25C11.5 2.83579 11.8358 2.5 12.25 2.5H13.75C14.7162 2.5 15.5 3.28379 15.5 4.25V13.75C15.5 14.7162 14.7162 15.5 13.75 15.5H12.25C11.8358 15.5 11.5 15.1642 11.5 14.75C11.5 14.3358 11.8358 14 12.25 14H13.75C13.8878 14 14 13.8878 14 13.75V4.25C14 4.11221 13.8878 4 13.75 4H12.25C11.8358 4 11.5 3.66421 11.5 3.25Z",fill:b,fillRule:"evenodd"})]})]})}}},175851:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>b});var d=a.i(674420);let b=function({fill:a="currentColor",secondaryfill:b,title:c="badge 13",...e}){return b=b||a,(0,d.jsxs)("svg",{height:"18",width:"18",...e,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("title",{children:c}),(0,d.jsxs)("g",{fill:a,children:[(0,d.jsx)("path",{d:"M8.99997 10.0029C10.2444 10.0029 11.2524 8.99446 11.2524 7.75046C11.2524 6.50645 10.2444 5.49805 8.99997 5.49805C7.75551 5.49805 6.74756 6.50645 6.74756 7.75046C6.74756 8.99446 7.75551 10.0029 8.99997 10.0029Z",fill:b}),(0,d.jsx)("path",{d:"M4.45222 14.9423C5.02052 12.9651 6.82706 11.5005 9.00004 11.5005C11.1733 11.5005 12.9784 12.9654 13.5477 14.9419C13.6404 15.2638 13.5085 15.6081 13.2244 15.7856C11.9999 16.5504 10.5541 17.0005 9.00004 17.0005C7.44579 17.0005 6.00111 16.5504 4.77595 15.7857C4.49182 15.6084 4.3597 15.2642 4.45222 14.9423Z",fill:b,fillRule:"evenodd"}),(0,d.jsx)("path",{d:"M1 9.00049C1 4.58228 4.58168 1.00049 9 1.00049C13.4183 1.00049 17 4.58228 17 9.00049C17 13.4187 13.4183 17.0005 9 17.0005C4.58168 17.0005 1 13.4187 1 9.00049ZM9 2.50049C5.41012 2.50049 2.5 5.4107 2.5 9.00049C2.5 12.5903 5.41012 15.5005 9 15.5005C12.5899 15.5005 15.5 12.5903 15.5 9.00049C15.5 5.4107 12.5899 2.50049 9 2.50049Z",fill:a,fillRule:"evenodd"})]})]})}}},585643:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getAllDomainsForAdmin:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("00560e01c105f4a71ab091dc08be600fefa3f70dc5",d.callServer,void 0,d.findSourceMapURL,"getAllDomainsForAdmin")},819888:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getDomainEmailAddressesForAdmin:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("404cfffacaa2fc043fcb99ab6963947b8e9cbebc7f",d.callServer,void 0,d.findSourceMapURL,"getDomainEmailAddressesForAdmin")},635079:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({addFeatureFlag:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("602a9ebcfc95579a115c2e7ef866f94f4b839027cf",d.callServer,void 0,d.findSourceMapURL,"addFeatureFlag")},502811:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({removeFeatureFlag:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("606e0476e2f2d68361a4aa336a5f5781547706cc47",d.callServer,void 0,d.findSourceMapURL,"removeFeatureFlag")},469170:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({getUserFeatureFlags:()=>e});var d=a.i(283620),e=(0,d.createServerReference)("40e48b9607bdd1a52d5eedc6bf99ba896327227c74",d.callServer,void 0,d.findSourceMapURL,"getUserFeatureFlags")},757002:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>K});var d=a.i(674420),e=a.i(722851),f=a.i(714513),g=a.i(918656),h=a.i(123546),i=a.i(238769),j=a.i(378903),k=a.i(668018),l=a.i(386483),m=a.i(100806),n=a.i(925261),o=a.i(232997),p=a.i(526146),q=a.i(294697),r=a.i(581875),s=a.i(342064),t=a.i(164929),u=a.i(520910),v=a.i(197996),w=a.i(569164),x=a.i(483182),y=a.i(188126),z=a.i(212242),A=a.i(316114),B=a.i(960830),C=a.i(175851),D=a.i(313812),E=a.i(550216),F=a.i(585643),G=a.i(819888),H=a.i(635079),I=a.i(502811),J=a.i(469170);function K(){let{data:a,isPending:b,error:c}=(0,f.useSession)(),K=(0,g.useRouter)(),[L,M]=(0,e.useState)(!0),[N,O]=(0,e.useState)([]),[P,Q]=(0,e.useState)({total:0,active:0,admin:0}),[R,S]=(0,e.useState)(""),[T,U]=(0,e.useState)(1),[V,W]=(0,e.useState)(0),[X,Y]=(0,e.useState)(!1),[Z,$]=(0,e.useState)(!1),[_,aa]=(0,e.useState)({name:"",email:"",password:"",role:"user"}),[ab,ac]=(0,e.useState)([]),[ad,ae]=(0,e.useState)(!1),[af,ag]=(0,e.useState)(""),[ah,ai]=(0,e.useState)(null),[aj,ak]=(0,e.useState)([]),[al,am]=(0,e.useState)(!1),[an,ao]=(0,e.useState)(!1),[ap,aq]=(0,e.useState)(null),[ar,as]=(0,e.useState)(!1),[at,au]=(0,e.useState)([]),[av,aw]=(0,e.useState)(!1),[ax,ay]=(0,e.useState)(""),[az,aA]=(0,e.useState)([]),[aB,aC]=(0,e.useState)(!1),[aD,aE]=(0,e.useState)("");(0,e.useEffect)(()=>{if(!b){if(M(!1),!a)return void K.push("/login");if("admin"!==a.user.role)return void K.push("/mail");aF(),aT(),aQ()}},[a,b,K]);let aF=async(a=1,b="")=>{Y(!0);try{let c=await f.authClient.admin.listUsers({query:{limit:10,offset:(a-1)*10,...b&&{searchField:"email",searchOperator:"contains",searchValue:b},sortBy:"createdAt",sortDirection:"desc"}});if(c.data){let a=c.data.users||[],b=c.data.total||0;O(a),W(b);let d=a.filter(a=>"admin"===a.role).length,e=a.filter(a=>!a.banned).length;Q({total:b,active:e,admin:d})}}catch(a){console.error("Failed to load users:",a)}finally{Y(!1)}},aG=()=>{U(1),aF(1,R)},aH=a=>{U(a),aF(a,R)},aI=async()=>{try{await f.authClient.admin.createUser({name:_.name,email:_.email,password:_.password,role:_.role}),$(!1),aa({name:"",email:"",password:"",role:"user"}),aF(T,R)}catch(a){console.error("Failed to create user:",a)}},aJ=async a=>{try{await f.authClient.admin.banUser({userId:a,banReason:"Banned by admin"}),aF(T,R)}catch(a){console.error("Failed to ban user:",a)}},aK=async a=>{try{await f.authClient.admin.unbanUser({userId:a}),aF(T,R)}catch(a){console.error("Failed to unban user:",a)}},aL=async a=>{try{await f.authClient.admin.removeUser({userId:a}),aF(T,R)}catch(a){console.error("Failed to delete user:",a)}},aM=async(a,b)=>{try{await f.authClient.admin.setRole({userId:a,role:b}),aF(T,R)}catch(a){console.error("Failed to update role:",a)}},aN=async a=>{aq(a),as(!0),aw(!0);try{let b=await (0,J.getUserFeatureFlags)(a.id);b.success?au(b.flags||[]):(console.error("Failed to load feature flags:",b.error),au([]))}catch(a){console.error("Failed to load feature flags:",a),au([])}finally{aw(!1)}},aO=async()=>{if(ap&&ax.trim())try{let a=await (0,H.addFeatureFlag)(ap.id,ax.trim());a.success?(au(a.flags||[]),ay("")):console.error("Failed to add feature flag:",a.error)}catch(a){console.error("Failed to add feature flag:",a)}},aP=async a=>{if(ap)try{let b=await (0,I.removeFeatureFlag)(ap.id,a);b.success?au(b.flags||[]):console.error("Failed to remove feature flag:",b.error)}catch(a){console.error("Failed to remove feature flag:",a)}},aQ=async()=>{if(a?.user?.id){aC(!0);try{let a=await (0,J.getUserFeatureFlags)();a.success?aA(a.flags||[]):(console.error("Failed to load current user feature flags:",a.error),aA([]))}catch(a){console.error("Failed to load current user feature flags:",a),aA([])}finally{aC(!1)}}},aR=async()=>{if(a?.user?.id&&aD.trim())try{let b=await (0,H.addFeatureFlag)(a.user.id,aD.trim());b.success?(aA(b.flags||[]),aE("")):console.error("Failed to add current user feature flag:",b.error)}catch(a){console.error("Failed to add current user feature flag:",a)}},aS=async b=>{if(a?.user?.id)try{let c=await (0,I.removeFeatureFlag)(a.user.id,b);c.success?aA(c.flags||[]):console.error("Failed to remove current user feature flag:",c.error)}catch(a){console.error("Failed to remove current user feature flag:",a)}},aT=async()=>{ae(!0);try{let a=await (0,F.getAllDomainsForAdmin)();"error"in a?console.error("Failed to load domains:",a.error):ac(a.domains)}catch(a){console.error("Failed to load domains:",a)}finally{ae(!1)}},aU=async a=>{ai(a),am(!0),ao(!0);try{let b=await (0,G.getDomainEmailAddressesForAdmin)(a.id);"error"in b?(console.error("Failed to load email addresses:",b.error),ak([])):ak(b.emailAddresses)}catch(a){console.error("Failed to load email addresses:",a),ak([])}finally{am(!1)}},aV=ab.filter(a=>a.domain.toLowerCase().includes(af.toLowerCase())||a.userName.toLowerCase().includes(af.toLowerCase())||a.userEmail.toLowerCase().includes(af.toLowerCase()));if(b||L)return(0,d.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-6",children:(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin"}),(0,d.jsx)("span",{children:"Loading admin panel..."})]})})});if(c)return(0,d.jsx)("div",{className:"flex flex-1 flex-col gap-6 p-6",children:(0,d.jsx)(h.Card,{children:(0,d.jsx)(h.CardContent,{className:"pt-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,d.jsx)(t.default,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:["Error loading admin panel: ",c.message]})]})})})});if(!a||"admin"!==a.user.role)return null;let aW=Math.ceil(V/10);return(0,d.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[(0,d.jsx)(A.default,{className:"h-8 w-8"}),"Admin Panel"]}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Administrative controls and system management"})]}),(0,d.jsxs)(i.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,d.jsx)(A.default,{className:"h-3 w-3"}),"Administrator"]})]}),(0,d.jsxs)(m.Tabs,{defaultValue:"users",className:"space-y-6",children:[(0,d.jsxs)(m.TabsList,{className:"grid w-full grid-cols-3",children:[(0,d.jsxs)(m.TabsTrigger,{value:"users",className:"flex items-center gap-2",children:[(0,d.jsx)(D.default,{className:"h-4 w-4"}),"User Management"]}),(0,d.jsxs)(m.TabsTrigger,{value:"domains",className:"flex items-center gap-2",children:[(0,d.jsx)(u.default,{className:"h-4 w-4"}),"Domain Management"]}),(0,d.jsxs)(m.TabsTrigger,{value:"development",className:"flex items-center gap-2",children:[(0,d.jsx)(s.default,{className:"h-4 w-4"}),"Development"]})]}),(0,d.jsxs)(m.TabsContent,{value:"users",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Total Users"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:P.total}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Active Users"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:P.active}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Not banned"})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Admin Users"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:P.admin}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Administrator role"})]})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(h.CardTitle,{children:"User Management"}),(0,d.jsx)(h.CardDescription,{children:"Manage user accounts, roles, and permissions"})]}),(0,d.jsxs)(o.Dialog,{open:Z,onOpenChange:$,children:[(0,d.jsx)(o.DialogTrigger,{asChild:!0,children:(0,d.jsxs)(j.Button,{className:"flex items-center gap-2",children:[(0,d.jsx)(x.default,{className:"h-4 w-4"}),"Create User"]})}),(0,d.jsxs)(o.DialogContent,{children:[(0,d.jsxs)(o.DialogHeader,{children:[(0,d.jsx)(o.DialogTitle,{children:"Create New User"}),(0,d.jsx)(o.DialogDescription,{children:"Add a new user to the system"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"name",children:"Name"}),(0,d.jsx)(k.Input,{id:"name",value:_.name,onChange:a=>aa({..._,name:a.target.value}),placeholder:"Enter user's name"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,d.jsx)(k.Input,{id:"email",type:"email",value:_.email,onChange:a=>aa({..._,email:a.target.value}),placeholder:"Enter user's email"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"password",children:"Password"}),(0,d.jsx)(k.Input,{id:"password",type:"password",value:_.password,onChange:a=>aa({..._,password:a.target.value}),placeholder:"Enter password"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{htmlFor:"role",children:"Role"}),(0,d.jsxs)(p.Select,{value:_.role,onValueChange:a=>aa({..._,role:a}),children:[(0,d.jsx)(p.SelectTrigger,{children:(0,d.jsx)(p.SelectValue,{})}),(0,d.jsxs)(p.SelectContent,{children:[(0,d.jsx)(p.SelectItem,{value:"user",children:"User"}),(0,d.jsx)(p.SelectItem,{value:"admin",children:"Admin"})]})]})]})]}),(0,d.jsxs)(o.DialogFooter,{children:[(0,d.jsx)(j.Button,{variant:"secondary",onClick:()=>$(!1),children:"Cancel"}),(0,d.jsx)(j.Button,{onClick:aI,children:"Create User"})]})]})]})]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(k.Input,{placeholder:"Search users by email...",value:R,onChange:a=>S(a.target.value),onKeyDown:a=>"Enter"===a.key&&aG()})}),(0,d.jsx)(j.Button,{onClick:aG,variant:"secondary",children:(0,d.jsx)(z.default,{className:"h-4 w-4"})})]}),(0,d.jsx)("div",{className:"border rounded-lg",children:(0,d.jsxs)(n.Table,{children:[(0,d.jsx)(n.TableHeader,{children:(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableHead,{children:"User"}),(0,d.jsx)(n.TableHead,{children:"Role"}),(0,d.jsx)(n.TableHead,{children:"Status"}),(0,d.jsx)(n.TableHead,{children:"Created"}),(0,d.jsx)(n.TableHead,{children:"Actions"})]})}),(0,d.jsx)(n.TableBody,{children:X?(0,d.jsx)(n.TableRow,{children:(0,d.jsx)(n.TableCell,{colSpan:5,className:"text-center py-8",children:(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin mx-auto"})})}):0===N.length?(0,d.jsx)(n.TableRow,{children:(0,d.jsx)(n.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No users found"})}):N.map(b=>(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(C.default,{className:"h-4 w-4"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:b.name||"No name"}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:b.email})]})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)(p.Select,{value:b.role||"user",onValueChange:a=>aM(b.id,a),disabled:b.id===a?.user.id,children:[(0,d.jsx)(p.SelectTrigger,{className:"w-24",children:(0,d.jsx)(p.SelectValue,{})}),(0,d.jsxs)(p.SelectContent,{children:[(0,d.jsx)(p.SelectItem,{value:"user",children:"User"}),(0,d.jsx)(p.SelectItem,{value:"admin",children:"Admin"})]})]})}),(0,d.jsx)(n.TableCell,{children:b.banned?(0,d.jsx)(i.Badge,{variant:"destructive",children:"Banned"}):(0,d.jsx)(i.Badge,{variant:"default",children:"Active"})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,d.jsx)(r.default,{className:"h-3 w-3"}),new Date(b.createdAt).toLocaleDateString()]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)("div",{className:"flex items-center gap-1",children:b.id===a?.user.id?(0,d.jsx)("span",{className:"text-xs text-muted-foreground px-2",children:"Current User"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aN(b),title:"Manage feature flags",children:(0,d.jsx)(E.default,{className:"h-3 w-3"})}),b.banned?(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aK(b.id),title:"Unban user",children:(0,d.jsx)(v.default,{className:"h-3 w-3"})}):(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aJ(b.id),title:"Ban user",children:(0,d.jsx)(q.default,{className:"h-3 w-3"})}),(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aL(b.id),title:"Delete user",children:(0,d.jsx)(B.default,{className:"h-3 w-3"})})]})})})]},b.id))})]})}),aW>1&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(T-1)*10+1," to ",Math.min(10*T,V)," of ",V," users"]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(j.Button,{variant:"secondary",size:"sm",onClick:()=>aH(T-1),disabled:1===T,children:"Previous"}),(0,d.jsx)(j.Button,{variant:"secondary",size:"sm",onClick:()=>aH(T+1),disabled:T===aW,children:"Next"})]})]})]})]})]}),(0,d.jsxs)(m.TabsContent,{value:"domains",className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Total Domains"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:ab.length}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"All domains"})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Verified Domains"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:ab.filter(a=>"verified"===a.status).length}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ready to receive emails"})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Email Addresses"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:ab.reduce((a,b)=>a+b.emailAddressCount,0)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total email addresses"})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{className:"pb-2",children:(0,d.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Active Addresses"})}),(0,d.jsxs)(h.CardContent,{children:[(0,d.jsx)("div",{className:"text-2xl font-bold",children:ab.reduce((a,b)=>a+b.activeEmailAddressCount,0)}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active email addresses"})]})]})]}),(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(h.CardTitle,{children:"Domain Management"}),(0,d.jsx)(h.CardDescription,{children:"View and manage all domains across all users"})]}),(0,d.jsxs)(j.Button,{onClick:aT,variant:"secondary",className:"flex items-center gap-2",children:[(0,d.jsx)(y.default,{className:"h-4 w-4"}),"Refresh"]})]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(k.Input,{placeholder:"Search domains, users, or email addresses...",value:af,onChange:a=>ag(a.target.value)})}),(0,d.jsx)(j.Button,{onClick:()=>{},variant:"secondary",children:(0,d.jsx)(z.default,{className:"h-4 w-4"})})]}),(0,d.jsx)("div",{className:"border rounded-lg",children:(0,d.jsxs)(n.Table,{children:[(0,d.jsx)(n.TableHeader,{children:(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableHead,{children:"Domain"}),(0,d.jsx)(n.TableHead,{children:"Owner"}),(0,d.jsx)(n.TableHead,{children:"Status"}),(0,d.jsx)(n.TableHead,{children:"Email Addresses"}),(0,d.jsx)(n.TableHead,{children:"Provider"}),(0,d.jsx)(n.TableHead,{children:"Created"}),(0,d.jsx)(n.TableHead,{children:"Actions"})]})}),(0,d.jsx)(n.TableBody,{children:ad?(0,d.jsx)(n.TableRow,{children:(0,d.jsx)(n.TableCell,{colSpan:7,className:"text-center py-8",children:(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin mx-auto"})})}):0===aV.length?(0,d.jsx)(n.TableRow,{children:(0,d.jsx)(n.TableCell,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No domains found"})}):aV.map(a=>(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(u.default,{className:"h-4 w-4"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.domain}),a.isCatchAllEnabled&&(0,d.jsx)("div",{className:"text-xs text-blue-600",children:"Catch-all enabled"})]})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.userName}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground",children:a.userEmail})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)(i.Badge,{variant:"verified"===a.status?"default":"pending"===a.status?"secondary":"destructive",children:a.status})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsxs)("div",{children:[a.emailAddressCount," total"]}),(0,d.jsxs)("div",{className:"text-muted-foreground",children:[a.activeEmailAddressCount," active"]})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"text-sm",children:[a.domainProvider||"Unknown",a.providerConfidence&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.providerConfidence," confidence"]})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,d.jsx)(r.default,{className:"h-3 w-3"}),new Date(a.createdAt).toLocaleDateString()]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)("div",{className:"flex items-center gap-1",children:(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aU(a),title:"View email addresses",children:(0,d.jsx)(w.default,{className:"h-3 w-3"})})})})]},a.id))})]})})]})]}),(0,d.jsx)(o.Dialog,{open:an,onOpenChange:ao,children:(0,d.jsxs)(o.DialogContent,{className:"max-w-4xl",children:[(0,d.jsxs)(o.DialogHeader,{children:[(0,d.jsxs)(o.DialogTitle,{children:["Email Addresses for ",ah?.domain]}),(0,d.jsxs)(o.DialogDescription,{children:["Owned by ",ah?.userName," (",ah?.userEmail,")"]})]}),(0,d.jsx)("div",{className:"max-h-96 overflow-y-auto",children:al?(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin"})}):0===aj.length?(0,d.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No email addresses found for this domain"}):(0,d.jsxs)(n.Table,{children:[(0,d.jsx)(n.TableHeader,{children:(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableHead,{children:"Email Address"}),(0,d.jsx)(n.TableHead,{children:"Status"}),(0,d.jsx)(n.TableHead,{children:"Configuration"}),(0,d.jsx)(n.TableHead,{children:"Endpoint/Webhook"}),(0,d.jsx)(n.TableHead,{children:"Created"})]})}),(0,d.jsx)(n.TableBody,{children:aj.map(a=>(0,d.jsxs)(n.TableRow,{children:[(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(w.default,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"font-medium",children:a.address})]})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)(i.Badge,{variant:a.isActive?"default":"secondary",children:a.isActive?"Active":"Inactive"})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)("div",{className:"text-sm",children:a.isReceiptRuleConfigured?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"text-green-600",children:"✓ Configured"}),a.receiptRuleName&&(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Rule: ",a.receiptRuleName]})]}):(0,d.jsx)("div",{className:"text-yellow-600",children:"⚠ Not configured"})})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsx)("div",{className:"text-sm",children:a.endpointId?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.endpointName||"Unnamed Endpoint"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Type: ",a.endpointType]})]}):a.webhookId?(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium",children:a.webhookName||"Unnamed Webhook"}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Legacy webhook"})]}):(0,d.jsx)("div",{className:"text-muted-foreground",children:"No endpoint assigned"})})}),(0,d.jsx)(n.TableCell,{children:(0,d.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,d.jsx)(r.default,{className:"h-3 w-3"}),new Date(a.createdAt).toLocaleDateString()]})})]},a.id))})]})})]})}),(0,d.jsx)(o.Dialog,{open:ar,onOpenChange:as,children:(0,d.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,d.jsxs)(o.DialogHeader,{children:[(0,d.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(E.default,{className:"h-5 w-5 text-yellow-500"}),"Feature Flags for ",ap?.name]}),(0,d.jsxs)(o.DialogDescription,{children:["Manage feature flags for ",ap?.email]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(k.Input,{placeholder:"Enter feature flag name (e.g., vip, beta, advanced)",value:ax,onChange:a=>ay(a.target.value),onKeyDown:a=>"Enter"===a.key&&aO()}),(0,d.jsx)(j.Button,{onClick:aO,disabled:!ax.trim(),children:(0,d.jsx)(x.default,{className:"h-4 w-4"})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{className:"text-sm font-medium",children:"Current Feature Flags"}),av?(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin"})}):0===at.length?(0,d.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No feature flags assigned to this user"}):(0,d.jsx)("div",{className:"space-y-2",children:at.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(E.default,{className:"h-4 w-4 text-yellow-500"}),(0,d.jsx)("span",{className:"font-medium",children:a})]}),(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aP(a),title:"Remove feature flag",children:(0,d.jsx)(B.default,{className:"h-3 w-3"})})]},a))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{className:"text-sm font-medium",children:"Quick Add Common Flags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:["vip","beta","advanced","admin","premium"].map(a=>(0,d.jsx)(j.Button,{size:"sm",variant:"outline",onClick:async()=>{if(!(!ap||at.includes(a)))try{let b=await (0,H.addFeatureFlag)(ap.id,a);b.success&&au(b.flags||[])}catch(a){console.error("Failed to add feature flag:",a)}},disabled:at.includes(a),className:"text-xs",children:a},a))})]})]})]})})]}),(0,d.jsx)(m.TabsContent,{value:"development",className:"space-y-6",children:(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(E.default,{className:"h-5 w-5 text-yellow-500"}),"My Feature Flags"]}),(0,d.jsx)(h.CardDescription,{children:"Manage your own feature flags for testing purposes"})]}),(0,d.jsxs)(j.Button,{onClick:aQ,variant:"secondary",className:"flex items-center gap-2",children:[(0,d.jsx)(y.default,{className:"h-4 w-4"}),"Refresh"]})]})}),(0,d.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(k.Input,{placeholder:"Enter feature flag name (e.g., vip, beta, advanced)",value:aD,onChange:a=>aE(a.target.value),onKeyDown:a=>"Enter"===a.key&&aR()}),(0,d.jsx)(j.Button,{onClick:aR,disabled:!aD.trim(),children:(0,d.jsx)(x.default,{className:"h-4 w-4"})})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{className:"text-sm font-medium",children:"Active Feature Flags"}),aB?(0,d.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,d.jsx)(y.default,{className:"h-6 w-6 animate-spin"})}):0===az.length?(0,d.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No feature flags assigned to your account"}):(0,d.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:az.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(E.default,{className:"h-4 w-4 text-yellow-500"}),(0,d.jsx)("span",{className:"font-medium",children:a})]}),(0,d.jsx)(j.Button,{size:"sm",variant:"secondary",onClick:()=>aS(a),title:"Remove feature flag",children:(0,d.jsx)(B.default,{className:"h-3 w-3"})})]},a))})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(l.Label,{className:"text-sm font-medium",children:"Quick Add Common Flags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:["vip","beta","advanced","premium","debug"].map(b=>(0,d.jsx)(j.Button,{size:"sm",variant:"outline",onClick:async()=>{if(!(!a?.user?.id||az.includes(b)))try{let c=await (0,H.addFeatureFlag)(a.user.id,b);c.success&&aA(c.flags||[])}catch(a){console.error("Failed to add feature flag:",a)}},disabled:az.includes(b),className:"text-xs",children:b},b))})]}),(0,d.jsx)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(t.default,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"About Feature Flags"}),(0,d.jsxs)("p",{className:"text-blue-700 dark:text-blue-300 mt-1",children:["Feature flags control access to experimental features and UI elements. The ",(0,d.jsx)("strong",{children:"vip"})," flag enables the VIP tab in navigation. Changes take effect immediately without requiring a page refresh."]}),(0,d.jsxs)("p",{className:"text-blue-700 dark:text-blue-300 mt-2 text-xs",children:[(0,d.jsx)("strong",{children:"Security:"})," Only admins can modify other users' feature flags. Regular users can only manage their own flags for testing."]})]})]})})]})]})})]})]})}}};

//# sourceMappingURL=_28606494._.js.map