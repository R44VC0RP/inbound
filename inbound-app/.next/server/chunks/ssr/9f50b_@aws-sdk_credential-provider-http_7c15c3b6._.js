module.exports={775648:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({checkUrl:()=>b}),a.i(175454);var d=a.i(9686);let b=(a,b)=>{if("https:"!==a.protocol&&"169.254.170.2"!==a.hostname&&"169.254.170.23"!==a.hostname&&"[fd00:ec2::23]"!==a.hostname){if(a.hostname.includes("[")){if("[::1]"===a.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===a.hostname)return}else{if("localhost"===a.hostname)return;let b=a.hostname.split("."),c=a=>{let b=parseInt(a,10);return 0<=b&&b<=255};if("127"===b[0]&&c(b[1])&&c(b[2])&&c(b[3])&&4===b.length)return}throw new d.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:b})}}}},51489:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({transformFromString:()=>j,transformToString:()=>i}),a.i(311969);var d=a.i(535947),e=a.i(458417);a.i(631320);var f=a.i(848869),g=a.i(618050),h=a.i(217673);function i(a,b="utf-8"){return"base64"===b?(0,e.toBase64)(a):(0,g.toUtf8)(a)}function j(a,b){return"base64"===b?h.Uint8ArrayBlobAdapter.mutate((0,d.fromBase64)(a)):h.Uint8ArrayBlobAdapter.mutate((0,f.fromUtf8)(a))}},217673:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Uint8ArrayBlobAdapter:()=>b});var d=a.i(51489);class b extends Uint8Array{static fromString(a,b="utf-8"){if("string"==typeof a)return(0,d.transformFromString)(a,b);throw Error(`Unsupported conversion from ${typeof a} to Uint8ArrayBlobAdapter.`)}static mutate(a){return Object.setPrototypeOf(a,b.prototype),a}transformToString(a="utf-8"){return(0,d.transformToString)(this,a)}}}},782995:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({ChecksumStream:()=>b}),a.i(311969);var d=a.i(458417),e=a.i(109651);class b extends e.Duplex{constructor({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:e,base64Encoder:f}){if(super(),"function"==typeof c.pipe)this.source=c;else throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);this.base64Encoder=f??d.toBase64,this.expectedChecksum=a,this.checksum=b,this.checksumSourceLocation=e,this.source.pipe(this)}_read(a){}_write(a,b,c){try{this.checksum.update(a),this.push(a)}catch(a){return c(a)}return c()}async _final(a){try{let b=await this.checksum.digest(),c=this.base64Encoder(b);if(this.expectedChecksum!==c)return a(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${c}" in response header "${this.checksumSourceLocation}".`))}catch(b){return a(b)}return this.push(null),a()}}}},836731:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({isBlob:()=>c,isReadableStream:()=>b});let b=a=>"function"==typeof ReadableStream&&(a?.constructor?.name===ReadableStream.name||a instanceof ReadableStream),c=a=>"function"==typeof Blob&&(a?.constructor?.name===Blob.name||a instanceof Blob)}},318832:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({ChecksumStream:()=>c});let b="function"==typeof ReadableStream?ReadableStream:function(){};class c extends b{}}},58920:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({createChecksumStream:()=>b}),a.i(311969);var d=a.i(458417),e=a.i(836731),f=a.i(318832);let b=({expectedChecksum:a,checksum:b,source:c,checksumSourceLocation:g,base64Encoder:h})=>{if(!(0,e.isReadableStream)(c))throw Error(`@smithy/util-stream: unsupported source type ${c?.constructor?.name??c} in ChecksumStream.`);let i=h??d.toBase64;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let j=new TransformStream({start(){},async transform(a,c){b.update(a),c.enqueue(a)},async flush(c){let d=i(await b.digest());if(a!==d){let b=Error(`Checksum mismatch: expected "${a}" but received "${d}" in response header "${g}".`);c.error(b)}else c.terminate()}});c.pipeThrough(j);let k=j.readable;return Object.setPrototypeOf(k,f.ChecksumStream.prototype),k}}},539947:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({createChecksumStream:()=>g});var d=a.i(836731),e=a.i(782995),f=a.i(58920);function g(a){return"function"==typeof ReadableStream&&(0,d.isReadableStream)(a.source)?(0,f.createChecksumStream)(a):new e.ChecksumStream(a)}},577426:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({ByteArrayCollector:()=>b});class b{constructor(a){this.allocByteArray=a,this.byteLength=0,this.byteArrays=[]}push(a){this.byteArrays.push(a),this.byteLength+=a.byteLength}flush(){if(1===this.byteArrays.length){let a=this.byteArrays[0];return this.reset(),a}let a=this.allocByteArray(this.byteLength),b=0;for(let c=0;c<this.byteArrays.length;++c){let d=this.byteArrays[c];a.set(d,b),b+=d.byteLength}return this.reset(),a}reset(){this.byteArrays=[],this.byteLength=0}}}},916428:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({createBufferedReadable:()=>b,createBufferedReadableStream:()=>e,flush:()=>g,merge:()=>f,modeOf:()=>i,sizeOf:()=>h});var d=a.i(577426);function e(a,b,c){let e=a.getReader(),j=!1,k=0,l=["",new d.ByteArrayCollector(a=>new Uint8Array(a))],m=-1,n=async a=>{let{value:d,done:o}=await e.read();if(o){if(-1!==m){let b=g(l,m);h(b)>0&&a.enqueue(b)}a.close()}else{let e=i(d,!1);if(m!==e&&(m>=0&&a.enqueue(g(l,m)),m=e),-1===m)return void a.enqueue(d);let o=h(d);k+=o;let p=h(l[m]);if(o>=b&&0===p)a.enqueue(d);else{let e=f(l,m,d);!j&&k>2*b&&(j=!0,c?.warn(`@smithy/util-stream - stream chunk size ${o} is below threshold of ${b}, automatically buffering.`)),e>=b?a.enqueue(g(l,m)):await n(a)}}};return new ReadableStream({pull:n})}let b=e;function f(a,b,c){switch(b){case 0:return a[0]+=c,h(a[0]);case 1:case 2:return a[b].push(c),h(a[b])}}function g(a,b){switch(b){case 0:let c=a[0];return a[0]="",c;case 1:case 2:return a[b].flush()}throw Error(`@smithy/util-stream - invalid index ${b} given to flush()`)}function h(a){return a?.byteLength??a?.length??0}function i(a,b=!0){return b&&"undefined"!=typeof Buffer&&a instanceof Buffer?2:a instanceof Uint8Array?1:"string"==typeof a?0:-1}}},505330:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({createBufferedReadable:()=>h});var d=a.i(109175),e=a.i(577426),f=a.i(916428),g=a.i(836731);function h(a,b,c){if((0,g.isReadableStream)(a))return(0,f.createBufferedReadableStream)(a,b,c);let h=new d.Readable({read(){}}),i=!1,j=0,k=["",new e.ByteArrayCollector(a=>new Uint8Array(a)),new e.ByteArrayCollector(a=>Buffer.from(new Uint8Array(a)))],l=-1;return a.on("data",a=>{let d=(0,f.modeOf)(a,!0);if(l!==d&&(l>=0&&h.push((0,f.flush)(k,l)),l=d),-1===l)return void h.push(a);let e=(0,f.sizeOf)(a);j+=e;let g=(0,f.sizeOf)(k[l]);if(e>=b&&0===g)h.push(a);else{let d=(0,f.merge)(k,l,a);!i&&j>2*b&&(i=!0,c?.warn(`@smithy/util-stream - stream chunk size ${e} is below threshold of ${b}, automatically buffering.`)),d>=b&&h.push((0,f.flush)(k,l))}}),a.on("end",()=>{if(-1!==l){let a=(0,f.flush)(k,l);(0,f.sizeOf)(a)>0&&h.push(a)}h.push(null)}),h}},869487:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({getAwsChunkedEncodingStream:()=>b});var d=a.i(109651);let b=(a,b)=>{let{base64Encoder:c,bodyLengthChecker:e,checksumAlgorithmFn:f,checksumLocationName:g,streamHasher:h}=b,i=void 0!==c&&void 0!==f&&void 0!==g&&void 0!==h,j=i?h(f,a):void 0,k=new d.Readable({read:()=>{}});return a.on("data",a=>{let b=e(a)||0;k.push(`${b.toString(16)}\r
`),k.push(a),k.push("\r\n")}),a.on("end",async()=>{if(k.push(`0\r
`),i){let a=c(await j);k.push(`${g}:${a}\r
`),k.push(`\r
`)}k.push(null)}),k}}},381372:a=>{"use strict";var{g:b,__dirname:c}=a;async function d(a,b){let c=0,d=[],e=a.getReader(),f=!1;for(;!f;){let{done:a,value:g}=await e.read();if(g&&(d.push(g),c+=g?.byteLength??0),c>=b)break;f=a}e.releaseLock();let g=new Uint8Array(Math.min(b,c)),h=0;for(let a of d){if(a.byteLength>g.byteLength-h){g.set(a.subarray(0,g.byteLength-h),h);break}g.set(a,h),h+=a.length}return g}a.s({headStream:()=>d})},300393:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({headStream:()=>b});var d=a.i(109651),e=a.i(381372),f=a.i(836731);let b=(a,b)=>(0,f.isReadableStream)(a)?(0,e.headStream)(a,b):new Promise((d,e)=>{let f=new c;f.limit=b,a.pipe(f),a.on("error",a=>{f.end(),e(a)}),f.on("error",e),f.on("finish",function(){d(new Uint8Array(Buffer.concat(this.buffers)))})});class c extends d.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(a,b,c){if(this.buffers.push(a),this.bytesBuffered+=a.byteLength??0,this.bytesBuffered>=this.limit){let a=this.bytesBuffered-this.limit,b=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=b.subarray(0,b.byteLength-a),this.emit("finish")}c()}}}},301867:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({sdkStreamMixin:()=>c}),a.i(804599);var d=a.i(78465);a.i(311969);var e=a.i(458417),f=a.i(350473);a.i(631320);var g=a.i(618050),h=a.i(836731);let b="The stream has already been transformed.",c=a=>{if(!i(a)&&!(0,h.isReadableStream)(a)){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${b}`)}let c=!1,j=async()=>{if(c)throw Error(b);return c=!0,await (0,d.streamCollector)(a)},k=a=>{if("function"!=typeof a.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return a.stream()};return Object.assign(a,{transformToByteArray:j,transformToString:async a=>{let b=await j();if("base64"===a)return(0,e.toBase64)(b);if("hex"===a)return(0,f.toHex)(b);if(void 0===a||"utf8"===a||"utf-8"===a)return(0,g.toUtf8)(b);if("function"==typeof TextDecoder)return new TextDecoder(a).decode(b);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(c)throw Error(b);if(c=!0,i(a))return k(a);if((0,h.isReadableStream)(a))return a;throw Error(`Cannot transform payload to web stream, got ${a}`)}})},i=a=>"function"==typeof Blob&&a instanceof Blob}},855927:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({sdkStreamMixin:()=>c}),a.i(499203);var d=a.i(356124),e=a.i(867031),f=a.i(109651),g=a.i(301867);let b="The stream has already been transformed.",c=a=>{if(!(a instanceof f.Readable))try{return(0,g.sdkStreamMixin)(a)}catch(c){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${b}`)}let c=!1,h=async()=>{if(c)throw Error(b);return c=!0,await (0,d.streamCollector)(a)};return Object.assign(a,{transformToByteArray:h,transformToString:async a=>{let b=await h();return void 0===a||Buffer.isEncoding(a)?(0,e.fromArrayBuffer)(b.buffer,b.byteOffset,b.byteLength).toString(a):new TextDecoder(a).decode(b)},transformToWebStream:()=>{if(c)throw Error(b);if(null!==a.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof f.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return c=!0,f.Readable.toWeb(a)}})}}},270642:a=>{"use strict";var{g:b,__dirname:c}=a;async function d(a){return"function"==typeof a.stream&&(a=a.stream()),a.tee()}a.s({splitStream:()=>d})},996605:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({splitStream:()=>g});var d=a.i(109651),e=a.i(270642),f=a.i(836731);async function g(a){if((0,f.isReadableStream)(a)||(0,f.isBlob)(a))return(0,e.splitStream)(a);let b=new d.PassThrough,c=new d.PassThrough;return a.pipe(b),a.pipe(c),[b,c]}},717580:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(217673),a.i(782995),a.i(539947),a.i(505330),a.i(869487),a.i(300393),a.i(855927),a.i(996605),a.i(836731)},788311:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(217673),a.i(782995),a.i(539947),a.i(505330),a.i(869487),a.i(300393),a.i(855927),a.i(996605),a.i(836731),a.i(717580)},198357:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({createGetRequest:()=>h,getCredentials:()=>i}),a.i(175454);var d=a.i(9686);a.i(402692);var e=a.i(924861);a.i(627697);var f=a.i(927314);a.i(788311);var g=a.i(855927);function h(a){return new e.HttpRequest({protocol:a.protocol,hostname:a.hostname,port:Number(a.port),path:a.pathname,query:Array.from(a.searchParams.entries()).reduce((a,[b,c])=>(a[b]=c,a),{}),fragment:a.hash})}async function i(a,b){let c=(0,g.sdkStreamMixin)(a.body),e=await c.transformToString();if(200===a.statusCode){let a=JSON.parse(e);if("string"!=typeof a.AccessKeyId||"string"!=typeof a.SecretAccessKey||"string"!=typeof a.Token||"string"!=typeof a.Expiration)throw new d.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:b});return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.Token,expiration:(0,f.parseRfc3339DateTime)(a.Expiration)}}if(a.statusCode>=400&&a.statusCode<500){let c={};try{c=JSON.parse(e)}catch(a){}throw Object.assign(new d.CredentialsProviderError(`Server responded with status: ${a.statusCode}`,{logger:b}),{Code:c.Code,Message:c.Message})}throw new d.CredentialsProviderError(`Server responded with status: ${a.statusCode}`,{logger:b})}},619161:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({retryWrapper:()=>b});let b=(a,b,c)=>async()=>{for(let d=0;d<b;++d)try{return await a()}catch(a){await new Promise(a=>setTimeout(a,c))}return await a()}}},429650:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({fromHttp:()=>b});var d=a.i(204944);a.i(499203);var e=a.i(142559);a.i(175454);var f=a.i(9686),g=a.i(609892),h=a.i(775648),i=a.i(198357),j=a.i(619161);let b=(a={})=>{let b;a.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let c=a.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,k=a.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,l=a.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,m=a.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,n=a.logger?.constructor?.name!=="NoOpLogger"&&a.logger?a.logger.warn:console.warn;if(c&&k&&(n("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),n("awsContainerCredentialsFullUri will take precedence.")),l&&m&&(n("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),n("awsContainerAuthorizationToken will take precedence.")),k)b=k;else if(c)b=`http://169.254.170.2${c}`;else throw new f.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:a.logger});let o=new URL(b);(0,h.checkUrl)(o,a.logger);let p=new e.NodeHttpHandler({requestTimeout:a.timeout??1e3,connectionTimeout:a.timeout??1e3});return(0,j.retryWrapper)(async()=>{let b=(0,i.createGetRequest)(o);l?b.headers.Authorization=l:m&&(b.headers.Authorization=(await g.default.readFile(m)).toString());try{let a=await p.handle(b);return(0,i.getCredentials)(a.response).then(a=>(0,d.setCredentialFeature)(a,"CREDENTIALS_HTTP","z"))}catch(b){throw new f.CredentialsProviderError(String(b),{logger:a.logger})}},a.maxRetries??3,a.timeout??1e3)}}},617410:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(429650)},948750:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(429650),a.i(617410)},429375:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({fromHttp:()=>d.fromHttp});var d=a.i(429650);a.i(617410)},364958:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({fromHttp:()=>d.fromHttp}),a.i(948750);var d=a.i(429375)}};

//# sourceMappingURL=9f50b_%40aws-sdk_credential-provider-http_7c15c3b6._.js.map