module.exports={793382:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>s});var d=a.i(674420),e=a.i(722851),f=a.i(123546),g=a.i(378903),h=a.i(195743),i=a.i(816692),j=a.i(342064),k=a.i(520910),l=a.i(569164),m=a.i(483182),n=a.i(188126),o=a.i(840462),p=a.i(566825),q=a.i(816486),r=a.i(790024);function s(){let[a,b]=(0,e.useState)({}),[c,h]=(0,e.useState)(null),{data:i,isLoading:j,error:l,refetch:s}=(0,r.useDomainsListV2Query)(),u=a=>{b(b=>({...b,[a]:!b[a]}))},v=async a=>{try{await navigator.clipboard.writeText(a),h(a),setTimeout(()=>h(null),2e3)}catch(a){console.error("Failed to copy email:",a)}},w=a=>{if("verified"===a.status&&a.canReceiveEmails)return"#059669";switch(a.status){case"pending":return"#eab308";case"verified":return"#2563eb";case"failed":return"#dc2626";default:return"#64748b"}},x=a=>{switch(a){case"active":case"verified":case"ready":return"bg-emerald-500";case"pending":case"processing":return"bg-amber-500";case"inactive":case"error":return"bg-red-500";default:return"bg-gray-400"}},y=(a,b)=>a&&b?"border-l-emerald-500":a?"border-l-amber-500":"border-l-red-500",z=a=>a.isActive&&a.isReceiptRuleConfigured?"active":a.isActive?"pending":"inactive",A=a=>a.isReceiptRuleConfigured?"ready":a.isActive?"processing":"error",B=a=>{if(a.endpointId||a.webhookId)if(a.endpointName&&a.endpointType)return`Connected to ${a.endpointName} (${a.endpointType})`;else if(a.webhookName)return`Connected to ${a.webhookName}`;else return"Connected to endpoint";return a.isReceiptRuleConfigured?"Ready to receive":"Not configured"},C=a=>a.endpointId||a.webhookId?"bg-emerald-500":a.isReceiptRuleConfigured?"bg-blue-500":"bg-red-500";if(j)return(0,d.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4",children:(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsx)("div",{className:"text-muted-foreground",children:"Loading domains..."})})});if(l)return(0,d.jsx)("div",{className:"flex flex-1 flex-col gap-4 p-4",children:(0,d.jsx)(f.Card,{className:"border-destructive/50 bg-destructive/10",children:(0,d.jsx)(f.CardContent,{className:"p-6",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-destructive",children:[(0,d.jsx)(o.default,{width:"16",height:"16"}),(0,d.jsx)("span",{children:l?.message||"Failed to load domain data"}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>s(),className:"ml-auto text-destructive hover:text-destructive",children:"Try Again"})]})})})});if(!i)return null;let D=i.data||[],E=i.meta?.totalCount||0;return(0,d.jsx)("div",{className:"min-h-screen p-4 font-outfit",children:(0,d.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,d.jsxs)("div",{className:"mb-6 flex items-center justify-between mt-8",children:[(0,d.jsxs)("div",{className:"",children:[(0,d.jsxs)("h2",{className:"text-2xl font-semibold text-foreground mb-1 tracking-tight",children:["Domains & Email Addresses (",E,")"]}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Manage your email domains and addresses"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(g.Button,{size:"sm",asChild:!0,children:(0,d.jsxs)(q.default,{href:"/add",children:[(0,d.jsx)(m.default,{width:"12",height:"12",className:"mr-1"}),"Add Domain"]})}),(0,d.jsxs)(g.Button,{variant:"secondary",size:"sm",onClick:()=>s(),disabled:j,children:[(0,d.jsx)(n.default,{width:"12",height:"12",className:"mr-1"}),"Refresh"]})]})]}),(0,d.jsx)("div",{className:"space-y-2 mb-6",children:0===D.length?(0,d.jsx)(f.Card,{className:"bg-card border-border rounded-xl",children:(0,d.jsx)(f.CardContent,{className:"p-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(p.CustomInboundIcon,{Icon:k.default,size:48,backgroundColor:"#8b5cf6",className:"mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"No domains configured"}),(0,d.jsx)(g.Button,{variant:"secondary",asChild:!0,children:(0,d.jsxs)(q.default,{href:"/add",children:[(0,d.jsx)(m.default,{width:"16",height:"16",className:"mr-2"}),"Add Your First Domain"]})})]})})}):D.map(b=>(0,d.jsx)(t,{domain:b,isExpanded:a[b.id],onToggle:()=>u(b.id),onCopyEmail:v,copiedEmail:c,getDomainIconColor:w,getStatusColor:x,getBorderColor:y,getEmailStatus:z,getReadyStatus:A,getConnectionStatus:B,getConnectionStatusColor:C},b.id))})]})})}function t({domain:a,isExpanded:b,onToggle:c,onCopyEmail:e,copiedEmail:m,getDomainIconColor:n,getStatusColor:o,getBorderColor:s,getEmailStatus:t,getReadyStatus:u,getConnectionStatus:v,getConnectionStatusColor:w}){let x="verified"===a.status&&a.stats.totalEmailAddresses>0&&!a.isCatchAllEnabled,{data:y}=(0,r.useDomainDetailsV2Query)(x?a.id:""),z=[];return(0,d.jsx)(f.Card,{className:"bg-card border-border hover:bg-accent/5 transition-all duration-300 rounded-xl overflow-hidden group",children:(0,d.jsxs)(f.CardContent,{className:"p-0",children:[(0,d.jsx)("div",{className:"p-4 cursor-pointer hover:bg-accent/10 transition-colors duration-200 border-b border-border",onClick:c,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)(p.CustomInboundIcon,{Icon:k.default,size:36,backgroundColor:n(a)}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-base font-semibold text-foreground tracking-tight",children:a.domain}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 mt-0.5",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:`w-2 h-2 rounded-full ${"verified"===a.status?"bg-green-500":"bg-red-500"}`}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"verified"===a.status?"Verified":"Pending DNS"})]}),a.isCatchAllEnabled&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"•"}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"Catch-all"})]})]}),!a.isCatchAllEnabled&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground font-medium",children:"•"}),(0,d.jsxs)("span",{className:"text-xs text-muted-foreground font-medium",children:[a.stats.totalEmailAddresses," address",1!==a.stats.totalEmailAddresses?"es":""]})]})]})]})]}),(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsx)(g.Button,{variant:"secondary",size:"sm",onClick:a=>a.stopPropagation(),asChild:!0,children:(0,d.jsxs)(q.default,{href:`/emails/${a.id}`,children:[(0,d.jsx)(j.default,{width:"12",height:"12",className:"mr-1"}),"Config"]})})})]})}),z.length>0&&!a.isCatchAllEnabled&&(0,d.jsx)("div",{className:"bg-muted/50 overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:b?`${80*z.length+16}px`:"0px",opacity:+!!b},children:z.map((a,b)=>(0,d.jsx)("div",{className:`group/email relative px-4 py-2 hover:bg-muted/80 transition-colors duration-200 border-l-3 ${s(a.isActive,a.isReceiptRuleConfigured)} ${b!==z.length-1?"border-b border-border":""}`,children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,d.jsx)(p.CustomInboundIcon,{Icon:l.default,size:28,backgroundColor:"#10b981"}),(0,d.jsx)("div",{className:"flex-1 min-w-0",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-foreground truncate",children:a.address}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",className:"opacity-0 group-hover/email:opacity-100 transition-all duration-200 p-1 h-auto hover:bg-accent rounded hover:scale-105 active:scale-95",onClick:()=>e(a.address),children:m===a.address?(0,d.jsx)(h.default,{width:"14",height:"14",className:"text-emerald-500"}):(0,d.jsx)(i.default,{width:"14",height:"14",className:"text-muted-foreground transition-all duration-150 hover:text-foreground"})})]})})]}),(0,d.jsx)("div",{className:"flex items-center space-x-2 text-right text-sm ",children:(0,d.jsxs)("span",{className:"text-muted-foreground",children:[a.emailsLast24h||0," emails today"]})})]})},a.id))})]})})}}};

//# sourceMappingURL=app_%28main%29_emails_page_tsx_2ed16fa5._.js.map