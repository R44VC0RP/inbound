{"version":3,"sources":["turbopack:///[project]/node_modules/@better-auth/stripe/dist/client.mjs","turbopack:///[project]/node_modules/@better-fetch/fetch/src/error.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/plugins.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/retry.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/auth.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/utils.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/create-fetch/schema.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/create-fetch/index.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/url.ts","turbopack:///[project]/node_modules/@better-fetch/fetch/src/fetch.ts","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.8zoxzg-F.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.DdzSJf-n.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.VTXNLFMT.mjs","turbopack:///[project]/node_modules/nanostores/atom/index.js","turbopack:///[project]/node_modules/nanostores/lifecycle/index.js","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.CQvoVIBD.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.ffWeg50w.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.FvRECEI1.mjs","turbopack:///[project]/node_modules/nanostores/listen-keys/index.js","turbopack:///[project]/node_modules/better-auth/dist/client/react/index.mjs","turbopack:///[project]/node_modules/better-auth/dist/plugins/access/index.mjs","turbopack:///[project]/node_modules/better-auth/dist/plugins/organization/access/index.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.OuYYTHC7.mjs","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/bufferToBase64URLString.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/base64URLStringToBuffer.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/browserSupportsWebAuthn.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/toPublicKeyCredentialDescriptor.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/isValidDomain.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/webAuthnError.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/identifyRegistrationError.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/webAuthnAbortService.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/toAuthenticatorAttachment.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/methods/startRegistration.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/browserSupportsWebAuthnAutofill.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/identifyAuthenticationError.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/methods/startAuthentication.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/helpers/platformAuthenticatorIsAvailable.js","turbopack:///[project]/node_modules/@simplewebauthn/browser/esm/index.js","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.Ddw8bVyV.mjs","turbopack:///[project]/node_modules/better-auth/dist/plugins/admin/access/index.mjs","turbopack:///[project]/node_modules/better-auth/dist/shared/better-auth.bkwPl2G4.mjs","turbopack:///[project]/node_modules/better-auth/dist/client/plugins/index.mjs","turbopack:///[project]/lib/auth/auth-client.ts"],"sourcesContent":["const stripeClient = (options) => {\n  return {\n    id: \"stripe-client\",\n    $InferServerPlugin: {},\n    pathMethods: {\n      \"/subscription/restore\": \"POST\"\n    }\n  };\n};\n\nexport { stripeClient };\n","export class BetterFetchError extends Error {\n\tconstructor(\n\t\tpublic status: number,\n\t\tpublic statusText: string,\n\t\tpublic error: any,\n\t) {\n\t\tsuper(statusText || status.toString(), {\n\t\t\tcause: error,\n\t\t});\n\t}\n}\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { Schema } from \"./create-fetch\";\nimport { BetterFetchError } from \"./error\";\nimport type { BetterFetchOption } from \"./types\";\n\nexport type RequestContext<T extends Record<string, any> = any> = {\n\turl: URL | string;\n\theaders: Headers;\n\tbody: any;\n\tmethod: string;\n\tsignal: AbortSignal;\n} & BetterFetchOption<any, any, any, T>;\nexport type ResponseContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type SuccessContext<Res = any> = {\n\tdata: Res;\n\tresponse: Response;\n\trequest: RequestContext;\n};\nexport type ErrorContext = {\n\tresponse: Response;\n\trequest: RequestContext;\n\terror: BetterFetchError & Record<string, any>;\n};\nexport interface FetchHooks<Res = any> {\n\t/**\n\t * a callback function that will be called when a\n\t * request is made.\n\t *\n\t * The returned context object will be reassigned to\n\t * the original request context.\n\t */\n\tonRequest?: <T extends Record<string, any>>(\n\t\tcontext: RequestContext<T>,\n\t) => Promise<RequestContext | void> | RequestContext | void;\n\t/**\n\t * a callback function that will be called when\n\t * response is received. This will be called before\n\t * the response is parsed and returned.\n\t *\n\t * The returned response will be reassigned to the\n\t * original response if it's changed.\n\t */\n\tonResponse?: (\n\t\tcontext: ResponseContext,\n\t) =>\n\t\t| Promise<Response | void | ResponseContext>\n\t\t| Response\n\t\t| ResponseContext\n\t\t| void;\n\t/**\n\t * a callback function that will be called when a\n\t * response is successful.\n\t */\n\tonSuccess?: (context: SuccessContext<Res>) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when an\n\t * error occurs.\n\t */\n\tonError?: (context: ErrorContext) => Promise<void> | void;\n\t/**\n\t * a callback function that will be called when a\n\t * request is retried.\n\t */\n\tonRetry?: (response: ResponseContext) => Promise<void> | void;\n\t/**\n\t * Options for the hooks\n\t */\n\thookOptions?: {\n\t\t/**\n\t\t * Clone the response\n\t\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Response/clone\n\t\t */\n\t\tcloneResponse?: boolean;\n\t};\n}\n\n/**\n * A plugin that returns an id and hooks\n */\nexport type BetterFetchPlugin = {\n\t/**\n\t * A unique id for the plugin\n\t */\n\tid: string;\n\t/**\n\t * A name for the plugin\n\t */\n\tname: string;\n\t/**\n\t * A description for the plugin\n\t */\n\tdescription?: string;\n\t/**\n\t * A version for the plugin\n\t */\n\tversion?: string;\n\t/**\n\t * Hooks for the plugin\n\t */\n\thooks?: FetchHooks;\n\t/**\n\t * A function that will be called when the plugin is\n\t * initialized. This will be called before the any\n\t * of the other internal functions.\n\t *\n\t * The returned options will be merged with the\n\t * original options.\n\t */\n\tinit?: (\n\t\turl: string,\n\t\toptions?: BetterFetchOption,\n\t) =>\n\t\t| Promise<{\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  }>\n\t\t| {\n\t\t\t\turl: string;\n\t\t\t\toptions?: BetterFetchOption;\n\t\t  };\n\t/**\n\t * A schema for the plugin\n\t */\n\tschema?: Schema;\n\t/**\n\t * Additional options that can be passed to the plugin\n\t */\n\tgetOptions?: () => StandardSchemaV1;\n};\n\nexport const initializePlugins = async (\n\turl: string,\n\toptions?: BetterFetchOption,\n) => {\n\tlet opts = options || {};\n\tconst hooks: {\n\t\tonRequest: Array<FetchHooks[\"onRequest\"]>;\n\t\tonResponse: Array<FetchHooks[\"onResponse\"]>;\n\t\tonSuccess: Array<FetchHooks[\"onSuccess\"]>;\n\t\tonError: Array<FetchHooks[\"onError\"]>;\n\t\tonRetry: Array<FetchHooks[\"onRetry\"]>;\n\t} = {\n\t\tonRequest: [options?.onRequest],\n\t\tonResponse: [options?.onResponse],\n\t\tonSuccess: [options?.onSuccess],\n\t\tonError: [options?.onError],\n\t\tonRetry: [options?.onRetry],\n\t};\n\tif (!options || !options?.plugins) {\n\t\treturn {\n\t\t\turl,\n\t\t\toptions: opts,\n\t\t\thooks,\n\t\t};\n\t}\n\tfor (const plugin of options?.plugins || []) {\n\t\tif (plugin.init) {\n\t\t\tconst pluginRes = await plugin.init?.(url.toString(), options);\n\t\t\topts = pluginRes.options || opts;\n\t\t\turl = pluginRes.url;\n\t\t}\n\t\thooks.onRequest.push(plugin.hooks?.onRequest);\n\t\thooks.onResponse.push(plugin.hooks?.onResponse);\n\t\thooks.onSuccess.push(plugin.hooks?.onSuccess);\n\t\thooks.onError.push(plugin.hooks?.onError);\n\t\thooks.onRetry.push(plugin.hooks?.onRetry);\n\t}\n\n\treturn {\n\t\turl,\n\t\toptions: opts,\n\t\thooks,\n\t};\n};\n","export type RetryCondition = (\n\tresponse: Response | null,\n) => boolean | Promise<boolean>;\n\nexport type LinearRetry = {\n\ttype: \"linear\";\n\tattempts: number;\n\tdelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type ExponentialRetry = {\n\ttype: \"exponential\";\n\tattempts: number;\n\tbaseDelay: number;\n\tmaxDelay: number;\n\tshouldRetry?: RetryCondition;\n};\n\nexport type RetryOptions = LinearRetry | ExponentialRetry | number;\n\nexport interface RetryStrategy {\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean>;\n\tgetDelay(attempt: number): number;\n}\n\nclass LinearRetryStrategy implements RetryStrategy {\n\tconstructor(private options: LinearRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(): number {\n\t\treturn this.options.delay;\n\t}\n}\n\nclass ExponentialRetryStrategy implements RetryStrategy {\n\tconstructor(private options: ExponentialRetry) {}\n\n\tshouldAttemptRetry(\n\t\tattempt: number,\n\t\tresponse: Response | null,\n\t): Promise<boolean> {\n\t\tif (this.options.shouldRetry) {\n\t\t\treturn Promise.resolve(\n\t\t\t\tattempt < this.options.attempts && this.options.shouldRetry(response),\n\t\t\t);\n\t\t}\n\t\treturn Promise.resolve(attempt < this.options.attempts);\n\t}\n\n\tgetDelay(attempt: number): number {\n\t\tconst delay = Math.min(\n\t\t\tthis.options.maxDelay,\n\t\t\tthis.options.baseDelay * 2 ** attempt,\n\t\t);\n\t\treturn delay;\n\t}\n}\n\nexport function createRetryStrategy(options: RetryOptions): RetryStrategy {\n\tif (typeof options === \"number\") {\n\t\treturn new LinearRetryStrategy({\n\t\t\ttype: \"linear\",\n\t\t\tattempts: options,\n\t\t\tdelay: 1000,\n\t\t});\n\t}\n\n\tswitch (options.type) {\n\t\tcase \"linear\":\n\t\t\treturn new LinearRetryStrategy(options);\n\t\tcase \"exponential\":\n\t\t\treturn new ExponentialRetryStrategy(options);\n\t\tdefault:\n\t\t\tthrow new Error(\"Invalid retry strategy\");\n\t}\n}\n","import type { BetterFetchOption } from \"./types\";\n\nexport type typeOrTypeReturning<T> = T | (() => T);\n/**\n * Bearer token authentication\n *\n * the value of `token` will be added to a header as\n * `auth: Bearer token`,\n */\nexport type Bearer = {\n\ttype: \"Bearer\";\n\ttoken: typeOrTypeReturning<string | undefined | Promise<string | undefined>>;\n};\n\n/**\n * Basic auth\n */\nexport type Basic = {\n\ttype: \"Basic\";\n\tusername: typeOrTypeReturning<string | undefined>;\n\tpassword: typeOrTypeReturning<string | undefined>;\n};\n\n/**\n * Custom auth\n *\n * @param prefix - prefix of the header\n * @param value - value of the header\n *\n * @example\n * ```ts\n * {\n *  type: \"Custom\",\n *  prefix: \"Token\",\n *  value: \"token\"\n * }\n * ```\n */\nexport type Custom = {\n\ttype: \"Custom\";\n\tprefix: typeOrTypeReturning<string | undefined>;\n\tvalue: typeOrTypeReturning<string | undefined>;\n};\n\nexport type Auth = Bearer | Basic | Custom;\n\nexport const getAuthHeader = async (options?: BetterFetchOption) => {\n\tconst headers: Record<string, string> = {};\n\tconst getValue = async (\n\t\tvalue: typeOrTypeReturning<\n\t\t\tstring | undefined | Promise<string | undefined>\n\t\t>,\n\t) => (typeof value === \"function\" ? await value() : value);\n\tif (options?.auth) {\n\t\tif (options.auth.type === \"Bearer\") {\n\t\t\tconst token = await getValue(options.auth.token);\n\t\t\tif (!token) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Bearer ${token}`;\n\t\t} else if (options.auth.type === \"Basic\") {\n\t\t\tconst username = getValue(options.auth.username);\n\t\t\tconst password = getValue(options.auth.password);\n\t\t\tif (!username || !password) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `Basic ${btoa(`${username}:${password}`)}`;\n\t\t} else if (options.auth.type === \"Custom\") {\n\t\t\tconst value = getValue(options.auth.value);\n\t\t\tif (!value) {\n\t\t\t\treturn headers;\n\t\t\t}\n\t\t\theaders[\"authorization\"] = `${getValue(options.auth.prefix)} ${value}`;\n\t\t}\n\t}\n\treturn headers;\n};\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { getAuthHeader } from \"./auth\";\nimport { methods } from \"./create-fetch\";\nimport type { BetterFetchOption, FetchEsque } from \"./types\";\n\nconst JSON_RE = /^application\\/(?:[\\w!#$%&*.^`~-]*\\+)?json(;.+)?$/i;\n\nexport type ResponseType = \"json\" | \"text\" | \"blob\";\nexport function detectResponseType(request: Response): ResponseType {\n\tconst _contentType = request.headers.get(\"content-type\");\n\tconst textTypes = new Set([\n\t\t\"image/svg\",\n\t\t\"application/xml\",\n\t\t\"application/xhtml\",\n\t\t\"application/html\",\n\t]);\n\tif (!_contentType) {\n\t\treturn \"json\";\n\t}\n\tconst contentType = _contentType.split(\";\").shift() || \"\";\n\tif (JSON_RE.test(contentType)) {\n\t\treturn \"json\";\n\t}\n\tif (textTypes.has(contentType) || contentType.startsWith(\"text/\")) {\n\t\treturn \"text\";\n\t}\n\treturn \"blob\";\n}\n\nexport function isJSONParsable(value: any) {\n\ttry {\n\t\tJSON.parse(value);\n\t\treturn true;\n\t} catch (error) {\n\t\treturn false;\n\t}\n}\n\n//https://github.com/unjs/ofetch/blob/main/src/utils.ts\nexport function isJSONSerializable(value: any) {\n\tif (value === undefined) {\n\t\treturn false;\n\t}\n\tconst t = typeof value;\n\tif (t === \"string\" || t === \"number\" || t === \"boolean\" || t === null) {\n\t\treturn true;\n\t}\n\tif (t !== \"object\") {\n\t\treturn false;\n\t}\n\tif (Array.isArray(value)) {\n\t\treturn true;\n\t}\n\tif (value.buffer) {\n\t\treturn false;\n\t}\n\treturn (\n\t\t(value.constructor && value.constructor.name === \"Object\") ||\n\t\ttypeof value.toJSON === \"function\"\n\t);\n}\n\nexport function jsonParse(text: string) {\n\ttry {\n\t\treturn JSON.parse(text);\n\t} catch (error) {\n\t\treturn text;\n\t}\n}\n\nexport function isFunction(value: any): value is () => any {\n\treturn typeof value === \"function\";\n}\n\nexport function getFetch(options?: BetterFetchOption): FetchEsque {\n\tif (options?.customFetchImpl) {\n\t\treturn options.customFetchImpl;\n\t}\n\tif (typeof globalThis !== \"undefined\" && isFunction(globalThis.fetch)) {\n\t\treturn globalThis.fetch;\n\t}\n\tif (typeof window !== \"undefined\" && isFunction(window.fetch)) {\n\t\treturn window.fetch;\n\t}\n\tthrow new Error(\"No fetch implementation found\");\n}\n\nexport function isPayloadMethod(method?: string) {\n\tif (!method) {\n\t\treturn false;\n\t}\n\tconst payloadMethod = [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\treturn payloadMethod.includes(method.toUpperCase());\n}\n\nexport function isRouteMethod(method?: string) {\n\tconst routeMethod = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\"];\n\tif (!method) {\n\t\treturn false;\n\t}\n\treturn routeMethod.includes(method.toUpperCase());\n}\n\nexport async function getHeaders(opts?: BetterFetchOption) {\n\tconst headers = new Headers(opts?.headers);\n\tconst authHeader = await getAuthHeader(opts);\n\tfor (const [key, value] of Object.entries(authHeader || {})) {\n\t\theaders.set(key, value);\n\t}\n\tif (!headers.has(\"content-type\")) {\n\t\tconst t = detectContentType(opts?.body);\n\t\tif (t) {\n\t\t\theaders.set(\"content-type\", t);\n\t\t}\n\t}\n\n\treturn headers;\n}\n\nexport function getURL(url: string, options?: BetterFetchOption) {\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\tlet _url: string | URL;\n\ttry {\n\t\tif (url.startsWith(\"http\")) {\n\t\t\t_url = url;\n\t\t} else {\n\t\t\tlet baseURL = options?.baseURL;\n\t\t\tif (baseURL && !baseURL?.endsWith(\"/\")) {\n\t\t\t\tbaseURL = baseURL + \"/\";\n\t\t\t}\n\t\t\tif (url.startsWith(\"/\")) {\n\t\t\t\t_url = new URL(url.substring(1), baseURL);\n\t\t\t} else {\n\t\t\t\t_url = new URL(url, options?.baseURL);\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (e instanceof TypeError) {\n\t\t\tif (!options?.baseURL) {\n\t\t\t\tthrow TypeError(\n\t\t\t\t\t`Invalid URL ${url}. Are you passing in a relative url but not setting the baseURL?`,\n\t\t\t\t);\n\t\t\t}\n\t\t\tthrow TypeError(\n\t\t\t\t`Invalid URL ${url}. Please validate that you are passing the correct input.`,\n\t\t\t);\n\t\t}\n\t\tthrow e;\n\t}\n\n\t/**\n\t * Dynamic Parameters.\n\t */\n\tif (options?.params) {\n\t\tif (Array.isArray(options?.params)) {\n\t\t\tconst params = options?.params\n\t\t\t\t? Array.isArray(options.params)\n\t\t\t\t\t? `/${options.params.join(\"/\")}`\n\t\t\t\t\t: `/${Object.values(options.params).join(\"/\")}`\n\t\t\t\t: \"\";\n\t\t\t_url = _url.toString().split(\"/:\")[0];\n\t\t\t_url = `${_url.toString()}${params}`;\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(options?.params)) {\n\t\t\t\t_url = _url.toString().replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\tconst __url = new URL(_url);\n\t/**\n\t * Query Parameters\n\t */\n\tconst queryParams = options?.query;\n\tif (queryParams) {\n\t\tfor (const [key, value] of Object.entries(queryParams)) {\n\t\t\t__url.searchParams.append(key, String(value));\n\t\t}\n\t}\n\treturn __url;\n}\n\nexport function detectContentType(body: any) {\n\tif (isJSONSerializable(body)) {\n\t\treturn \"application/json\";\n\t}\n\n\treturn null;\n}\n\nexport function getBody(options?: BetterFetchOption) {\n\tif (!options?.body) {\n\t\treturn null;\n\t}\n\tconst headers = new Headers(options?.headers);\n\tif (isJSONSerializable(options.body) && !headers.has(\"content-type\")) {\n\t\tfor (const [key, value] of Object.entries(options?.body)) {\n\t\t\tif (value instanceof Date) {\n\t\t\t\toptions.body[key] = value.toISOString();\n\t\t\t}\n\t\t}\n\t\treturn JSON.stringify(options.body);\n\t}\n\n\treturn options.body;\n}\n\nexport function getMethod(url: string, options?: BetterFetchOption) {\n\tif (options?.method) {\n\t\treturn options.method.toUpperCase();\n\t}\n\tif (url.startsWith(\"@\")) {\n\t\tconst pMethod = url.split(\"@\")[1]?.split(\"/\")[0];\n\t\tif (!methods.includes(pMethod)) {\n\t\t\treturn options?.body ? \"POST\" : \"GET\";\n\t\t}\n\t\treturn pMethod.toUpperCase();\n\t}\n\treturn options?.body ? \"POST\" : \"GET\";\n}\n\nexport function getTimeout(\n\toptions?: BetterFetchOption,\n\tcontroller?: AbortController,\n) {\n\tlet abortTimeout: ReturnType<typeof setTimeout> | undefined;\n\tif (!options?.signal && options?.timeout) {\n\t\tabortTimeout = setTimeout(() => controller?.abort(), options?.timeout);\n\t}\n\treturn {\n\t\tabortTimeout,\n\t\tclearTimeout: () => {\n\t\t\tif (abortTimeout) {\n\t\t\t\tclearTimeout(abortTimeout);\n\t\t\t}\n\t\t},\n\t};\n}\n\nexport function bodyParser(data: any, responseType: ResponseType) {\n\tif (responseType === \"json\") {\n\t\treturn JSON.parse(data);\n\t}\n\treturn data;\n}\n\nexport class ValidationError extends Error {\n\tpublic readonly issues: ReadonlyArray<StandardSchemaV1.Issue>;\n\n\tconstructor(issues: ReadonlyArray<StandardSchemaV1.Issue>, message?: string) {\n\t\t// Default message fallback in case one isn't supplied.\n\t\tsuper(message || JSON.stringify(issues, null, 2));\n\t\tthis.issues = issues;\n\n\t\t// Set the prototype explicitly to ensure that instanceof works correctly.\n\t\tObject.setPrototypeOf(this, ValidationError.prototype);\n\t}\n}\n\nexport async function parseStandardSchema<TSchema extends StandardSchemaV1>(\n\tschema: TSchema,\n\tinput: StandardSchemaV1.InferInput<TSchema>,\n): Promise<StandardSchemaV1.InferOutput<TSchema>> {\n\tlet result = await schema[\"~standard\"].validate(input);\n\n\tif (result.issues) {\n\t\tthrow new ValidationError(result.issues);\n\t}\n\treturn result.value;\n}\n","import type { StandardSchemaV1 } from \"../standard-schema\";\nimport type { StringLiteralUnion } from \"../type-utils\";\n\nexport type FetchSchema = {\n\tinput?: StandardSchemaV1;\n\toutput?: StandardSchemaV1;\n\tquery?: StandardSchemaV1;\n\tparams?: StandardSchemaV1<Record<string, unknown>> | undefined;\n\tmethod?: Methods;\n};\n\nexport type Methods = \"get\" | \"post\" | \"put\" | \"patch\" | \"delete\";\n\nexport const methods = [\"get\", \"post\", \"put\", \"patch\", \"delete\"];\n\ntype RouteKey = StringLiteralUnion<`@${Methods}/`>;\n\nexport type FetchSchemaRoutes = {\n\t[key in RouteKey]?: FetchSchema;\n};\n\nexport const createSchema = <\n\tF extends FetchSchemaRoutes,\n\tS extends SchemaConfig,\n>(\n\tschema: F,\n\tconfig?: S,\n) => {\n\treturn {\n\t\tschema: schema as F,\n\t\tconfig: config as S,\n\t};\n};\n\nexport type SchemaConfig = {\n\tstrict?: boolean;\n\t/**\n\t * A prefix that will be prepended when it's\n\t * calling the schema.\n\t *\n\t * NOTE: Make sure to handle converting\n\t * the prefix to the baseURL in the init\n\t * function if you you are defining for a\n\t * plugin.\n\t */\n\tprefix?: \"\" | (string & Record<never, never>);\n\t/**\n\t * The base url of the schema. By default it's the baseURL of the fetch instance.\n\t */\n\tbaseURL?: \"\" | (string & Record<never, never>);\n};\n\nexport type Schema = {\n\tschema: FetchSchemaRoutes;\n\tconfig: SchemaConfig;\n};\n","import { betterFetch } from \"../fetch\";\nimport { BetterFetchPlugin } from \"../plugins\";\nimport type { BetterFetchOption } from \"../types\";\nimport { parseStandardSchema } from \"../utils\";\nimport type { BetterFetch, CreateFetchOption } from \"./types\";\n\nexport const applySchemaPlugin = (config: CreateFetchOption) =>\n\t({\n\t\tid: \"apply-schema\",\n\t\tname: \"Apply Schema\",\n\t\tversion: \"1.0.0\",\n\t\tasync init(url, options) {\n\t\t\tconst schema =\n\t\t\t\tconfig.plugins?.find((plugin) =>\n\t\t\t\t\tplugin.schema?.config\n\t\t\t\t\t\t? url.startsWith(plugin.schema.config.baseURL || \"\") ||\n\t\t\t\t\t\t\turl.startsWith(plugin.schema.config.prefix || \"\")\n\t\t\t\t\t\t: false,\n\t\t\t\t)?.schema || config.schema;\n\t\t\tif (schema) {\n\t\t\t\tlet urlKey = url;\n\t\t\t\tif (schema.config?.prefix) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.prefix)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.prefix, \"\");\n\t\t\t\t\t\tif (schema.config.baseURL) {\n\t\t\t\t\t\t\turl = url.replace(schema.config.prefix, schema.config.baseURL);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (schema.config?.baseURL) {\n\t\t\t\t\tif (urlKey.startsWith(schema.config.baseURL)) {\n\t\t\t\t\t\turlKey = urlKey.replace(schema.config.baseURL, \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst keySchema = schema.schema[urlKey];\n\t\t\t\tif (keySchema) {\n\t\t\t\t\tlet opts = {\n\t\t\t\t\t\t...options,\n\t\t\t\t\t\tmethod: keySchema.method,\n\t\t\t\t\t\toutput: keySchema.output,\n\t\t\t\t\t};\n\t\t\t\t\tif (!options?.disableValidation) {\n\t\t\t\t\t\topts = {\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tbody: keySchema.input\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.input, options?.body)\n\t\t\t\t\t\t\t\t: options?.body,\n\t\t\t\t\t\t\tparams: keySchema.params\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.params, options?.params)\n\t\t\t\t\t\t\t\t: options?.params,\n\t\t\t\t\t\t\tquery: keySchema.query\n\t\t\t\t\t\t\t\t? await parseStandardSchema(keySchema.query, options?.query)\n\t\t\t\t\t\t\t\t: options?.query,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl,\n\t\t\t\t\t\toptions: opts,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\turl,\n\t\t\t\toptions,\n\t\t\t};\n\t\t},\n\t}) satisfies BetterFetchPlugin;\n\nexport const createFetch = <Option extends CreateFetchOption>(\n\tconfig?: Option,\n) => {\n\tasync function $fetch(url: string, options?: BetterFetchOption) {\n\t\tconst opts = {\n\t\t\t...config,\n\t\t\t...options,\n\t\t\tplugins: [...(config?.plugins || []), applySchemaPlugin(config || {})],\n\t\t} as BetterFetchOption;\n\n\t\tif (config?.catchAllError) {\n\t\t\ttry {\n\t\t\t\treturn await betterFetch(url, opts);\n\t\t\t} catch (error) {\n\t\t\t\treturn {\n\t\t\t\t\tdata: null,\n\t\t\t\t\terror: {\n\t\t\t\t\t\tstatus: 500,\n\t\t\t\t\t\tstatusText: \"Fetch Error\",\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\"Fetch related error. Captured by catchAllError option. See error property for more details.\",\n\t\t\t\t\t\terror,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn await betterFetch(url, opts);\n\t}\n\treturn $fetch as BetterFetch<Option>;\n};\n\nexport * from \"./schema\";\nexport * from \"./types\";\n","import { methods } from \"./create-fetch\";\nimport { BetterFetchOption } from \"./types\";\n\n/**\n * Normalize URL\n */\nexport function getURL(url: string, option?: BetterFetchOption) {\n\tlet { baseURL, params, query } = option || {\n\t\tquery: {},\n\t\tparams: {},\n\t\tbaseURL: \"\",\n\t};\n\tlet basePath = url.startsWith(\"http\")\n\t\t? url.split(\"/\").slice(0, 3).join(\"/\")\n\t\t: baseURL || \"\";\n\n\t/**\n\t * Remove method modifiers\n\t */\n\tif (url.startsWith(\"@\")) {\n\t\tconst m = url.toString().split(\"@\")[1].split(\"/\")[0];\n\t\tif (methods.includes(m)) {\n\t\t\turl = url.replace(`@${m}/`, \"/\");\n\t\t}\n\t}\n\n\tif (!basePath.endsWith(\"/\")) basePath += \"/\";\n\tlet [path, urlQuery] = url.replace(basePath, \"\").split(\"?\");\n\tconst queryParams = new URLSearchParams(urlQuery);\n\tfor (const [key, value] of Object.entries(query || {})) {\n\t\tif (value == null) continue;\n\t\tqueryParams.set(key, String(value));\n\t}\n\tif (params) {\n\t\tif (Array.isArray(params)) {\n\t\t\tconst paramPaths = path.split(\"/\").filter((p) => p.startsWith(\":\"));\n\t\t\tfor (const [index, key] of paramPaths.entries()) {\n\t\t\t\tconst value = params[index];\n\t\t\t\tpath = path.replace(key, value);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const [key, value] of Object.entries(params)) {\n\t\t\t\tpath = path.replace(`:${key}`, String(value));\n\t\t\t}\n\t\t}\n\t}\n\n\tpath = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n\tif (path.startsWith(\"/\")) path = path.slice(1);\n\tlet queryParamString = queryParams.toString();\n\tqueryParamString =\n\t\tqueryParamString.length > 0 ? `?${queryParamString}`.replace(/\\+/g, \"%20\") : \"\";\n\tif (!basePath.startsWith(\"http\")) {\n\t\treturn `${basePath}${path}${queryParamString}`;\n\t}\n\tconst _url = new URL(`${path}${queryParamString}`, basePath);\n\treturn _url;\n}\n","import type { StandardSchemaV1 } from \"./standard-schema\";\nimport { BetterFetchError } from \"./error\";\nimport { initializePlugins } from \"./plugins\";\nimport { createRetryStrategy } from \"./retry\";\nimport type { BetterFetchOption, BetterFetchResponse } from \"./types\";\nimport { getURL } from \"./url\";\nimport {\n\tdetectResponseType,\n\tgetBody,\n\tgetFetch,\n\tgetHeaders,\n\tgetMethod,\n\tgetTimeout,\n\tisJSONParsable,\n\tjsonParse,\n\tparseStandardSchema,\n} from \"./utils\";\n\nexport const betterFetch = async <\n\tTRes extends Option[\"output\"] extends StandardSchemaV1\n\t\t? StandardSchemaV1.InferOutput<Option[\"output\"]>\n\t\t: unknown,\n\tTErr = unknown,\n\tOption extends BetterFetchOption = BetterFetchOption<any, any, any, TRes>,\n>(\n\turl: string,\n\toptions?: Option,\n): Promise<\n\tBetterFetchResponse<\n\t\tTRes,\n\t\tTErr,\n\t\tOption[\"throw\"] extends true ? true : TErr extends false ? true : false\n\t>\n> => {\n\tconst {\n\t\thooks,\n\t\turl: __url,\n\t\toptions: opts,\n\t} = await initializePlugins(url, options);\n\tconst fetch = getFetch(opts);\n\tconst controller = new AbortController();\n\tconst signal = opts.signal ?? controller.signal;\n\tconst _url = getURL(__url, opts);\n\tconst body = getBody(opts);\n\tconst headers = await getHeaders(opts);\n\tconst method = getMethod(__url, opts);\n\tlet context = {\n\t\t...opts,\n\t\turl: _url,\n\t\theaders,\n\t\tbody,\n\t\tmethod,\n\t\tsignal,\n\t};\n\t/**\n\t * Run all on request hooks\n\t */\n\tfor (const onRequest of hooks.onRequest) {\n\t\tif (onRequest) {\n\t\t\tconst res = await onRequest(context);\n\t\t\tif (res instanceof Object) {\n\t\t\t\tcontext = res;\n\t\t\t}\n\t\t}\n\t}\n\tif (\n\t\t(\"pipeTo\" in (context as any) &&\n\t\t\ttypeof (context as any).pipeTo === \"function\") ||\n\t\ttypeof options?.body?.pipe === \"function\"\n\t) {\n\t\tif (!(\"duplex\" in context)) {\n\t\t\tcontext.duplex = \"half\";\n\t\t}\n\t}\n\n\tconst { clearTimeout } = getTimeout(opts, controller);\n\tlet response = await fetch(context.url, context);\n\tclearTimeout();\n\n\tconst responseContext = {\n\t\tresponse,\n\t\trequest: context,\n\t};\n\n\tfor (const onResponse of hooks.onResponse) {\n\t\tif (onResponse) {\n\t\t\tconst r = await onResponse({\n\t\t\t\t...responseContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t\tif (r instanceof Response) {\n\t\t\t\tresponse = r;\n\t\t\t} else if (r instanceof Object) {\n\t\t\t\tresponse = r.response;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * OK Branch\n\t */\n\tif (response.ok) {\n\t\tconst hasBody = context.method !== \"HEAD\";\n\t\tif (!hasBody) {\n\t\t\treturn {\n\t\t\t\tdata: \"\" as any,\n\t\t\t\terror: null,\n\t\t\t} as any;\n\t\t}\n\t\tconst responseType = detectResponseType(response);\n\t\tconst successContext = {\n\t\t\tdata: \"\" as any,\n\t\t\tresponse,\n\t\t\trequest: context,\n\t\t};\n\t\tif (responseType === \"json\" || responseType === \"text\") {\n\t\t\tconst text = await response.text();\n\t\t\tconst parser = context.jsonParser ?? jsonParse;\n\t\t\tconst data = await parser(text);\n\t\t\tsuccessContext.data = data;\n\t\t} else {\n\t\t\tsuccessContext.data = await response[responseType]();\n\t\t}\n\n\t\t/**\n\t\t * Parse the data if the output schema is defined\n\t\t */\n\t\tif (context?.output) {\n\t\t\tif (context.output && !context.disableValidation) {\n\t\t\t\tsuccessContext.data = await parseStandardSchema(\n\t\t\t\t\tcontext.output as StandardSchemaV1,\n\t\t\t\t\tsuccessContext.data,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfor (const onSuccess of hooks.onSuccess) {\n\t\t\tif (onSuccess) {\n\t\t\t\tawait onSuccess({\n\t\t\t\t\t...successContext,\n\t\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t\t? response.clone()\n\t\t\t\t\t\t: response,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (options?.throw) {\n\t\t\treturn successContext.data as any;\n\t\t}\n\n\t\treturn {\n\t\t\tdata: successContext.data,\n\t\t\terror: null,\n\t\t} as any;\n\t}\n\tconst parser = options?.jsonParser ?? jsonParse;\n\tconst responseText = await response.text();\n\tconst isJSONResponse = isJSONParsable(responseText);\n\tconst errorObject = isJSONResponse ? await parser(responseText) : null;\n\t/**\n\t * Error Branch\n\t */\n\tconst errorContext = {\n\t\tresponse,\n\t\tresponseText,\n\t\trequest: context,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t};\n\tfor (const onError of hooks.onError) {\n\t\tif (onError) {\n\t\t\tawait onError({\n\t\t\t\t...errorContext,\n\t\t\t\tresponse: options?.hookOptions?.cloneResponse\n\t\t\t\t\t? response.clone()\n\t\t\t\t\t: response,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.retry) {\n\t\tconst retryStrategy = createRetryStrategy(options.retry);\n\t\tconst _retryAttempt = options.retryAttempt ?? 0;\n\t\tif (await retryStrategy.shouldAttemptRetry(_retryAttempt, response)) {\n\t\t\tfor (const onRetry of hooks.onRetry) {\n\t\t\t\tif (onRetry) {\n\t\t\t\t\tawait onRetry(responseContext);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst delay = retryStrategy.getDelay(_retryAttempt);\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, delay));\n\t\t\treturn await betterFetch(url, {\n\t\t\t\t...options,\n\t\t\t\tretryAttempt: _retryAttempt + 1,\n\t\t\t});\n\t\t}\n\t}\n\n\tif (options?.throw) {\n\t\tthrow new BetterFetchError(\n\t\t\tresponse.status,\n\t\t\tresponse.statusText,\n\t\t\tisJSONResponse ? errorObject : responseText,\n\t\t);\n\t}\n\treturn {\n\t\tdata: null,\n\t\terror: {\n\t\t\t...errorObject,\n\t\t\tstatus: response.status,\n\t\t\tstatusText: response.statusText,\n\t\t},\n\t} as any;\n};\n","const _envShim = /* @__PURE__ */ Object.create(null);\nconst _getEnv = (useShim) => globalThis.process?.env || //@ts-expect-error\nglobalThis.Deno?.env.toObject() || //@ts-expect-error\nglobalThis.__env__ || (useShim ? _envShim : globalThis);\nconst env = new Proxy(_envShim, {\n  get(_, prop) {\n    const env2 = _getEnv();\n    return env2[prop] ?? _envShim[prop];\n  },\n  has(_, prop) {\n    const env2 = _getEnv();\n    return prop in env2 || prop in _envShim;\n  },\n  set(_, prop, value) {\n    const env2 = _getEnv(true);\n    env2[prop] = value;\n    return true;\n  },\n  deleteProperty(_, prop) {\n    if (!prop) {\n      return false;\n    }\n    const env2 = _getEnv(true);\n    delete env2[prop];\n    return true;\n  },\n  ownKeys() {\n    const env2 = _getEnv(true);\n    return Object.keys(env2);\n  }\n});\nfunction toBoolean(val) {\n  return val ? val !== \"false\" : false;\n}\nconst nodeENV = typeof process !== \"undefined\" && process.env && process.env.NODE_ENV || \"\";\nconst isProduction = nodeENV === \"production\";\nconst isDevelopment = nodeENV === \"dev\" || nodeENV === \"development\";\nconst isTest = nodeENV === \"test\" || toBoolean(env.TEST);\n\nexport { isProduction as a, isDevelopment as b, env as e, isTest as i };\n","class BetterAuthError extends Error {\n  constructor(message, cause) {\n    super(message);\n    this.name = \"BetterAuthError\";\n    this.message = message;\n    this.cause = cause;\n    this.stack = \"\";\n  }\n}\nclass MissingDependencyError extends BetterAuthError {\n  constructor(pkgName) {\n    super(\n      `The package \"${pkgName}\" is required. Make sure it is installed.`,\n      pkgName\n    );\n  }\n}\n\nexport { BetterAuthError as B, MissingDependencyError as M };\n","import { e as env } from './better-auth.8zoxzg-F.mjs';\nimport { B as BetterAuthError } from './better-auth.DdzSJf-n.mjs';\n\nfunction checkHasPath(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.pathname !== \"/\";\n  } catch (error) {\n    throw new BetterAuthError(\n      `Invalid base URL: ${url}. Please provide a valid base URL.`\n    );\n  }\n}\nfunction withPath(url, path = \"/api/auth\") {\n  const hasPath = checkHasPath(url);\n  if (hasPath) {\n    return url;\n  }\n  path = path.startsWith(\"/\") ? path : `/${path}`;\n  return `${url.replace(/\\/+$/, \"\")}${path}`;\n}\nfunction getBaseURL(url, path, request) {\n  if (url) {\n    return withPath(url, path);\n  }\n  const fromEnv = env.BETTER_AUTH_URL || env.NEXT_PUBLIC_BETTER_AUTH_URL || env.PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_BETTER_AUTH_URL || env.NUXT_PUBLIC_AUTH_URL || (env.BASE_URL !== \"/\" ? env.BASE_URL : void 0);\n  if (fromEnv) {\n    return withPath(fromEnv, path);\n  }\n  const fromRequest = request?.headers.get(\"x-forwarded-host\");\n  const fromRequestProto = request?.headers.get(\"x-forwarded-proto\");\n  if (fromRequest && fromRequestProto) {\n    return withPath(`${fromRequestProto}://${fromRequest}`, path);\n  }\n  if (request) {\n    const url2 = getOrigin(request.url);\n    if (!url2) {\n      throw new BetterAuthError(\n        \"Could not get origin from request. Please provide a valid base URL.\"\n      );\n    }\n    return withPath(url2, path);\n  }\n  if (typeof window !== \"undefined\" && window.location) {\n    return withPath(window.location.origin, path);\n  }\n  return void 0;\n}\nfunction getOrigin(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.origin;\n  } catch (error) {\n    return null;\n  }\n}\nfunction getProtocol(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.protocol;\n  } catch (error) {\n    return null;\n  }\n}\nfunction getHost(url) {\n  try {\n    const parsedUrl = new URL(url);\n    return parsedUrl.host;\n  } catch (error) {\n    return url;\n  }\n}\n\nexport { getBaseURL as a, getHost as b, getProtocol as c, getOrigin as g };\n","import { clean } from '../clean-stores/index.js'\n\nlet listenerQueue = []\nlet lqIndex = 0\nconst QUEUE_ITEMS_PER_LISTENER = 4\nexport let epoch = 0\n\nexport let atom = (initialValue) => {\n  let listeners = []\n  let $atom = {\n    get() {\n      if (!$atom.lc) {\n        $atom.listen(() => {})()\n      }\n      return $atom.value\n    },\n    lc: 0,\n    listen(listener) {\n      $atom.lc = listeners.push(listener)\n\n      return () => {\n        for (let i = lqIndex + QUEUE_ITEMS_PER_LISTENER; i < listenerQueue.length;) {\n          if (listenerQueue[i] === listener) {\n            listenerQueue.splice(i, QUEUE_ITEMS_PER_LISTENER)\n          } else {\n            i += QUEUE_ITEMS_PER_LISTENER\n          }\n        }\n\n        let index = listeners.indexOf(listener)\n        if (~index) {\n          listeners.splice(index, 1)\n          if (!--$atom.lc) $atom.off()\n        }\n      }\n    },\n    notify(oldValue, changedKey) {\n      epoch++\n      let runListenerQueue = !listenerQueue.length\n      for (let listener of listeners) {\n        listenerQueue.push(\n          listener,\n          $atom.value,\n          oldValue,\n          changedKey\n        )\n      }\n\n      if (runListenerQueue) {\n        for (lqIndex = 0; lqIndex < listenerQueue.length; lqIndex += QUEUE_ITEMS_PER_LISTENER) {\n            listenerQueue[lqIndex](\n              listenerQueue[lqIndex + 1],\n              listenerQueue[lqIndex + 2],\n              listenerQueue[lqIndex + 3]\n            )\n        }\n        listenerQueue.length = 0\n      }\n    },\n    /* It will be called on last listener unsubscribing.\n       We will redefine it in onMount and onStop. */\n    off() {},\n    set(newValue) {\n      let oldValue = $atom.value\n      if (oldValue !== newValue) {\n        $atom.value = newValue\n        $atom.notify(oldValue)\n      }\n    },\n    subscribe(listener) {\n      let unbind = $atom.listen(listener)\n      listener($atom.value)\n      return unbind\n    },\n    value: initialValue\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    $atom[clean] = () => {\n      listeners = []\n      $atom.lc = 0\n      $atom.off()\n    }\n  }\n\n  return $atom\n}\n","import { clean } from '../clean-stores/index.js'\n\nconst START = 0\nconst STOP = 1\nconst SET = 2\nconst NOTIFY = 3\nconst MOUNT = 5\nconst UNMOUNT = 6\nconst REVERT_MUTATION = 10\n\nexport let on = (object, listener, eventKey, mutateStore) => {\n  object.events = object.events || {}\n  if (!object.events[eventKey + REVERT_MUTATION]) {\n    object.events[eventKey + REVERT_MUTATION] = mutateStore(eventProps => {\n      // eslint-disable-next-line no-sequences\n      object.events[eventKey].reduceRight((event, l) => (l(event), event), {\n        shared: {},\n        ...eventProps\n      })\n    })\n  }\n  object.events[eventKey] = object.events[eventKey] || []\n  object.events[eventKey].push(listener)\n  return () => {\n    let currentListeners = object.events[eventKey]\n    let index = currentListeners.indexOf(listener)\n    currentListeners.splice(index, 1)\n    if (!currentListeners.length) {\n      delete object.events[eventKey]\n      object.events[eventKey + REVERT_MUTATION]()\n      delete object.events[eventKey + REVERT_MUTATION]\n    }\n  }\n}\n\nexport let onStart = ($store, listener) =>\n  on($store, listener, START, runListeners => {\n    let originListen = $store.listen\n    $store.listen = arg => {\n      if (!$store.lc && !$store.starting) {\n        $store.starting = true\n        runListeners()\n        delete $store.starting\n      }\n      return originListen(arg)\n    }\n    return () => {\n      $store.listen = originListen\n    }\n  })\n\nexport let onStop = ($store, listener) =>\n  on($store, listener, STOP, runListeners => {\n    let originOff = $store.off\n    $store.off = () => {\n      runListeners()\n      originOff()\n    }\n    return () => {\n      $store.off = originOff\n    }\n  })\n\nexport let onSet = ($store, listener) =>\n  on($store, listener, SET, runListeners => {\n    let originSet = $store.set\n    let originSetKey = $store.setKey\n    if ($store.setKey) {\n      $store.setKey = (changed, changedValue) => {\n        let isAborted\n        let abort = () => {\n          isAborted = true\n        }\n\n        runListeners({\n          abort,\n          changed,\n          newValue: { ...$store.value, [changed]: changedValue }\n        })\n        if (!isAborted) return originSetKey(changed, changedValue)\n      }\n    }\n    $store.set = newValue => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, newValue })\n      if (!isAborted) return originSet(newValue)\n    }\n    return () => {\n      $store.set = originSet\n      $store.setKey = originSetKey\n    }\n  })\n\nexport let onNotify = ($store, listener) =>\n  on($store, listener, NOTIFY, runListeners => {\n    let originNotify = $store.notify\n    $store.notify = (oldValue, changed) => {\n      let isAborted\n      let abort = () => {\n        isAborted = true\n      }\n\n      runListeners({ abort, changed, oldValue })\n      if (!isAborted) return originNotify(oldValue, changed)\n    }\n    return () => {\n      $store.notify = originNotify\n    }\n  })\n\nexport let STORE_UNMOUNT_DELAY = 1000\n\nexport let onMount = ($store, initialize) => {\n  let listener = payload => {\n    let destroy = initialize(payload)\n    if (destroy) $store.events[UNMOUNT].push(destroy)\n  }\n  return on($store, listener, MOUNT, runListeners => {\n    let originListen = $store.listen\n    $store.listen = (...args) => {\n      if (!$store.lc && !$store.active) {\n        $store.active = true\n        runListeners()\n      }\n      return originListen(...args)\n    }\n\n    let originOff = $store.off\n    $store.events[UNMOUNT] = []\n    $store.off = () => {\n      originOff()\n      setTimeout(() => {\n        if ($store.active && !$store.lc) {\n          $store.active = false\n          for (let destroy of $store.events[UNMOUNT]) destroy()\n          $store.events[UNMOUNT] = []\n        }\n      }, STORE_UNMOUNT_DELAY)\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      let originClean = $store[clean]\n      $store[clean] = () => {\n        for (let destroy of $store.events[UNMOUNT]) destroy()\n        $store.events[UNMOUNT] = []\n        $store.active = false\n        originClean()\n      }\n    }\n\n    return () => {\n      $store.listen = originListen\n      $store.off = originOff\n    }\n  })\n}\n","import { atom, onMount } from 'nanostores';\n\nconst useAuthQuery = (initializedAtom, path, $fetch, options) => {\n  const value = atom({\n    data: null,\n    error: null,\n    isPending: true,\n    isRefetching: false,\n    refetch: () => {\n      return fn();\n    }\n  });\n  const fn = () => {\n    const opts = typeof options === \"function\" ? options({\n      data: value.get().data,\n      error: value.get().error,\n      isPending: value.get().isPending\n    }) : options;\n    return $fetch(path, {\n      ...opts,\n      async onSuccess(context) {\n        if (typeof window !== \"undefined\") {\n          value.set({\n            data: context.data,\n            error: null,\n            isPending: false,\n            isRefetching: false,\n            refetch: value.value.refetch\n          });\n        }\n        await opts?.onSuccess?.(context);\n      },\n      async onError(context) {\n        const { request } = context;\n        const retryAttempts = typeof request.retry === \"number\" ? request.retry : request.retry?.attempts;\n        const retryAttempt = request.retryAttempt || 0;\n        if (retryAttempts && retryAttempt < retryAttempts) return;\n        value.set({\n          error: context.error,\n          data: null,\n          isPending: false,\n          isRefetching: false,\n          refetch: value.value.refetch\n        });\n        await opts?.onError?.(context);\n      },\n      async onRequest(context) {\n        const currentValue = value.get();\n        value.set({\n          isPending: currentValue.data === null,\n          data: currentValue.data,\n          error: null,\n          isRefetching: true,\n          refetch: value.value.refetch\n        });\n        await opts?.onRequest?.(context);\n      }\n    });\n  };\n  initializedAtom = Array.isArray(initializedAtom) ? initializedAtom : [initializedAtom];\n  let isMounted = false;\n  for (const initAtom of initializedAtom) {\n    initAtom.subscribe(() => {\n      if (isMounted) {\n        fn();\n      } else {\n        onMount(value, () => {\n          fn();\n          isMounted = true;\n          return () => {\n            value.off();\n            initAtom.off();\n          };\n        });\n      }\n    });\n  }\n  return value;\n};\n\nexport { useAuthQuery as u };\n","const PROTO_POLLUTION_PATTERNS = {\n  proto: /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/,\n  constructor: /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/,\n  protoShort: /\"__proto__\"\\s*:/,\n  constructorShort: /\"constructor\"\\s*:/\n};\nconst JSON_SIGNATURE = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nconst SPECIAL_VALUES = {\n  true: true,\n  false: false,\n  null: null,\n  undefined: void 0,\n  nan: Number.NaN,\n  infinity: Number.POSITIVE_INFINITY,\n  \"-infinity\": Number.NEGATIVE_INFINITY\n};\nconst ISO_DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d{1,7}))?(?:Z|([+-])(\\d{2}):(\\d{2}))$/;\nfunction isValidDate(date) {\n  return date instanceof Date && !isNaN(date.getTime());\n}\nfunction parseISODate(value) {\n  const match = ISO_DATE_REGEX.exec(value);\n  if (!match) return null;\n  const [\n    ,\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n    ms,\n    offsetSign,\n    offsetHour,\n    offsetMinute\n  ] = match;\n  let date = new Date(\n    Date.UTC(\n      parseInt(year, 10),\n      parseInt(month, 10) - 1,\n      parseInt(day, 10),\n      parseInt(hour, 10),\n      parseInt(minute, 10),\n      parseInt(second, 10),\n      ms ? parseInt(ms.padEnd(3, \"0\"), 10) : 0\n    )\n  );\n  if (offsetSign) {\n    const offset = (parseInt(offsetHour, 10) * 60 + parseInt(offsetMinute, 10)) * (offsetSign === \"+\" ? -1 : 1);\n    date.setUTCMinutes(date.getUTCMinutes() + offset);\n  }\n  return isValidDate(date) ? date : null;\n}\nfunction betterJSONParse(value, options = {}) {\n  const {\n    strict = false,\n    warnings = false,\n    reviver,\n    parseDates = true\n  } = options;\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  const trimmed = value.trim();\n  if (trimmed[0] === '\"' && trimmed.endsWith('\"') && !trimmed.slice(1, -1).includes('\"')) {\n    return trimmed.slice(1, -1);\n  }\n  const lowerValue = trimmed.toLowerCase();\n  if (lowerValue.length <= 9 && lowerValue in SPECIAL_VALUES) {\n    return SPECIAL_VALUES[lowerValue];\n  }\n  if (!JSON_SIGNATURE.test(trimmed)) {\n    if (strict) {\n      throw new SyntaxError(\"[better-json] Invalid JSON\");\n    }\n    return value;\n  }\n  const hasProtoPattern = Object.entries(PROTO_POLLUTION_PATTERNS).some(\n    ([key, pattern]) => {\n      const matches = pattern.test(trimmed);\n      if (matches && warnings) {\n        console.warn(\n          `[better-json] Detected potential prototype pollution attempt using ${key} pattern`\n        );\n      }\n      return matches;\n    }\n  );\n  if (hasProtoPattern && strict) {\n    throw new Error(\n      \"[better-json] Potential prototype pollution attempt detected\"\n    );\n  }\n  try {\n    const secureReviver = (key, value2) => {\n      if (key === \"__proto__\" || key === \"constructor\" && value2 && typeof value2 === \"object\" && \"prototype\" in value2) {\n        if (warnings) {\n          console.warn(\n            `[better-json] Dropping \"${key}\" key to prevent prototype pollution`\n          );\n        }\n        return void 0;\n      }\n      if (parseDates && typeof value2 === \"string\") {\n        const date = parseISODate(value2);\n        if (date) {\n          return date;\n        }\n      }\n      return reviver ? reviver(key, value2) : value2;\n    };\n    return JSON.parse(trimmed, secureReviver);\n  } catch (error) {\n    if (strict) {\n      throw error;\n    }\n    return value;\n  }\n}\nfunction parseJSON(value, options = { strict: true }) {\n  return betterJSONParse(value, options);\n}\n\nexport { parseJSON as p };\n","import { createFetch } from '@better-fetch/fetch';\nimport { a as getBaseURL } from './better-auth.VTXNLFMT.mjs';\nimport { atom } from 'nanostores';\nimport { u as useAuthQuery } from './better-auth.CQvoVIBD.mjs';\nimport { p as parseJSON } from './better-auth.ffWeg50w.mjs';\n\nconst redirectPlugin = {\n  id: \"redirect\",\n  name: \"Redirect\",\n  hooks: {\n    onSuccess(context) {\n      if (context.data?.url && context.data?.redirect) {\n        if (typeof window !== \"undefined\" && window.location) {\n          if (window.location) {\n            try {\n              window.location.href = context.data.url;\n            } catch {\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nfunction getSessionAtom($fetch) {\n  const $signal = atom(false);\n  const session = useAuthQuery($signal, \"/get-session\", $fetch, {\n    method: \"GET\"\n  });\n  return {\n    session,\n    $sessionSignal: $signal\n  };\n}\n\nconst getClientConfig = (options) => {\n  const isCredentialsSupported = \"credentials\" in Request.prototype;\n  const baseURL = getBaseURL(options?.baseURL, options?.basePath);\n  const pluginsFetchPlugins = options?.plugins?.flatMap((plugin) => plugin.fetchPlugins).filter((pl) => pl !== void 0) || [];\n  const $fetch = createFetch({\n    baseURL,\n    ...isCredentialsSupported ? { credentials: \"include\" } : {},\n    method: \"GET\",\n    jsonParser(text) {\n      if (!text) {\n        return null;\n      }\n      return parseJSON(text, {\n        strict: false\n      });\n    },\n    customFetchImpl: async (input, init) => {\n      try {\n        return await fetch(input, init);\n      } catch (error) {\n        return Response.error();\n      }\n    },\n    ...options?.fetchOptions,\n    plugins: options?.disableDefaultFetchPlugins ? [...options?.fetchOptions?.plugins || [], ...pluginsFetchPlugins] : [\n      redirectPlugin,\n      ...options?.fetchOptions?.plugins || [],\n      ...pluginsFetchPlugins\n    ]\n  });\n  const { $sessionSignal, session } = getSessionAtom($fetch);\n  const plugins = options?.plugins || [];\n  let pluginsActions = {};\n  let pluginsAtoms = {\n    $sessionSignal,\n    session\n  };\n  let pluginPathMethods = {\n    \"/sign-out\": \"POST\",\n    \"/revoke-sessions\": \"POST\",\n    \"/revoke-other-sessions\": \"POST\",\n    \"/delete-user\": \"POST\"\n  };\n  const atomListeners = [\n    {\n      signal: \"$sessionSignal\",\n      matcher(path) {\n        return path === \"/sign-out\" || path === \"/update-user\" || path.startsWith(\"/sign-in\") || path.startsWith(\"/sign-up\") || path === \"/delete-user\" || path === \"/verify-email\";\n      }\n    }\n  ];\n  for (const plugin of plugins) {\n    if (plugin.getAtoms) {\n      Object.assign(pluginsAtoms, plugin.getAtoms?.($fetch));\n    }\n    if (plugin.pathMethods) {\n      Object.assign(pluginPathMethods, plugin.pathMethods);\n    }\n    if (plugin.atomListeners) {\n      atomListeners.push(...plugin.atomListeners);\n    }\n  }\n  const $store = {\n    notify: (signal) => {\n      pluginsAtoms[signal].set(\n        !pluginsAtoms[signal].get()\n      );\n    },\n    listen: (signal, listener) => {\n      pluginsAtoms[signal].subscribe(listener);\n    },\n    atoms: pluginsAtoms\n  };\n  for (const plugin of plugins) {\n    if (plugin.getActions) {\n      Object.assign(\n        pluginsActions,\n        plugin.getActions?.($fetch, $store, options)\n      );\n    }\n  }\n  return {\n    pluginsActions,\n    pluginsAtoms,\n    pluginPathMethods,\n    atomListeners,\n    $fetch,\n    $store\n  };\n};\n\nfunction getMethod(path, knownPathMethods, args) {\n  const method = knownPathMethods[path];\n  const { fetchOptions, query, ...body } = args || {};\n  if (method) {\n    return method;\n  }\n  if (fetchOptions?.method) {\n    return fetchOptions.method;\n  }\n  if (body && Object.keys(body).length > 0) {\n    return \"POST\";\n  }\n  return \"GET\";\n}\nfunction createDynamicPathProxy(routes, client, knownPathMethods, atoms, atomListeners) {\n  function createProxy(path = []) {\n    return new Proxy(function() {\n    }, {\n      get(target, prop) {\n        const fullPath = [...path, prop];\n        let current = routes;\n        for (const segment of fullPath) {\n          if (current && typeof current === \"object\" && segment in current) {\n            current = current[segment];\n          } else {\n            current = void 0;\n            break;\n          }\n        }\n        if (typeof current === \"function\") {\n          return current;\n        }\n        return createProxy(fullPath);\n      },\n      apply: async (_, __, args) => {\n        const routePath = \"/\" + path.map(\n          (segment) => segment.replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`)\n        ).join(\"/\");\n        const arg = args[0] || {};\n        const fetchOptions = args[1] || {};\n        const { query, fetchOptions: argFetchOptions, ...body } = arg;\n        const options = {\n          ...fetchOptions,\n          ...argFetchOptions\n        };\n        const method = getMethod(routePath, knownPathMethods, arg);\n        return await client(routePath, {\n          ...options,\n          body: method === \"GET\" ? void 0 : {\n            ...body,\n            ...options?.body || {}\n          },\n          query: query || options?.query,\n          method,\n          async onSuccess(context) {\n            await options?.onSuccess?.(context);\n            const matches = atomListeners?.find((s) => s.matcher(routePath));\n            if (!matches) return;\n            const signal = atoms[matches.signal];\n            if (!signal) return;\n            const val = signal.get();\n            setTimeout(() => {\n              signal.set(!val);\n            }, 10);\n          }\n        });\n      }\n    });\n  }\n  return createProxy();\n}\n\nexport { createDynamicPathProxy as c, getClientConfig as g };\n","export function listenKeys($store, keys, listener) {\n  let keysSet = new Set(keys).add(undefined)\n  return $store.listen((value, oldValue, changed) => {\n    if (keysSet.has(changed)) {\n      listener(value, oldValue, changed)\n    }\n  })\n}\n\nexport function subscribeKeys($store, keys, listener) {\n  let unbind = listenKeys($store, keys, listener)\n  listener($store.value)\n  return unbind\n}\n","import { g as getClientConfig, c as createDynamicPathProxy } from '../../shared/better-auth.FvRECEI1.mjs';\nimport { listenKeys } from 'nanostores';\nimport { useRef, useCallback, useSyncExternalStore } from 'react';\nimport '@better-fetch/fetch';\nimport '../../shared/better-auth.VTXNLFMT.mjs';\nimport '../../shared/better-auth.8zoxzg-F.mjs';\nimport '../../shared/better-auth.DdzSJf-n.mjs';\nimport '../../shared/better-auth.CQvoVIBD.mjs';\nimport '../../shared/better-auth.ffWeg50w.mjs';\n\nfunction useStore(store, options = {}) {\n  let snapshotRef = useRef(store.get());\n  const { keys, deps = [store, keys] } = options;\n  let subscribe = useCallback((onChange) => {\n    const emitChange = (value) => {\n      if (snapshotRef.current === value) return;\n      snapshotRef.current = value;\n      onChange();\n    };\n    emitChange(store.value);\n    if (keys?.length) {\n      return listenKeys(store, keys, emitChange);\n    }\n    return store.listen(emitChange);\n  }, deps);\n  let get = () => snapshotRef.current;\n  return useSyncExternalStore(subscribe, get, get);\n}\n\nfunction getAtomKey(str) {\n  return `use${capitalizeFirstLetter(str)}`;\n}\nfunction capitalizeFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction createAuthClient(options) {\n  const {\n    pluginPathMethods,\n    pluginsActions,\n    pluginsAtoms,\n    $fetch,\n    $store,\n    atomListeners\n  } = getClientConfig(options);\n  let resolvedHooks = {};\n  for (const [key, value] of Object.entries(pluginsAtoms)) {\n    resolvedHooks[getAtomKey(key)] = () => useStore(value);\n  }\n  const routes = {\n    ...pluginsActions,\n    ...resolvedHooks,\n    $fetch,\n    $store\n  };\n  const proxy = createDynamicPathProxy(\n    routes,\n    $fetch,\n    pluginPathMethods,\n    pluginsAtoms,\n    atomListeners\n  );\n  return proxy;\n}\n\nexport { capitalizeFirstLetter, createAuthClient, useStore };\n","import { B as BetterAuthError } from '../../shared/better-auth.DdzSJf-n.mjs';\n\nfunction role(statements) {\n  return {\n    authorize(request, connector = \"AND\") {\n      let success = false;\n      for (const [requestedResource, requestedActions] of Object.entries(\n        request\n      )) {\n        const allowedActions = statements[requestedResource];\n        if (!allowedActions) {\n          return {\n            success: false,\n            error: `You are not allowed to access resource: ${requestedResource}`\n          };\n        }\n        if (Array.isArray(requestedActions)) {\n          success = requestedActions.every(\n            (requestedAction) => allowedActions.includes(requestedAction)\n          );\n        } else {\n          if (typeof requestedActions === \"object\") {\n            const actions = requestedActions;\n            if (actions.connector === \"OR\") {\n              success = actions.actions.some(\n                (requestedAction) => allowedActions.includes(requestedAction)\n              );\n            } else {\n              success = actions.actions.every(\n                (requestedAction) => allowedActions.includes(requestedAction)\n              );\n            }\n          } else {\n            throw new BetterAuthError(\"Invalid access control request\");\n          }\n        }\n        if (success && connector === \"OR\") {\n          return { success };\n        }\n        if (!success && connector === \"AND\") {\n          return {\n            success: false,\n            error: `unauthorized to access resource \"${requestedResource}\"`\n          };\n        }\n      }\n      if (success) {\n        return {\n          success\n        };\n      }\n      return {\n        success: false,\n        error: \"Not authorized\"\n      };\n    },\n    statements\n  };\n}\nfunction createAccessControl(s) {\n  return {\n    newRole(statements) {\n      return role(statements);\n    },\n    statements: s\n  };\n}\n\nexport { createAccessControl, role };\n","import { createAccessControl } from '../../access/index.mjs';\nimport '../../../shared/better-auth.DdzSJf-n.mjs';\n\nconst defaultStatements = {\n  organization: [\"update\", \"delete\"],\n  member: [\"create\", \"update\", \"delete\"],\n  invitation: [\"create\", \"cancel\"],\n  team: [\"create\", \"update\", \"delete\"]\n};\nconst defaultAc = createAccessControl(defaultStatements);\nconst adminAc = defaultAc.newRole({\n  organization: [\"update\"],\n  invitation: [\"create\", \"cancel\"],\n  member: [\"create\", \"update\", \"delete\"],\n  team: [\"create\", \"update\", \"delete\"]\n});\nconst ownerAc = defaultAc.newRole({\n  organization: [\"update\", \"delete\"],\n  member: [\"create\", \"update\", \"delete\"],\n  invitation: [\"create\", \"cancel\"],\n  team: [\"create\", \"update\", \"delete\"]\n});\nconst memberAc = defaultAc.newRole({\n  organization: [],\n  member: [],\n  invitation: [],\n  team: []\n});\nconst defaultRoles = {\n  admin: adminAc,\n  owner: ownerAc,\n  member: memberAc\n};\n\nexport { adminAc, defaultAc, defaultRoles, defaultStatements, memberAc, ownerAc };\n","import { defaultRoles } from '../plugins/organization/access/index.mjs';\n\nconst hasPermission = (input) => {\n  if (!input.permissions && !input.permission) {\n    return false;\n  }\n  const roles = input.role.split(\",\");\n  const acRoles = input.options.roles || defaultRoles;\n  for (const role of roles) {\n    const _role = acRoles[role];\n    const result = _role?.authorize(input.permissions ?? input.permission);\n    if (result?.success) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport { hasPermission as h };\n","/**\n * Convert the given array buffer into a Base64URL-encoded string. Ideal for converting various\n * credential response ArrayBuffers to string for sending back to the server as JSON.\n *\n * Helper method to compliment `base64URLStringToBuffer`\n */\nexport function bufferToBase64URLString(buffer) {\n    const bytes = new Uint8Array(buffer);\n    let str = '';\n    for (const charCode of bytes) {\n        str += String.fromCharCode(charCode);\n    }\n    const base64String = btoa(str);\n    return base64String.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n}\n","/**\n * Convert from a Base64URL-encoded string to an Array Buffer. Best used when converting a\n * credential ID from a JSON string to an ArrayBuffer, like in allowCredentials or\n * excludeCredentials\n *\n * Helper method to compliment `bufferToBase64URLString`\n */\nexport function base64URLStringToBuffer(base64URLString) {\n    // Convert from Base64URL to Base64\n    const base64 = base64URLString.replace(/-/g, '+').replace(/_/g, '/');\n    /**\n     * Pad with '=' until it's a multiple of four\n     * (4 - (85 % 4 = 1) = 3) % 4 = 3 padding\n     * (4 - (86 % 4 = 2) = 2) % 4 = 2 padding\n     * (4 - (87 % 4 = 3) = 1) % 4 = 1 padding\n     * (4 - (88 % 4 = 0) = 4) % 4 = 0 padding\n     */\n    const padLength = (4 - (base64.length % 4)) % 4;\n    const padded = base64.padEnd(base64.length + padLength, '=');\n    // Convert to a binary string\n    const binary = atob(padded);\n    // Convert binary string to buffer\n    const buffer = new ArrayBuffer(binary.length);\n    const bytes = new Uint8Array(buffer);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return buffer;\n}\n","/**\n * Determine if the browser is capable of Webauthn\n */\nexport function browserSupportsWebAuthn() {\n    return _browserSupportsWebAuthnInternals.stubThis(globalThis?.PublicKeyCredential !== undefined &&\n        typeof globalThis.PublicKeyCredential === 'function');\n}\n/**\n * Make it possible to stub the return value during testing\n * @ignore Don't include this in docs output\n */\nexport const _browserSupportsWebAuthnInternals = {\n    stubThis: (value) => value,\n};\n","import { base64URLStringToBuffer } from './base64URLStringToBuffer.js';\nexport function toPublicKeyCredentialDescriptor(descriptor) {\n    const { id } = descriptor;\n    return {\n        ...descriptor,\n        id: base64URLStringToBuffer(id),\n        /**\n         * `descriptor.transports` is an array of our `AuthenticatorTransportFuture` that includes newer\n         * transports that TypeScript's DOM lib is ignorant of. Convince TS that our list of transports\n         * are fine to pass to WebAuthn since browsers will recognize the new value.\n         */\n        transports: descriptor.transports,\n    };\n}\n","/**\n * A simple test to determine if a hostname is a properly-formatted domain name\n *\n * A \"valid domain\" is defined here: https://url.spec.whatwg.org/#valid-domain\n *\n * Regex sourced from here:\n * https://www.oreilly.com/library/view/regular-expressions-cookbook/9781449327453/ch08s15.html\n */\nexport function isValidDomain(hostname) {\n    return (\n    // Consider localhost valid as well since it's okay wrt Secure Contexts\n    hostname === 'localhost' ||\n        /^([a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}$/i.test(hostname));\n}\n","/**\n * A custom Error used to return a more nuanced error detailing _why_ one of the eight documented\n * errors in the spec was raised after calling `navigator.credentials.create()` or\n * `navigator.credentials.get()`:\n *\n * - `AbortError`\n * - `ConstraintError`\n * - `InvalidStateError`\n * - `NotAllowedError`\n * - `NotSupportedError`\n * - `SecurityError`\n * - `TypeError`\n * - `UnknownError`\n *\n * Error messages were determined through investigation of the spec to determine under which\n * scenarios a given error would be raised.\n */\nexport class WebAuthnError extends Error {\n    constructor({ message, code, cause, name, }) {\n        // @ts-ignore: help Rollup understand that `cause` is okay to set\n        super(message, { cause });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = name ?? cause.name;\n        this.code = code;\n    }\n}\n","import { isValidDomain } from './isValidDomain.js';\nimport { WebAuthnError } from './webAuthnError.js';\n/**\n * Attempt to intuit _why_ an error was raised after calling `navigator.credentials.create()`\n */\nexport function identifyRegistrationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 16)\n            return new WebAuthnError({\n                message: 'Registration ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'ConstraintError') {\n        if (publicKey.authenticatorSelection?.requireResidentKey === true) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 4)\n            return new WebAuthnError({\n                message: 'Discoverable credentials were required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT',\n                cause: error,\n            });\n        }\n        else if (\n        // @ts-ignore: `mediation` doesn't yet exist on CredentialCreationOptions but it's possible as of Sept 2024\n        options.mediation === 'conditional' &&\n            publicKey.authenticatorSelection?.userVerification === 'required') {\n            // https://w3c.github.io/webauthn/#sctn-createCredential (Step 22.4)\n            return new WebAuthnError({\n                message: 'User verification was required during automatic registration but it could not be performed',\n                code: 'ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE',\n                cause: error,\n            });\n        }\n        else if (publicKey.authenticatorSelection?.userVerification === 'required') {\n            // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 5)\n            return new WebAuthnError({\n                message: 'User verification was required but no available authenticator supported it',\n                code: 'ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'InvalidStateError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 20)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 3)\n        return new WebAuthnError({\n            message: 'The authenticator was previously registered',\n            code: 'ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotAllowedError') {\n        /**\n         * Pass the error directly through. Platforms are overloading this error beyond what the spec\n         * defines and we don't want to overwrite potentially useful error messages.\n         */\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'NotSupportedError') {\n        const validPubKeyCredParams = publicKey.pubKeyCredParams.filter((param) => param.type === 'public-key');\n        if (validPubKeyCredParams.length === 0) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 10)\n            return new WebAuthnError({\n                message: 'No entry in pubKeyCredParams was of type \"public-key\"',\n                code: 'ERROR_MALFORMED_PUBKEYCREDPARAMS',\n                cause: error,\n            });\n        }\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 2)\n        return new WebAuthnError({\n            message: 'No available authenticator supported any of the specified pubKeyCredParams algorithms',\n            code: 'ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = globalThis.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 7)\n            return new WebAuthnError({\n                message: `${globalThis.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rp.id !== effectiveDomain) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 8)\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rp.id}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'TypeError') {\n        if (publicKey.user.id.byteLength < 1 || publicKey.user.id.byteLength > 64) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 5)\n            return new WebAuthnError({\n                message: 'User ID was not between 1 and 64 characters',\n                code: 'ERROR_INVALID_USER_ID_LENGTH',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 1)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-make-cred (Step 8)\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new credential',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n","class BaseWebAuthnAbortService {\n    constructor() {\n        Object.defineProperty(this, \"controller\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n    }\n    createNewAbortSignal() {\n        // Abort any existing calls to navigator.credentials.create() or navigator.credentials.get()\n        if (this.controller) {\n            const abortError = new Error('Cancelling existing WebAuthn API call for new one');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n        }\n        const newController = new AbortController();\n        this.controller = newController;\n        return newController.signal;\n    }\n    cancelCeremony() {\n        if (this.controller) {\n            const abortError = new Error('Manually cancelling existing WebAuthn API call');\n            abortError.name = 'AbortError';\n            this.controller.abort(abortError);\n            this.controller = undefined;\n        }\n    }\n}\n/**\n * A service singleton to help ensure that only a single WebAuthn ceremony is active at a time.\n *\n * Users of **@simplewebauthn/browser** shouldn't typically need to use this, but it can help e.g.\n * developers building projects that use client-side routing to better control the behavior of\n * their UX in response to router navigation events.\n */\nexport const WebAuthnAbortService = new BaseWebAuthnAbortService();\n","const attachments = ['cross-platform', 'platform'];\n/**\n * If possible coerce a `string` value into a known `AuthenticatorAttachment`\n */\nexport function toAuthenticatorAttachment(attachment) {\n    if (!attachment) {\n        return;\n    }\n    if (attachments.indexOf(attachment) < 0) {\n        return;\n    }\n    return attachment;\n}\n","import { bufferToBase64URLString } from '../helpers/bufferToBase64URLString.js';\nimport { base64URLStringToBuffer } from '../helpers/base64URLStringToBuffer.js';\nimport { browserSupportsWebAuthn } from '../helpers/browserSupportsWebAuthn.js';\nimport { toPublicKeyCredentialDescriptor } from '../helpers/toPublicKeyCredentialDescriptor.js';\nimport { identifyRegistrationError } from '../helpers/identifyRegistrationError.js';\nimport { WebAuthnAbortService } from '../helpers/webAuthnAbortService.js';\nimport { toAuthenticatorAttachment } from '../helpers/toAuthenticatorAttachment.js';\n/**\n * Begin authenticator \"registration\" via WebAuthn attestation\n *\n * @param optionsJSON Output from **@simplewebauthn/server**'s `generateRegistrationOptions()`\n * @param useAutoRegister (Optional) Try to silently create a passkey with the password manager that the user just signed in with. Defaults to `false`.\n */\nexport async function startRegistration(options) {\n    // @ts-ignore: Intentionally check for old call structure to warn about improper API call\n    if (!options.optionsJSON && options.challenge) {\n        console.warn('startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.');\n        // @ts-ignore: Reassign the options, passed in as a positional argument, to the expected variable\n        options = { optionsJSON: options };\n    }\n    const { optionsJSON, useAutoRegister = false } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    // We need to convert some values to Uint8Arrays before passing the credentials to the navigator\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        user: {\n            ...optionsJSON.user,\n            id: base64URLStringToBuffer(optionsJSON.user.id),\n        },\n        excludeCredentials: optionsJSON.excludeCredentials?.map(toPublicKeyCredentialDescriptor),\n    };\n    // Prepare options for `.create()`\n    const createOptions = {};\n    /**\n     * Try to use conditional create to register a passkey for the user with the password manager\n     * the user just used to authenticate with. The user won't be shown any prominent UI by the\n     * browser.\n     */\n    if (useAutoRegister) {\n        // @ts-ignore: `mediation` doesn't yet exist on CredentialCreationOptions but it's possible as of Sept 2024\n        createOptions.mediation = 'conditional';\n    }\n    // Finalize options\n    createOptions.publicKey = publicKey;\n    // Set up the ability to cancel this request if the user attempts another\n    createOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    // Wait for the user to complete attestation\n    let credential;\n    try {\n        credential = (await navigator.credentials.create(createOptions));\n    }\n    catch (err) {\n        throw identifyRegistrationError({ error: err, options: createOptions });\n    }\n    if (!credential) {\n        throw new Error('Registration was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    // Continue to play it safe with `getTransports()` for now, even when L3 types say it's required\n    let transports = undefined;\n    if (typeof response.getTransports === 'function') {\n        transports = response.getTransports();\n    }\n    // L3 says this is required, but browser and webview support are still not guaranteed.\n    let responsePublicKeyAlgorithm = undefined;\n    if (typeof response.getPublicKeyAlgorithm === 'function') {\n        try {\n            responsePublicKeyAlgorithm = response.getPublicKeyAlgorithm();\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKeyAlgorithm()', error);\n        }\n    }\n    let responsePublicKey = undefined;\n    if (typeof response.getPublicKey === 'function') {\n        try {\n            const _publicKey = response.getPublicKey();\n            if (_publicKey !== null) {\n                responsePublicKey = bufferToBase64URLString(_publicKey);\n            }\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getPublicKey()', error);\n        }\n    }\n    // L3 says this is required, but browser and webview support are still not guaranteed.\n    let responseAuthenticatorData;\n    if (typeof response.getAuthenticatorData === 'function') {\n        try {\n            responseAuthenticatorData = bufferToBase64URLString(response.getAuthenticatorData());\n        }\n        catch (error) {\n            warnOnBrokenImplementation('getAuthenticatorData()', error);\n        }\n    }\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            attestationObject: bufferToBase64URLString(response.attestationObject),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            transports,\n            publicKeyAlgorithm: responsePublicKeyAlgorithm,\n            publicKey: responsePublicKey,\n            authenticatorData: responseAuthenticatorData,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n/**\n * Visibly warn when we detect an issue related to a passkey provider intercepting WebAuthn API\n * calls\n */\nfunction warnOnBrokenImplementation(methodName, cause) {\n    console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${methodName}. You should report this error to them.\\n`, cause);\n}\n","import { browserSupportsWebAuthn } from './browserSupportsWebAuthn.js';\n/**\n * Determine if the browser supports conditional UI, so that WebAuthn credentials can\n * be shown to the user in the browser's typical password autofill popup.\n */\nexport function browserSupportsWebAuthnAutofill() {\n    if (!browserSupportsWebAuthn()) {\n        return _browserSupportsWebAuthnAutofillInternals.stubThis(new Promise((resolve) => resolve(false)));\n    }\n    /**\n     * I don't like the `as unknown` here but there's a `declare var PublicKeyCredential` in\n     * TS' DOM lib that's making it difficult for me to just go `as PublicKeyCredentialFuture` as I\n     * want. I think I'm fine with this for now since it's _supposed_ to be temporary, until TS types\n     * have a chance to catch up.\n     */\n    const globalPublicKeyCredential = globalThis\n        .PublicKeyCredential;\n    if (globalPublicKeyCredential?.isConditionalMediationAvailable === undefined) {\n        return _browserSupportsWebAuthnAutofillInternals.stubThis(new Promise((resolve) => resolve(false)));\n    }\n    return _browserSupportsWebAuthnAutofillInternals.stubThis(globalPublicKeyCredential.isConditionalMediationAvailable());\n}\n// Make it possible to stub the return value during testing\nexport const _browserSupportsWebAuthnAutofillInternals = {\n    stubThis: (value) => value,\n};\n","import { isValidDomain } from './isValidDomain.js';\nimport { WebAuthnError } from './webAuthnError.js';\n/**\n * Attempt to intuit _why_ an error was raised after calling `navigator.credentials.get()`\n */\nexport function identifyAuthenticationError({ error, options, }) {\n    const { publicKey } = options;\n    if (!publicKey) {\n        throw Error('options was missing required publicKey property');\n    }\n    if (error.name === 'AbortError') {\n        if (options.signal instanceof AbortSignal) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-createCredential (Step 16)\n            return new WebAuthnError({\n                message: 'Authentication ceremony was sent an abort signal',\n                code: 'ERROR_CEREMONY_ABORTED',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'NotAllowedError') {\n        /**\n         * Pass the error directly through. Platforms are overloading this error beyond what the spec\n         * defines and we don't want to overwrite potentially useful error messages.\n         */\n        return new WebAuthnError({\n            message: error.message,\n            code: 'ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY',\n            cause: error,\n        });\n    }\n    else if (error.name === 'SecurityError') {\n        const effectiveDomain = globalThis.location.hostname;\n        if (!isValidDomain(effectiveDomain)) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-discover-from-external-source (Step 5)\n            return new WebAuthnError({\n                message: `${globalThis.location.hostname} is an invalid domain`,\n                code: 'ERROR_INVALID_DOMAIN',\n                cause: error,\n            });\n        }\n        else if (publicKey.rpId !== effectiveDomain) {\n            // https://www.w3.org/TR/webauthn-2/#sctn-discover-from-external-source (Step 6)\n            return new WebAuthnError({\n                message: `The RP ID \"${publicKey.rpId}\" is invalid for this domain`,\n                code: 'ERROR_INVALID_RP_ID',\n                cause: error,\n            });\n        }\n    }\n    else if (error.name === 'UnknownError') {\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-get-assertion (Step 1)\n        // https://www.w3.org/TR/webauthn-2/#sctn-op-get-assertion (Step 12)\n        return new WebAuthnError({\n            message: 'The authenticator was unable to process the specified options, or could not create a new assertion signature',\n            code: 'ERROR_AUTHENTICATOR_GENERAL_ERROR',\n            cause: error,\n        });\n    }\n    return error;\n}\n","import { bufferToBase64URLString } from '../helpers/bufferToBase64URLString.js';\nimport { base64URLStringToBuffer } from '../helpers/base64URLStringToBuffer.js';\nimport { browserSupportsWebAuthn } from '../helpers/browserSupportsWebAuthn.js';\nimport { browserSupportsWebAuthnAutofill } from '../helpers/browserSupportsWebAuthnAutofill.js';\nimport { toPublicKeyCredentialDescriptor } from '../helpers/toPublicKeyCredentialDescriptor.js';\nimport { identifyAuthenticationError } from '../helpers/identifyAuthenticationError.js';\nimport { WebAuthnAbortService } from '../helpers/webAuthnAbortService.js';\nimport { toAuthenticatorAttachment } from '../helpers/toAuthenticatorAttachment.js';\n/**\n * Begin authenticator \"login\" via WebAuthn assertion\n *\n * @param optionsJSON Output from **@simplewebauthn/server**'s `generateAuthenticationOptions()`\n * @param useBrowserAutofill (Optional) Initialize conditional UI to enable logging in via browser autofill prompts. Defaults to `false`.\n * @param verifyBrowserAutofillInput (Optional) Ensure a suitable `<input>` element is present when `useBrowserAutofill` is `true`. Defaults to `true`.\n */\nexport async function startAuthentication(options) {\n    // @ts-ignore: Intentionally check for old call structure to warn about improper API call\n    if (!options.optionsJSON && options.challenge) {\n        console.warn('startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information.');\n        // @ts-ignore: Reassign the options, passed in as a positional argument, to the expected variable\n        options = { optionsJSON: options };\n    }\n    const { optionsJSON, useBrowserAutofill = false, verifyBrowserAutofillInput = true, } = options;\n    if (!browserSupportsWebAuthn()) {\n        throw new Error('WebAuthn is not supported in this browser');\n    }\n    // We need to avoid passing empty array to avoid blocking retrieval\n    // of public key\n    let allowCredentials;\n    if (optionsJSON.allowCredentials?.length !== 0) {\n        allowCredentials = optionsJSON.allowCredentials?.map(toPublicKeyCredentialDescriptor);\n    }\n    // We need to convert some values to Uint8Arrays before passing the credentials to the navigator\n    const publicKey = {\n        ...optionsJSON,\n        challenge: base64URLStringToBuffer(optionsJSON.challenge),\n        allowCredentials,\n    };\n    // Prepare options for `.get()`\n    const getOptions = {};\n    /**\n     * Set up the page to prompt the user to select a credential for authentication via the browser's\n     * input autofill mechanism.\n     */\n    if (useBrowserAutofill) {\n        if (!(await browserSupportsWebAuthnAutofill())) {\n            throw Error('Browser does not support WebAuthn autofill');\n        }\n        // Check for an <input> with \"webauthn\" in its `autocomplete` attribute\n        const eligibleInputs = document.querySelectorAll(\"input[autocomplete$='webauthn']\");\n        // WebAuthn autofill requires at least one valid input\n        if (eligibleInputs.length < 1 && verifyBrowserAutofillInput) {\n            throw Error('No <input> with \"webauthn\" as the only or last value in its `autocomplete` attribute was detected');\n        }\n        // `CredentialMediationRequirement` doesn't know about \"conditional\" yet as of\n        // typescript@4.6.3\n        getOptions.mediation = 'conditional';\n        // Conditional UI requires an empty allow list\n        publicKey.allowCredentials = [];\n    }\n    // Finalize options\n    getOptions.publicKey = publicKey;\n    // Set up the ability to cancel this request if the user attempts another\n    getOptions.signal = WebAuthnAbortService.createNewAbortSignal();\n    // Wait for the user to complete assertion\n    let credential;\n    try {\n        credential = (await navigator.credentials.get(getOptions));\n    }\n    catch (err) {\n        throw identifyAuthenticationError({ error: err, options: getOptions });\n    }\n    if (!credential) {\n        throw new Error('Authentication was not completed');\n    }\n    const { id, rawId, response, type } = credential;\n    let userHandle = undefined;\n    if (response.userHandle) {\n        userHandle = bufferToBase64URLString(response.userHandle);\n    }\n    // Convert values to base64 to make it easier to send back to the server\n    return {\n        id,\n        rawId: bufferToBase64URLString(rawId),\n        response: {\n            authenticatorData: bufferToBase64URLString(response.authenticatorData),\n            clientDataJSON: bufferToBase64URLString(response.clientDataJSON),\n            signature: bufferToBase64URLString(response.signature),\n            userHandle,\n        },\n        type,\n        clientExtensionResults: credential.getClientExtensionResults(),\n        authenticatorAttachment: toAuthenticatorAttachment(credential.authenticatorAttachment),\n    };\n}\n","import { browserSupportsWebAuthn } from './browserSupportsWebAuthn.js';\n/**\n * Determine whether the browser can communicate with a built-in authenticator, like\n * Touch ID, Android fingerprint scanner, or Windows Hello.\n *\n * This method will _not_ be able to tell you the name of the platform authenticator.\n */\nexport function platformAuthenticatorIsAvailable() {\n    if (!browserSupportsWebAuthn()) {\n        return new Promise((resolve) => resolve(false));\n    }\n    return PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();\n}\n","export * from './methods/startRegistration.js';\nexport * from './methods/startAuthentication.js';\nexport * from './helpers/browserSupportsWebAuthn.js';\nexport * from './helpers/platformAuthenticatorIsAvailable.js';\nexport * from './helpers/browserSupportsWebAuthnAutofill.js';\nexport * from './helpers/base64URLStringToBuffer.js';\nexport * from './helpers/bufferToBase64URLString.js';\nexport * from './helpers/webAuthnAbortService.js';\nexport * from './helpers/webAuthnError.js';\nexport * from './types/index.js';\n","const twoFactorClient = (options) => {\n  return {\n    id: \"two-factor\",\n    $InferServerPlugin: {},\n    atomListeners: [\n      {\n        matcher: (path) => path.startsWith(\"/two-factor/\"),\n        signal: \"$sessionSignal\"\n      }\n    ],\n    pathMethods: {\n      \"/two-factor/disable\": \"POST\",\n      \"/two-factor/enable\": \"POST\",\n      \"/two-factor/send-otp\": \"POST\",\n      \"/two-factor/generate-backup-codes\": \"POST\"\n    },\n    fetchPlugins: [\n      {\n        id: \"two-factor\",\n        name: \"two-factor\",\n        hooks: {\n          async onSuccess(context) {\n            if (context.data?.twoFactorRedirect) {\n              if (options?.onTwoFactorRedirect) {\n                await options.onTwoFactorRedirect();\n              }\n            }\n          }\n        }\n      }\n    ]\n  };\n};\n\nexport { twoFactorClient as t };\n","import { createAccessControl } from '../../access/index.mjs';\nimport '../../../shared/better-auth.DdzSJf-n.mjs';\n\nconst defaultStatements = {\n  user: [\n    \"create\",\n    \"list\",\n    \"set-role\",\n    \"ban\",\n    \"impersonate\",\n    \"delete\",\n    \"set-password\"\n  ],\n  session: [\"list\", \"revoke\", \"delete\"]\n};\nconst defaultAc = createAccessControl(defaultStatements);\nconst adminAc = defaultAc.newRole({\n  user: [\n    \"create\",\n    \"list\",\n    \"set-role\",\n    \"ban\",\n    \"impersonate\",\n    \"delete\",\n    \"set-password\"\n  ],\n  session: [\"list\", \"revoke\", \"delete\"]\n});\nconst userAc = defaultAc.newRole({\n  user: [],\n  session: []\n});\nconst defaultRoles = {\n  admin: adminAc,\n  user: userAc\n};\n\nexport { adminAc, defaultAc, defaultRoles, defaultStatements, userAc };\n","import { defaultRoles } from '../plugins/admin/access/index.mjs';\n\nconst hasPermission = (input) => {\n  if (input.userId && input.options?.adminUserIds?.includes(input.userId)) {\n    return true;\n  }\n  if (!input.permissions && !input.permission) {\n    return false;\n  }\n  const roles = (input.role || input.options?.defaultRole || \"user\").split(\",\");\n  const acRoles = input.options?.roles || defaultRoles;\n  for (const role of roles) {\n    const _role = acRoles[role];\n    const result = _role?.authorize(input.permission ?? input.permissions);\n    if (result?.success) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport { hasPermission as h };\n","import { atom } from 'nanostores';\nimport '@better-fetch/fetch';\nimport '../../shared/better-auth.8zoxzg-F.mjs';\nimport { u as useAuthQuery } from '../../shared/better-auth.CQvoVIBD.mjs';\nimport { ownerAc, memberAc, adminAc } from '../../plugins/organization/access/index.mjs';\nimport { h as hasPermission } from '../../shared/better-auth.OuYYTHC7.mjs';\nimport { startRegistration, WebAuthnError, startAuthentication } from '@simplewebauthn/browser';\nexport { t as twoFactorClient } from '../../shared/better-auth.Ddw8bVyV.mjs';\nimport { userAc, adminAc as adminAc$1 } from '../../plugins/admin/access/index.mjs';\nimport { h as hasPermission$1 } from '../../shared/better-auth.bkwPl2G4.mjs';\nimport '../../plugins/access/index.mjs';\nimport '../../shared/better-auth.DdzSJf-n.mjs';\n\nconst organizationClient = (options) => {\n  const $listOrg = atom(false);\n  const $activeOrgSignal = atom(false);\n  const $activeMemberSignal = atom(false);\n  const roles = {\n    admin: adminAc,\n    member: memberAc,\n    owner: ownerAc,\n    ...options?.roles\n  };\n  return {\n    id: \"organization\",\n    $InferServerPlugin: {},\n    getActions: ($fetch) => ({\n      $Infer: {\n        ActiveOrganization: {},\n        Organization: {},\n        Invitation: {},\n        Member: {},\n        Team: {}\n      },\n      organization: {\n        checkRolePermission: (data) => {\n          const isAuthorized = hasPermission({\n            role: data.role,\n            options: {\n              ac: options?.ac,\n              roles\n            },\n            permissions: data.permissions ?? data.permission\n          });\n          return isAuthorized;\n        }\n      }\n    }),\n    getAtoms: ($fetch) => {\n      const listOrganizations = useAuthQuery(\n        $listOrg,\n        \"/organization/list\",\n        $fetch,\n        {\n          method: \"GET\"\n        }\n      );\n      const activeOrganization = useAuthQuery(\n        [$activeOrgSignal],\n        \"/organization/get-full-organization\",\n        $fetch,\n        () => ({\n          method: \"GET\"\n        })\n      );\n      const activeMember = useAuthQuery(\n        [$activeMemberSignal],\n        \"/organization/get-active-member\",\n        $fetch,\n        {\n          method: \"GET\"\n        }\n      );\n      return {\n        $listOrg,\n        $activeOrgSignal,\n        $activeMemberSignal,\n        activeOrganization,\n        listOrganizations,\n        activeMember\n      };\n    },\n    pathMethods: {\n      \"/organization/get-full-organization\": \"GET\"\n    },\n    atomListeners: [\n      {\n        matcher(path) {\n          return path === \"/organization/create\" || path === \"/organization/delete\" || path === \"/organization/update\";\n        },\n        signal: \"$listOrg\"\n      },\n      {\n        matcher(path) {\n          return path.startsWith(\"/organization\");\n        },\n        signal: \"$activeOrgSignal\"\n      },\n      {\n        matcher(path) {\n          return path.startsWith(\"/organization/set-active\");\n        },\n        signal: \"$sessionSignal\"\n      },\n      {\n        matcher(path) {\n          return path.includes(\"/organization/update-member-role\");\n        },\n        signal: \"$activeMemberSignal\"\n      }\n    ]\n  };\n};\n\nconst usernameClient = () => {\n  return {\n    id: \"username\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst getPasskeyActions = ($fetch, {\n  $listPasskeys\n}) => {\n  const signInPasskey = async (opts, options) => {\n    const response = await $fetch(\n      \"/passkey/generate-authenticate-options\",\n      {\n        method: \"POST\",\n        body: {\n          email: opts?.email\n        }\n      }\n    );\n    if (!response.data) {\n      return response;\n    }\n    try {\n      const res = await startAuthentication({\n        optionsJSON: response.data,\n        useBrowserAutofill: opts?.autoFill\n      });\n      const verified = await $fetch(\"/passkey/verify-authentication\", {\n        body: {\n          response: res\n        },\n        ...opts?.fetchOptions,\n        ...options,\n        method: \"POST\"\n      });\n      if (!verified.data) {\n        return verified;\n      }\n    } catch (e) {\n      return {\n        data: null,\n        error: {\n          message: \"auth cancelled\",\n          status: 400,\n          statusText: \"BAD_REQUEST\"\n        }\n      };\n    }\n  };\n  const registerPasskey = async (opts, fetchOpts) => {\n    const options = await $fetch(\n      \"/passkey/generate-register-options\",\n      {\n        method: \"GET\",\n        query: {\n          ...opts?.authenticatorAttachment && {\n            authenticatorAttachment: opts.authenticatorAttachment\n          }\n        }\n      }\n    );\n    if (!options.data) {\n      return options;\n    }\n    try {\n      const res = await startRegistration({\n        optionsJSON: options.data,\n        useAutoRegister: opts?.useAutoRegister\n      });\n      const verified = await $fetch(\"/passkey/verify-registration\", {\n        ...opts?.fetchOptions,\n        ...fetchOpts,\n        body: {\n          response: res,\n          name: opts?.name\n        },\n        method: \"POST\"\n      });\n      if (!verified.data) {\n        return verified;\n      }\n      $listPasskeys.set(Math.random());\n    } catch (e) {\n      if (e instanceof WebAuthnError) {\n        if (e.code === \"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED\") {\n          return {\n            data: null,\n            error: {\n              message: \"previously registered\",\n              status: 400,\n              statusText: \"BAD_REQUEST\"\n            }\n          };\n        }\n        if (e.code === \"ERROR_CEREMONY_ABORTED\") {\n          return {\n            data: null,\n            error: {\n              message: \"registration cancelled\",\n              status: 400,\n              statusText: \"BAD_REQUEST\"\n            }\n          };\n        }\n        return {\n          data: null,\n          error: {\n            message: e.message,\n            status: 400,\n            statusText: \"BAD_REQUEST\"\n          }\n        };\n      }\n      return {\n        data: null,\n        error: {\n          message: e instanceof Error ? e.message : \"unknown error\",\n          status: 500,\n          statusText: \"INTERNAL_SERVER_ERROR\"\n        }\n      };\n    }\n  };\n  return {\n    signIn: {\n      /**\n       * Sign in with a registered passkey\n       */\n      passkey: signInPasskey\n    },\n    passkey: {\n      /**\n       * Add a passkey to the user account\n       */\n      addPasskey: registerPasskey\n    },\n    /**\n     * Inferred Internal Types\n     */\n    $Infer: {}\n  };\n};\nconst passkeyClient = () => {\n  const $listPasskeys = atom();\n  return {\n    id: \"passkey\",\n    $InferServerPlugin: {},\n    getActions: ($fetch) => getPasskeyActions($fetch, {\n      $listPasskeys\n    }),\n    getAtoms($fetch) {\n      const listPasskeys = useAuthQuery(\n        $listPasskeys,\n        \"/passkey/list-user-passkeys\",\n        $fetch,\n        {\n          method: \"GET\"\n        }\n      );\n      return {\n        listPasskeys,\n        $listPasskeys\n      };\n    },\n    pathMethods: {\n      \"/passkey/register\": \"POST\",\n      \"/passkey/authenticate\": \"POST\"\n    },\n    atomListeners: [\n      {\n        matcher(path) {\n          return path === \"/passkey/verify-registration\" || path === \"/passkey/delete-passkey\" || path === \"/passkey/update-passkey\";\n        },\n        signal: \"_listPasskeys\"\n      }\n    ]\n  };\n};\n\nconst magicLinkClient = () => {\n  return {\n    id: \"magic-link\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst phoneNumberClient = () => {\n  return {\n    id: \"phoneNumber\",\n    $InferServerPlugin: {},\n    atomListeners: [\n      {\n        matcher(path) {\n          return path === \"/phone-number/update\" || path === \"/phone-number/verify\";\n        },\n        signal: \"$sessionSignal\"\n      }\n    ]\n  };\n};\n\nconst anonymousClient = () => {\n  return {\n    id: \"anonymous\",\n    $InferServerPlugin: {},\n    pathMethods: {\n      \"/sign-in/anonymous\": \"POST\"\n    }\n  };\n};\n\nconst inferAdditionalFields = (schema) => {\n  return {\n    id: \"additional-fields-client\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst adminClient = (options) => {\n  const roles = {\n    admin: adminAc$1,\n    user: userAc,\n    ...options?.roles\n  };\n  return {\n    id: \"admin-client\",\n    $InferServerPlugin: {},\n    getActions: ($fetch) => ({\n      admin: {\n        checkRolePermission: (data) => {\n          const isAuthorized = hasPermission$1({\n            role: data.role,\n            options: {\n              ac: options?.ac,\n              roles\n            },\n            permissions: data.permissions ?? data.permission\n          });\n          return isAuthorized;\n        }\n      }\n    }),\n    pathMethods: {\n      \"/admin/list-users\": \"GET\",\n      \"/admin/stop-impersonating\": \"POST\"\n    }\n  };\n};\n\nconst genericOAuthClient = () => {\n  return {\n    id: \"generic-oauth-client\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst jwtClient = () => {\n  return {\n    id: \"better-auth-client\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst multiSessionClient = () => {\n  return {\n    id: \"multi-session\",\n    $InferServerPlugin: {},\n    atomListeners: [\n      {\n        matcher(path) {\n          return path === \"/multi-session/set-active\";\n        },\n        signal: \"$sessionSignal\"\n      }\n    ]\n  };\n};\n\nconst emailOTPClient = () => {\n  return {\n    id: \"email-otp\",\n    $InferServerPlugin: {}\n  };\n};\n\nlet isRequestInProgress = false;\nconst oneTapClient = (options) => {\n  return {\n    id: \"one-tap\",\n    getActions: ($fetch, _) => ({\n      oneTap: async (opts, fetchOptions) => {\n        if (isRequestInProgress) {\n          console.warn(\n            \"A Google One Tap request is already in progress. Please wait.\"\n          );\n          return;\n        }\n        isRequestInProgress = true;\n        try {\n          if (typeof window === \"undefined\" || !window.document) {\n            console.warn(\n              \"Google One Tap is only available in browser environments\"\n            );\n            return;\n          }\n          const { autoSelect, cancelOnTapOutside, context } = opts ?? {};\n          const contextValue = context ?? options.context ?? \"signin\";\n          await loadGoogleScript();\n          await new Promise((resolve, reject) => {\n            let isResolved = false;\n            const baseDelay = options.promptOptions?.baseDelay ?? 1e3;\n            const maxAttempts = options.promptOptions?.maxAttempts ?? 5;\n            window.google?.accounts.id.initialize({\n              client_id: options.clientId,\n              callback: async (response) => {\n                isResolved = true;\n                try {\n                  await $fetch(\"/one-tap/callback\", {\n                    method: \"POST\",\n                    body: { idToken: response.credential },\n                    ...opts?.fetchOptions,\n                    ...fetchOptions\n                  });\n                  if (!opts?.fetchOptions && !fetchOptions || opts?.callbackURL) {\n                    window.location.href = opts?.callbackURL ?? \"/\";\n                  }\n                  resolve();\n                } catch (error) {\n                  console.error(\"Error during One Tap callback:\", error);\n                  reject(error);\n                }\n              },\n              auto_select: autoSelect,\n              cancel_on_tap_outside: cancelOnTapOutside,\n              context: contextValue,\n              ...options.additionalOptions\n            });\n            const handlePrompt = (attempt) => {\n              if (isResolved) return;\n              window.google?.accounts.id.prompt((notification) => {\n                if (isResolved) return;\n                if (notification.isDismissedMoment && notification.isDismissedMoment()) {\n                  if (attempt < maxAttempts) {\n                    const delay = Math.pow(2, attempt) * baseDelay;\n                    setTimeout(() => handlePrompt(attempt + 1), delay);\n                  } else {\n                    opts?.onPromptNotification?.(notification);\n                  }\n                } else if (notification.isSkippedMoment && notification.isSkippedMoment()) {\n                  if (attempt < maxAttempts) {\n                    const delay = Math.pow(2, attempt) * baseDelay;\n                    setTimeout(() => handlePrompt(attempt + 1), delay);\n                  } else {\n                    opts?.onPromptNotification?.(notification);\n                  }\n                }\n              });\n            };\n            handlePrompt(0);\n          });\n        } catch (error) {\n          console.error(\"Error during Google One Tap flow:\", error);\n          throw error;\n        } finally {\n          isRequestInProgress = false;\n        }\n      }\n    }),\n    getAtoms($fetch) {\n      return {};\n    }\n  };\n};\nconst loadGoogleScript = () => {\n  return new Promise((resolve) => {\n    if (window.googleScriptInitialized) {\n      resolve();\n      return;\n    }\n    const script = document.createElement(\"script\");\n    script.src = \"https://accounts.google.com/gsi/client\";\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      window.googleScriptInitialized = true;\n      resolve();\n    };\n    document.head.appendChild(script);\n  });\n};\n\nconst customSessionClient = () => {\n  return InferServerPlugin();\n};\n\nconst InferServerPlugin = () => {\n  return {\n    id: \"infer-server-plugin\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst ssoClient = () => {\n  return {\n    id: \"sso-client\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst oidcClient = () => {\n  return {\n    id: \"oidc-client\",\n    $InferServerPlugin: {}\n  };\n};\n\nconst apiKeyClient = () => {\n  return {\n    id: \"api-key\",\n    $InferServerPlugin: {},\n    pathMethods: {\n      \"/api-key/create\": \"POST\",\n      \"/api-key/delete\": \"POST\",\n      \"/api-key/delete-all-expired-api-keys\": \"POST\"\n    }\n  };\n};\n\nconst oneTimeTokenClient = () => {\n  return {\n    id: \"one-time-token\",\n    $InferServerPlugin: {}\n  };\n};\n\nexport { InferServerPlugin, adminClient, anonymousClient, apiKeyClient, customSessionClient, emailOTPClient, genericOAuthClient, getPasskeyActions, inferAdditionalFields, jwtClient, magicLinkClient, multiSessionClient, oidcClient, oneTapClient, oneTimeTokenClient, organizationClient, passkeyClient, phoneNumberClient, ssoClient, usernameClient };\n","import { stripeClient } from \"@better-auth/stripe/client\"\nimport { createAuthClient } from \"better-auth/react\"\nimport { adminClient, apiKeyClient } from \"better-auth/client/plugins\"\nimport { magicLinkClient } from \"better-auth/client/plugins\"\n\nexport const authClient = createAuthClient({\n    baseURL: typeof window !== 'undefined' \n        ? window.location.origin \n        : process.env.NODE_ENV === 'development' \n            ? \"http://localhost:3000\" \n            : \"https://inbound.new\",\n    plugins: [\n        stripeClient({\n            subscription: true\n        }),\n        adminClient(),\n        apiKeyClient(),\n        magicLinkClient()\n    ]\n})\n\nexport const { signIn, signUp, signOut, useSession } = authClient"],"names":["_a","getURL","clearTimeout","parser"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]}