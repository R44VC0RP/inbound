module.exports={684668:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({entityKind:()=>t,hasOwnEntityKind:()=>i,is:()=>n});let t=Symbol.for("drizzle:entityKind"),i=Symbol.for("drizzle:hasOwnEntityKind");function n(e,i){if(!e||"object"!=typeof e)return!1;if(e instanceof i)return!0;if(!Object.prototype.hasOwnProperty.call(i,t))throw Error(`Class "${i.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(t in n&&n[t]===i[t])return!0;n=Object.getPrototypeOf(n)}return!1}}},588677:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({Column:()=>t});var n=e.i(684668);class t{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [n.entityKind]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}}},900523:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({ColumnBuilder:()=>t});var n=e.i(684668);class t{static [n.entityKind]="ColumnBuilder";config;constructor(e,t,i){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}}},357793:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({TableName:()=>t});let t=Symbol.for("drizzle:Name")}},707731:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({ForeignKey:()=>i,ForeignKeyBuilder:()=>t,foreignKey:()=>s});var n=e.i(684668),r=e.i(357793);class t{static [n.entityKind]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:i,foreignColumns:n}=e();return{name:t,columns:i,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new i(e,this)}}class i{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [n.entityKind]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:i}=this.reference(),n=t.map(e=>e.name),s=i.map(e=>e.name),a=[this.table[r.TableName],...n,i[0].table[r.TableName],...s];return e??`${a.join("_")}_fk`}}function s(e){return new t(function(){let{name:t,columns:i,foreignColumns:n}=e;return{name:t,columns:i,foreignColumns:n}})}}},957219:e=>{"use strict";var{g:t,__dirname:i}=e;function n(e,...t){return e(...t)}e.s({iife:()=>n})},617025:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({UniqueConstraint:()=>u,UniqueConstraintBuilder:()=>t,UniqueOnConstraintBuilder:()=>i,unique:()=>s,uniqueKeyName:()=>a});var n=e.i(684668),r=e.i(357793);function s(e){return new i(e)}function a(e,t){return`${e[r.TableName]}_${t.join("_")}_unique`}class t{constructor(e,t){this.name=t,this.columns=e}static [n.entityKind]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new u(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class i{static [n.entityKind]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new t(e,this.name)}}class u{constructor(e,t,i,n){this.table=e,this.columns=t,this.name=n??a(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=i}static [n.entityKind]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}}},221210:e=>{"use strict";var{g:t,__dirname:i}=e;function n(e,t,i){for(let n=t;n<e.length;n++){let r=e[n];if("\\"===r){n++;continue}if('"'===r)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!i&&(","===r||"}"===r))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function r(e,t=0){let i=[],s=t,a=!1;for(;s<e.length;){let u=e[s];if(","===u){(a||s===t)&&i.push(""),a=!0,s++;continue}if(a=!1,"\\"===u){s+=2;continue}if('"'===u){let[t,r]=n(e,s+1,!0);i.push(t),s=r;continue}if("}"===u)return[i,s+1];if("{"===u){let[t,n]=r(e,s+1);i.push(t),s=n;continue}let[o,l]=n(e,s,!1);i.push(o),s=l}return[i,s]}function s(e){let[t]=r(e,1);return t}e.s({makePgArray:()=>function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`},parsePgArray:()=>s,parsePgNestedArray:()=>r})},808167:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({ExtraConfigColumn:()=>c,IndexedColumn:()=>g,PgArray:()=>d,PgArrayBuilder:()=>m,PgColumn:()=>i,PgColumnBuilder:()=>t});var n=e.i(900523),r=e.i(588677),s=e.i(684668),a=e.i(707731),u=e.i(957219),o=e.i(617025),l=e.i(221210);class t extends n.ColumnBuilder{foreignKeyConfigs=[];static [s.entityKind]="PgColumnBuilder";array(e){return new m(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:i,actions:n})=>(0,u.iife)((i,n)=>{let r=new a.ForeignKeyBuilder(()=>({columns:[e],foreignColumns:[i()]}));return n.onUpdate&&r.onUpdate(n.onUpdate),n.onDelete&&r.onDelete(n.onDelete),r.build(t)},i,n))}buildExtraConfigColumn(e){return new c(e,this.config)}}class i extends r.Column{constructor(e,t){t.uniqueName||(t.uniqueName=(0,o.uniqueKeyName)(e,[t.name])),super(e,t),this.table=e}static [s.entityKind]="PgColumn"}class c extends i{static [s.entityKind]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class g{static [s.entityKind]="IndexedColumn";constructor(e,t,i,n){this.name=e,this.keyAsName=t,this.type=i,this.indexConfig=n}name;keyAsName;type;indexConfig}class m extends t{static [s.entityKind]="PgArrayBuilder";constructor(e,t,i){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=i}build(e){let t=this.config.baseBuilder.build(e);return new d(e,this.config,t)}}class d extends i{constructor(e,t,i,n){super(e,t),this.baseColumn=i,this.range=n,this.size=t.size}size;static [s.entityKind]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=(0,l.parsePgArray)(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let i=e.map(e=>null===e?null:(0,s.is)(this.baseColumn,d)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?i:(0,l.makePgArray)(i)}}}},417155:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgEnumColumn:()=>g,PgEnumColumnBuilder:()=>c,PgEnumObjectColumn:()=>i,PgEnumObjectColumnBuilder:()=>t,isPgEnum:()=>s,pgEnum:()=>a,pgEnumObjectWithSchema:()=>o,pgEnumWithSchema:()=>u});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let l=Symbol.for("drizzle:isPgEnum");function s(e){return!!e&&"function"==typeof e&&l in e&&!0===e[l]}class c extends r.PgColumnBuilder{static [n.entityKind]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new g(e,this.config)}}class g extends r.PgColumn{static [n.entityKind]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}function a(e,t){return Array.isArray(t)?u(e,[...t],void 0):o(e,t,void 0)}function u(e,t,i){let n=Object.assign(e=>new c(e??"",n),{enumName:e,enumValues:t,schema:i,[l]:!0});return n}function o(e,i,n){let r=Object.assign(e=>new t(e??"",r),{enumName:e,enumValues:Object.values(i),schema:n,[l]:!0});return r}}},524896:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({Subquery:()=>t,WithSubquery:()=>i});var n=e.i(684668);class t{static [n.entityKind]="Subquery";constructor(e,t,i,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:i,isWith:n}}}class i extends t{static [n.entityKind]="WithSubquery"}}},169452:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({compatibilityVersion:()=>r,npmVersion:()=>n});var n="0.43.1",r=10},770333:e=>{"use strict";var{g:t,__dirname:i}=e;{let t,i;e.s({tracer:()=>s});var n=e.i(957219),r=e.i(169452);let s={startActiveSpan:(e,s)=>t?(i||(i=t.trace.getTracer("drizzle-orm",r.npmVersion)),(0,n.iife)((t,i)=>i.startActiveSpan(e,e=>{try{return s(e)}catch(i){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:i instanceof Error?i.message:"Unknown error"}),i}finally{e.end()}}),t,i)):s()}}},417938:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({ViewBaseConfig:()=>t});let t=Symbol.for("drizzle:ViewBaseConfig")}},673608:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({BaseName:()=>c,Columns:()=>i,ExtraConfigBuilder:()=>m,ExtraConfigColumns:()=>o,IsAlias:()=>g,OriginalName:()=>l,Schema:()=>t,Table:()=>p,getTableName:()=>a,getTableUniqueName:()=>u,isTable:()=>s});var n=e.i(684668),r=e.i(357793);let t=Symbol.for("drizzle:Schema"),i=Symbol.for("drizzle:Columns"),o=Symbol.for("drizzle:ExtraConfigColumns"),l=Symbol.for("drizzle:OriginalName"),c=Symbol.for("drizzle:BaseName"),g=Symbol.for("drizzle:IsAlias"),m=Symbol.for("drizzle:ExtraConfigBuilder"),d=Symbol.for("drizzle:IsDrizzleTable");class p{static [n.entityKind]="Table";static Symbol={Name:r.TableName,Schema:t,OriginalName:l,Columns:i,ExtraConfigColumns:o,BaseName:c,IsAlias:g,ExtraConfigBuilder:m};[r.TableName];[l];[t];[i];[o];[c];[g]=!1;[d]=!0;[m]=void 0;constructor(e,i,n){this[r.TableName]=this[l]=e,this[t]=i,this[c]=n}}function s(e){return"object"==typeof e&&null!==e&&d in e}function a(e){return e[r.TableName]}function u(e){return`${e[t]??"public"}.${e[r.TableName]}`}}},367027:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({FakePrimitiveParam:()=>t,Name:()=>v,Param:()=>S,Placeholder:()=>T,SQL:()=>b,StringChunk:()=>i,View:()=>N,fillPlaceholders:()=>h,getViewName:()=>P,isDriverValueEncoder:()=>m,isSQLWrapper:()=>c,isView:()=>y,name:()=>g,noopDecoder:()=>C,noopEncoder:()=>B,noopMapper:()=>w,param:()=>d,placeholder:()=>f,sql:()=>p});var n=e.i(684668),r=e.i(417155),s=e.i(524896),a=e.i(770333),u=e.i(417938),o=e.i(588677),l=e.i(673608);class t{static [n.entityKind]="FakePrimitiveParam"}function c(e){return null!=e&&"function"==typeof e.getSQL}class i{static [n.entityKind]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new b([this])}}class b{constructor(e){this.queryChunks=e}static [n.entityKind]="SQL";decoder=C;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return a.tracer.startActiveSpan("drizzle.buildSQL",t=>{let i=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(e,t){let a=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:g,escapeName:m,escapeParam:d,prepareTyping:p,inlineParams:f,paramStartIndex:h}=a;var y=e.map(e=>{if((0,n.is)(e,i))return{sql:e.value.join(""),params:[]};if((0,n.is)(e,v))return{sql:m(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new i("(")];for(let[n,r]of e.entries())t.push(r),n<e.length-1&&t.push(new i(", "));return t.push(new i(")")),this.buildQueryFromSourceParams(t,a)}if((0,n.is)(e,b))return this.buildQueryFromSourceParams(e.queryChunks,{...a,inlineParams:f||e.shouldInlineParams});if((0,n.is)(e,l.Table)){let t=e[l.Table.Symbol.Schema],i=e[l.Table.Symbol.Name];return{sql:void 0===t||e[l.IsAlias]?m(i):m(t)+"."+m(i),params:[]}}if((0,n.is)(e,o.Column)){let i=g.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:m(i),params:[]};let n=e.table[l.Table.Symbol.Schema];return{sql:e.table[l.IsAlias]||void 0===n?m(e.table[l.Table.Symbol.Name])+"."+m(i):m(n)+"."+m(e.table[l.Table.Symbol.Name])+"."+m(i),params:[]}}if((0,n.is)(e,N)){let t=e[u.ViewBaseConfig].schema,i=e[u.ViewBaseConfig].name;return{sql:void 0===t||e[u.ViewBaseConfig].isAlias?m(i):m(t)+"."+m(i),params:[]}}if((0,n.is)(e,S)){if((0,n.is)(e.value,T))return{sql:d(h.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,n.is)(t,b))return this.buildQueryFromSourceParams([t],a);if(f)return{sql:this.mapInlineParam(t,a),params:[]};let i=["none"];return p&&(i=[p(e.encoder)]),{sql:d(h.value++,t),params:[t],typings:i}}return(0,n.is)(e,T)?{sql:d(h.value++,e),params:[e],typings:["none"]}:(0,n.is)(e,b.Aliased)&&void 0!==e.fieldAlias?{sql:m(e.fieldAlias),params:[]}:(0,n.is)(e,s.Subquery)?e._.isWith?{sql:m(e._.alias),params:[]}:this.buildQueryFromSourceParams([new i("("),e._.sql,new i(") "),new v(e._.alias)],a):(0,r.isPgEnum)(e)?e.schema?{sql:m(e.schema)+"."+m(e.enumName),params:[]}:{sql:m(e.enumName),params:[]}:c(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],a):this.buildQueryFromSourceParams([new i("("),e.getSQL(),new i(")")],a):f?{sql:this.mapInlineParam(e,a),params:[]}:{sql:d(h.value++,e),params:[e],typings:["none"]}});let P={sql:"",params:[]};for(let e of y)P.sql+=e.sql,P.params.push(...e.params),e.typings?.length&&(P.typings||(P.typings=[]),P.typings.push(...e.typings));return P}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let i=e.toString();return"[object Object]"===i?t(JSON.stringify(e)):t(i)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new b.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class v{constructor(e){this.value=e}static [n.entityKind]="Name";brand;getSQL(){return new b([this])}}function g(e){return new v(e)}function m(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let C={mapFromDriverValue:e=>e},B={mapToDriverValue:e=>e},w={...C,...B};class S{constructor(e,t=B){this.value=e,this.encoder=t}static [n.entityKind]="Param";brand;getSQL(){return new b([this])}}function d(e,t){return new S(e,t)}function p(e,...t){let n=[];for(let[r,s]of((t.length>0||e.length>0&&""!==e[0])&&n.push(new i(e[0])),t.entries()))n.push(s,new i(e[r+1]));return new b(n)}(e=>{e.empty=function(){return new b([])},e.fromList=function(e){return new b(e)},e.raw=function(e){return new b([new i(e)])},e.join=function(e,t){let i=[];for(let[n,r]of e.entries())n>0&&void 0!==t&&i.push(t),i.push(r);return new b(i)},e.identifier=function(e){return new v(e)},e.placeholder=function(e){return new T(e)},e.param=function(e,t){return new S(e,t)}})(p||(p={})),(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [n.entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(b||(b={}));class T{constructor(e){this.name=e}static [n.entityKind]="Placeholder";getSQL(){return new b([this])}}function f(e){return new T(e)}function h(e,t){return e.map(e=>{if((0,n.is)(e,T)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if((0,n.is)(e,S)&&(0,n.is)(e.value,T)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let x=Symbol.for("drizzle:IsDrizzleView");class N{static [n.entityKind]="View";[u.ViewBaseConfig];[x]=!0;constructor({name:e,schema:t,selectedFields:i,query:n}){this[u.ViewBaseConfig]={name:e,originalName:e,schema:t,selectedFields:i,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new b([this])}}function y(e){return"object"==typeof e&&null!==e&&x in e}function P(e){return e[u.ViewBaseConfig].name}o.Column.prototype.getSQL=function(){return new b([this])},l.Table.prototype.getSQL=function(){return new b([this])},s.Subquery.prototype.getSQL=function(){return new b([this])}}},785401:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({applyMixins:()=>m,getColumnNameAndConfig:()=>h,getTableColumns:()=>d,getTableLikeName:()=>f,getViewSelectedFields:()=>p,haveSameKeys:()=>c,isConfig:()=>y,mapResultRow:()=>l,mapUpdateSet:()=>g,orderSelectedFields:()=>function e(t,i){return Object.entries(t).reduce((t,[a,o])=>{if("string"!=typeof a)return t;let l=i?[...i,a]:[a];return(0,r.is)(o,n.Column)||(0,r.is)(o,s.SQL)||(0,r.is)(o,s.SQL.Aliased)?t.push({path:l,field:o}):(0,r.is)(o,u.Table)?t.push(...e(o[u.Table.Symbol.Columns],l)):t.push(...e(o,l)),t},[])}});var n=e.i(588677),r=e.i(684668),s=e.i(367027),a=e.i(524896),u=e.i(673608),o=e.i(417938);function l(e,t,i){let a={},o=e.reduce((e,{path:o,field:l},c)=>{let g;g=(0,r.is)(l,n.Column)?l:(0,r.is)(l,s.SQL)?l.decoder:l.sql.decoder;let m=e;for(let[e,s]of o.entries())if(e<o.length-1)s in m||(m[s]={}),m=m[s];else{let e=t[c],d=m[s]=null===e?null:g.mapFromDriverValue(e);if(i&&(0,r.is)(l,n.Column)&&2===o.length){let e=o[0];e in a?"string"==typeof a[e]&&a[e]!==(0,u.getTableName)(l.table)&&(a[e]=!1):a[e]=null===d&&(0,u.getTableName)(l.table)}}return e},{});if(i&&Object.keys(a).length>0)for(let[e,t]of Object.entries(a))"string"!=typeof t||i[t]||(o[e]=null);return o}function c(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let[e,t]of i.entries())if(t!==n[e])return!1;return!0}function g(e,t){let i=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,i])=>(0,r.is)(i,s.SQL)||(0,r.is)(i,n.Column)?[t,i]:[t,new s.Param(i,e[u.Table.Symbol.Columns][t])]);if(0===i.length)throw Error("No values to set");return Object.fromEntries(i)}function m(e,t){for(let i of t)for(let t of Object.getOwnPropertyNames(i.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(i.prototype,t)||Object.create(null))}function d(e){return e[u.Table.Symbol.Columns]}function p(e){return e[o.ViewBaseConfig].selectedFields}function f(e){return(0,r.is)(e,a.Subquery)?e._.alias:(0,r.is)(e,s.View)?e[o.ViewBaseConfig].name:(0,r.is)(e,s.SQL)?void 0:e[u.Table.Symbol.IsAlias]?e[u.Table.Symbol.Name]:e[u.Table.Symbol.BaseName]}function h(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function y(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}},160096:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgDateColumnBaseBuilder:()=>t});var n=e.i(684668),r=e.i(367027),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(r.sql`now()`)}}}},98171:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgDate:()=>i,PgDateBuilder:()=>t,PgDateString:()=>l,PgDateStringBuilder:()=>o,date:()=>u});var n=e.i(684668),r=e.i(785401),s=e.i(808167),a=e.i(160096);class t extends a.PgDateColumnBaseBuilder{static [n.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class o extends a.PgDateColumnBaseBuilder{static [n.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new l(e,this.config)}}class l extends s.PgColumn{static [n.entityKind]="PgDateString";getSQLType(){return"date"}}function u(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return s?.mode==="date"?new t(n):new o(n)}}},955071:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgJson:()=>i,PgJsonBuilder:()=>t,json:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function s(e){return new t(e??"")}}},981297:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgJsonb:()=>i,PgJsonbBuilder:()=>t,jsonb:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function s(e){return new t(e??"")}}},291185:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgNumeric:()=>i,PgNumericBigInt:()=>c,PgNumericBigIntBuilder:()=>l,PgNumericBuilder:()=>t,PgNumericNumber:()=>o,PgNumericNumberBuilder:()=>u,decimal:()=>g,numeric:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgNumericBuilder";constructor(e,t,i){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=i}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class u extends s.PgColumnBuilder{static [n.entityKind]="PgNumericNumberBuilder";constructor(e,t,i){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=i}build(e){return new o(e,this.config)}}class o extends s.PgColumn{static [n.entityKind]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class l extends s.PgColumnBuilder{static [n.entityKind]="PgNumericBigIntBuilder";constructor(e,t,i){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=i}build(e){return new c(e,this.config)}}class c extends s.PgColumn{static [n.entityKind]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i),a=s?.mode;return"number"===a?new u(n,s?.precision,s?.scale):"bigint"===a?new l(n,s?.precision,s?.scale):new t(n,s?.precision,s?.scale)}let g=a}},598734:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgTime:()=>i,PgTimeBuilder:()=>t,time:()=>u});var n=e.i(684668),r=e.i(785401),s=e.i(808167),a=e.i(160096);class t extends a.PgDateColumnBaseBuilder{constructor(e,t,i){super(e,"string","PgTime"),this.withTimezone=t,this.precision=i,this.config.withTimezone=t,this.config.precision=i}static [n.entityKind]="PgTimeBuilder";build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function u(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s.withTimezone??!1,s.precision)}}},828434:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgTimestamp:()=>i,PgTimestampBuilder:()=>t,PgTimestampString:()=>l,PgTimestampStringBuilder:()=>o,timestamp:()=>u});var n=e.i(684668),r=e.i(785401),s=e.i(808167),a=e.i(160096);class t extends a.PgDateColumnBaseBuilder{static [n.entityKind]="PgTimestampBuilder";constructor(e,t,i){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=i}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class o extends a.PgDateColumnBaseBuilder{static [n.entityKind]="PgTimestampStringBuilder";constructor(e,t,i){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=i}build(e){return new l(e,this.config)}}class l extends s.PgColumn{static [n.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function u(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return s?.mode==="string"?new o(n,s.withTimezone??!1,s.precision):new t(n,s?.withTimezone??!1,s?.precision)}}},86631:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgUUID:()=>i,PgUUIDBuilder:()=>t,uuid:()=>a});var n=e.i(684668),r=e.i(367027),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(r.sql`gen_random_uuid()`)}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgUUID";getSQLType(){return"uuid"}}function a(e){return new t(e??"")}}},526482:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgIntColumnBaseBuilder:()=>t});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}}},282621:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgBigInt53:()=>i,PgBigInt53Builder:()=>t,PgBigInt64:()=>l,PgBigInt64Builder:()=>o,bigint:()=>u});var n=e.i(684668),r=e.i(785401),s=e.i(808167),a=e.i(526482);class t extends a.PgIntColumnBaseBuilder{static [n.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class o extends a.PgIntColumnBaseBuilder{static [n.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new l(e,this.config)}}class l extends s.PgColumn{static [n.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function u(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return"number"===s.mode?new t(n):new o(n)}}},708922:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgBigSerial53:()=>i,PgBigSerial53Builder:()=>t,PgBigSerial64:()=>o,PgBigSerial64Builder:()=>u,bigserial:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class u extends s.PgColumnBuilder{static [n.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new o(e,this.config)}}class o extends s.PgColumn{static [n.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return"number"===s.mode?new t(n):new u(n)}}},949343:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgBoolean:()=>i,PgBooleanBuilder:()=>t,boolean:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function s(e){return new t(e??"")}}},808350:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgChar:()=>i,PgCharBuilder:()=>t,char:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function a(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},668012:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgCidr:()=>i,PgCidrBuilder:()=>t,cidr:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgCidr";getSQLType(){return"cidr"}}function s(e){return new t(e??"")}}},839504:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgCustomColumn:()=>i,PgCustomColumnBuilder:()=>t,customType:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgCustomColumnBuilder";constructor(e,t,i){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=i}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function a(e){return(i,n)=>{let{name:s,config:a}=(0,r.getColumnNameAndConfig)(i,n);return new t(s,a,e)}}}},524398:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgDoublePrecision:()=>i,PgDoublePrecisionBuilder:()=>t,doublePrecision:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function s(e){return new t(e??"")}}},209789:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgInet:()=>i,PgInetBuilder:()=>t,inet:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgInet";getSQLType(){return"inet"}}function s(e){return new t(e??"")}}},138284:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgInteger:()=>i,PgIntegerBuilder:()=>t,integer:()=>a});var n=e.i(684668),r=e.i(808167),s=e.i(526482);class t extends s.PgIntColumnBaseBuilder{static [n.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function a(e){return new t(e??"")}}},488296:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgInterval:()=>i,PgIntervalBuilder:()=>t,interval:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function a(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},921396:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgLineABC:()=>o,PgLineABCBuilder:()=>u,PgLineBuilder:()=>t,PgLineTuple:()=>i,line:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class u extends s.PgColumnBuilder{static [n.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new o(e,this.config)}}class o extends s.PgColumn{static [n.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(i),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return s?.mode&&"tuple"!==s.mode?new u(n):new t(n)}}},258184:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgMacaddr:()=>i,PgMacaddrBuilder:()=>t,macaddr:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function s(e){return new t(e??"")}}},450321:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgMacaddr8:()=>i,PgMacaddr8Builder:()=>t,macaddr8:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function s(e){return new t(e??"")}}},910620:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgPointObject:()=>o,PgPointObjectBuilder:()=>u,PgPointTuple:()=>i,PgPointTupleBuilder:()=>t,point:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class u extends s.PgColumnBuilder{static [n.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new o(e,this.config)}}class o extends s.PgColumn{static [n.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(i)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return s?.mode&&"tuple"!==s.mode?new u(n):new t(n)}}},533260:e=>{"use strict";var{g:t,__dirname:i}=e;function n(e,t){let i=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)i.setUint8(n,e[t+n]);return i.getFloat64(0,!0)}function r(e){let t=function(e){let t=[];for(let i=0;i<e.length;i+=2)t.push(Number.parseInt(e.slice(i,i+2),16));return new Uint8Array(t)}(e),i=0,r=t[0];i+=1;let s=new DataView(t.buffer),a=s.getUint32(i,1===r);if(i+=4,0x20000000&a&&(s.getUint32(i,1===r),i+=4),(65535&a)==1){let e=n(t,i),r=n(t,i+=8);return i+=8,[e,r]}throw Error("Unsupported geometry type")}e.s({parseEWKB:()=>r})},468612:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgGeometry:()=>i,PgGeometryBuilder:()=>t,PgGeometryObject:()=>l,PgGeometryObjectBuilder:()=>o,geometry:()=>u});var n=e.i(684668),r=e.i(785401),s=e.i(808167),a=e.i(533260);class t extends s.PgColumnBuilder{static [n.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return(0,a.parseEWKB)(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class o extends s.PgColumnBuilder{static [n.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new l(e,this.config)}}class l extends s.PgColumn{static [n.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=(0,a.parseEWKB)(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function u(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return s?.mode&&"tuple"!==s.mode?new o(n):new t(n)}}},697161:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgReal:()=>i,PgRealBuilder:()=>t,real:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function s(e){return new t(e??"")}}},868574:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgSerial:()=>i,PgSerialBuilder:()=>t,serial:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgSerial";getSQLType(){return"serial"}}function s(e){return new t(e??"")}}},839366:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgSmallInt:()=>i,PgSmallIntBuilder:()=>t,smallint:()=>a});var n=e.i(684668),r=e.i(808167),s=e.i(526482);class t extends s.PgIntColumnBaseBuilder{static [n.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function a(e){return new t(e??"")}}},452432:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgSmallSerial:()=>i,PgSmallSerialBuilder:()=>t,smallserial:()=>s});var n=e.i(684668),r=e.i(808167);class t extends r.PgColumnBuilder{static [n.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new i(e,this.config)}}class i extends r.PgColumn{static [n.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function s(e){return new t(e??"")}}},14723:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgText:()=>i,PgTextBuilder:()=>t,text:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function a(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},257608:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgVarchar:()=>i,PgVarcharBuilder:()=>t,varchar:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function a(e,i={}){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},452583:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgBinaryVector:()=>i,PgBinaryVectorBuilder:()=>t,bit:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},809821:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgHalfVector:()=>i,PgHalfVectorBuilder:()=>t,halfvec:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},342162:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgSparseVector:()=>i,PgSparseVectorBuilder:()=>t,sparsevec:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},744019:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({PgVector:()=>i,PgVectorBuilder:()=>t,vector:()=>a});var n=e.i(684668),r=e.i(785401),s=e.i(808167);class t extends s.PgColumnBuilder{static [n.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new i(e,this.config)}}class i extends s.PgColumn{static [n.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function a(e,i){let{name:n,config:s}=(0,r.getColumnNameAndConfig)(e,i);return new t(n,s)}}},848148:e=>{"use strict";var{g:t,__dirname:i}=e;e.s({getPgColumnBuilders:()=>q});var n=e.i(282621),r=e.i(708922),s=e.i(949343),a=e.i(808350),u=e.i(668012),o=e.i(839504),l=e.i(98171),c=e.i(524398),g=e.i(209789),m=e.i(138284),d=e.i(488296),p=e.i(955071),f=e.i(981297),h=e.i(921396),y=e.i(258184),P=e.i(450321),b=e.i(291185),v=e.i(910620),C=e.i(468612),B=e.i(697161),w=e.i(868574),S=e.i(839366),T=e.i(452432),x=e.i(14723),N=e.i(598734),K=e.i(828434),D=e.i(86631),V=e.i(257608),A=e.i(452583),F=e.i(809821),I=e.i(342162),L=e.i(744019);function q(){return{bigint:n.bigint,bigserial:r.bigserial,boolean:s.boolean,char:a.char,cidr:u.cidr,customType:o.customType,date:l.date,doublePrecision:c.doublePrecision,inet:g.inet,integer:m.integer,interval:d.interval,json:p.json,jsonb:f.jsonb,line:h.line,macaddr:y.macaddr,macaddr8:P.macaddr8,numeric:b.numeric,point:v.point,geometry:C.geometry,real:B.real,serial:w.serial,smallint:S.smallint,smallserial:T.smallserial,text:x.text,time:N.time,timestamp:K.timestamp,uuid:D.uuid,varchar:V.varchar,bit:A.bit,halfvec:F.halfvec,sparsevec:I.sparsevec,vector:L.vector}}},129517:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({EnableRLS:()=>i,InlineForeignKeys:()=>t,PgTable:()=>o,pgTable:()=>l,pgTableCreator:()=>u,pgTableWithSchema:()=>a});var n=e.i(684668),r=e.i(673608),s=e.i(848148);let t=Symbol.for("drizzle:PgInlineForeignKeys"),i=Symbol.for("drizzle:EnableRLS");class o extends r.Table{static [n.entityKind]="PgTable";static Symbol=Object.assign({},r.Table.Symbol,{InlineForeignKeys:t,EnableRLS:i});[t]=[];[i]=!1;[r.Table.Symbol.ExtraConfigBuilder]=void 0;[r.Table.Symbol.ExtraConfigColumns]={}}function a(e,i,n,u,l=e){let c=new o(e,u,l),g="function"==typeof i?i((0,s.getPgColumnBuilders)()):i,m=Object.fromEntries(Object.entries(g).map(([e,i])=>{i.setName(e);let n=i.build(c);return c[t].push(...i.buildForeignKeys(n,c)),[e,n]})),d=Object.fromEntries(Object.entries(g).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(c)]))),p=Object.assign(c,m);return p[r.Table.Symbol.Columns]=m,p[r.Table.Symbol.ExtraConfigColumns]=d,n&&(p[o.Symbol.ExtraConfigBuilder]=n),Object.assign(p,{enableRLS:()=>(p[o.Symbol.EnableRLS]=!0,p)})}let l=(e,t,i)=>a(e,t,i,void 0);function u(e){return(t,i,n)=>a(e(t),i,n,void 0,t)}}},594120:e=>{"use strict";var{g:t,__dirname:i}=e;{e.s({account:()=>o,apikey:()=>c,session:()=>i,user:()=>t,verification:()=>l});var n=e.i(129517),r=e.i(14723),s=e.i(828434),a=e.i(949343),u=e.i(138284);let t=(0,n.pgTable)("user",{id:(0,r.text)("id").primaryKey(),name:(0,r.text)("name").notNull(),email:(0,r.text)("email").notNull().unique(),emailVerified:(0,a.boolean)("email_verified").$defaultFn(()=>!1).notNull(),image:(0,r.text)("image"),createdAt:(0,s.timestamp)("created_at").$defaultFn(()=>new Date).notNull(),updatedAt:(0,s.timestamp)("updated_at").$defaultFn(()=>new Date).notNull(),role:(0,r.text)("role"),banned:(0,a.boolean)("banned"),banReason:(0,r.text)("ban_reason"),banExpires:(0,s.timestamp)("ban_expires"),stripeCustomerId:(0,r.text)("stripe_customer_id"),webhooksToEndpointsMigrated:(0,a.boolean)("webhooks_to_endpoints_migrated").default(!1),featureFlags:(0,r.text)("feature_flags")}),i=(0,n.pgTable)("session",{id:(0,r.text)("id").primaryKey(),expiresAt:(0,s.timestamp)("expires_at").notNull(),token:(0,r.text)("token").notNull().unique(),createdAt:(0,s.timestamp)("created_at").notNull(),updatedAt:(0,s.timestamp)("updated_at").notNull(),ipAddress:(0,r.text)("ip_address"),userAgent:(0,r.text)("user_agent"),userId:(0,r.text)("user_id").notNull().references(()=>t.id,{onDelete:"cascade"}),impersonatedBy:(0,r.text)("impersonated_by")}),o=(0,n.pgTable)("account",{id:(0,r.text)("id").primaryKey(),accountId:(0,r.text)("account_id").notNull(),providerId:(0,r.text)("provider_id").notNull(),userId:(0,r.text)("user_id").notNull().references(()=>t.id,{onDelete:"cascade"}),accessToken:(0,r.text)("access_token"),refreshToken:(0,r.text)("refresh_token"),idToken:(0,r.text)("id_token"),accessTokenExpiresAt:(0,s.timestamp)("access_token_expires_at"),refreshTokenExpiresAt:(0,s.timestamp)("refresh_token_expires_at"),scope:(0,r.text)("scope"),password:(0,r.text)("password"),createdAt:(0,s.timestamp)("created_at").notNull(),updatedAt:(0,s.timestamp)("updated_at").notNull()}),l=(0,n.pgTable)("verification",{id:(0,r.text)("id").primaryKey(),identifier:(0,r.text)("identifier").notNull(),value:(0,r.text)("value").notNull(),expiresAt:(0,s.timestamp)("expires_at").notNull(),createdAt:(0,s.timestamp)("created_at").$defaultFn(()=>new Date),updatedAt:(0,s.timestamp)("updated_at").$defaultFn(()=>new Date)}),c=(0,n.pgTable)("apikey",{id:(0,r.text)("id").primaryKey(),name:(0,r.text)("name"),start:(0,r.text)("start"),prefix:(0,r.text)("prefix"),key:(0,r.text)("key").notNull(),userId:(0,r.text)("user_id").notNull().references(()=>t.id,{onDelete:"cascade"}),refillInterval:(0,u.integer)("refill_interval"),refillAmount:(0,u.integer)("refill_amount"),lastRefillAt:(0,s.timestamp)("last_refill_at"),enabled:(0,a.boolean)("enabled").default(!0),rateLimitEnabled:(0,a.boolean)("rate_limit_enabled").default(!0),rateLimitTimeWindow:(0,u.integer)("rate_limit_time_window").default(864e5),rateLimitMax:(0,u.integer)("rate_limit_max").default(10),requestCount:(0,u.integer)("request_count"),remaining:(0,u.integer)("remaining"),lastRequest:(0,s.timestamp)("last_request"),expiresAt:(0,s.timestamp)("expires_at"),createdAt:(0,s.timestamp)("created_at").notNull(),updatedAt:(0,s.timestamp)("updated_at").notNull(),permissions:(0,r.text)("permissions"),metadata:(0,r.text)("metadata")})}}};

//# sourceMappingURL=_d6f64c03._.js.map