module.exports={629544:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({checkUrl:()=>t}),e.i(749573);var s=e.i(818270);let t=(e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;let t=e.hostname.split("."),r=e=>{let t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new s.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}}}},54975:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({transformFromString:()=>c,transformToString:()=>u}),e.i(249662);var s=e.i(479455),a=e.i(989145);e.i(623856);var i=e.i(144447),n=e.i(85337),o=e.i(351964);function u(e,t="utf-8"){return"base64"===t?(0,a.toBase64)(e):(0,n.toUtf8)(e)}function c(e,t){return"base64"===t?o.Uint8ArrayBlobAdapter.mutate((0,s.fromBase64)(e)):o.Uint8ArrayBlobAdapter.mutate((0,i.fromUtf8)(e))}},351964:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({Uint8ArrayBlobAdapter:()=>t});var s=e.i(54975);class t extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return(0,s.transformFromString)(e,t);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return(0,s.transformToString)(this,e)}}}},109284:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ChecksumStream:()=>t}),e.i(249662);var s=e.i(989145),a=e.i(109651);class t extends a.Duplex{constructor({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:a,base64Encoder:i}){if(super(),"function"==typeof r.pipe)this.source=r;else throw Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);this.base64Encoder=i??s.toBase64,this.expectedChecksum=e,this.checksum=t,this.checksumSourceLocation=a,this.source.pipe(this)}_read(e){}_write(e,t,r){try{this.checksum.update(e),this.push(e)}catch(e){return r(e)}return r()}async _final(e){try{let t=await this.checksum.digest(),r=this.base64Encoder(t);if(this.expectedChecksum!==r)return e(Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${r}" in response header "${this.checksumSourceLocation}".`))}catch(t){return e(t)}return this.push(null),e()}}}},618967:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({isBlob:()=>r,isReadableStream:()=>t});let t=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),r=e=>"function"==typeof Blob&&(e?.constructor?.name===Blob.name||e instanceof Blob)}},660292:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ChecksumStream:()=>r});let t="function"==typeof ReadableStream?ReadableStream:function(){};class r extends t{}}},547930:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({createChecksumStream:()=>t}),e.i(249662);var s=e.i(989145),a=e.i(618967),i=e.i(660292);let t=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,a.isReadableStream)(r))throw Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let u=o??s.toBase64;if("function"!=typeof TransformStream)throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(e,r){t.update(e),r.enqueue(e)},async flush(r){let s=u(await t.digest());if(e!==s){let t=Error(`Checksum mismatch: expected "${e}" but received "${s}" in response header "${n}".`);r.error(t)}else r.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,i.ChecksumStream.prototype),l}}},478187:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({createChecksumStream:()=>n});var s=e.i(618967),a=e.i(109284),i=e.i(547930);function n(e){return"function"==typeof ReadableStream&&(0,s.isReadableStream)(e.source)?(0,i.createChecksumStream)(e):new a.ChecksumStream(e)}},920469:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ByteArrayCollector:()=>t});class t{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(1===this.byteArrays.length){let e=this.byteArrays[0];return this.reset(),e}let e=this.allocByteArray(this.byteLength),t=0;for(let r=0;r<this.byteArrays.length;++r){let s=this.byteArrays[r];e.set(s,t),t+=s.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}}},18813:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({createBufferedReadable:()=>t,createBufferedReadableStream:()=>a,flush:()=>n,merge:()=>i,modeOf:()=>u,sizeOf:()=>o});var s=e.i(920469);function a(e,t,r){let a=e.getReader(),c=!1,l=0,h=["",new s.ByteArrayCollector(e=>new Uint8Array(e))],f=-1,d=async e=>{let{value:s,done:m}=await a.read();if(m){if(-1!==f){let t=n(h,f);o(t)>0&&e.enqueue(t)}e.close()}else{let a=u(s,!1);if(f!==a&&(f>=0&&e.enqueue(n(h,f)),f=a),-1===f)return void e.enqueue(s);let m=o(s);l+=m;let p=o(h[f]);if(m>=t&&0===p)e.enqueue(s);else{let a=i(h,f,s);!c&&l>2*t&&(c=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),a>=t?e.enqueue(n(h,f)):await d(e)}}};return new ReadableStream({pull:d})}let t=a;function i(e,t,r){switch(t){case 0:return e[0]+=r,o(e[0]);case 1:case 2:return e[t].push(r),o(e[t])}}function n(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function o(e){return e?.byteLength??e?.length??0}function u(e,t=!0){return t&&"undefined"!=typeof Buffer&&e instanceof Buffer?2:e instanceof Uint8Array?1:"string"==typeof e?0:-1}}},871735:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({createBufferedReadable:()=>o});var s=e.i(109175),a=e.i(920469),i=e.i(18813),n=e.i(618967);function o(e,t,r){if((0,n.isReadableStream)(e))return(0,i.createBufferedReadableStream)(e,t,r);let o=new s.Readable({read(){}}),u=!1,c=0,l=["",new a.ByteArrayCollector(e=>new Uint8Array(e)),new a.ByteArrayCollector(e=>Buffer.from(new Uint8Array(e)))],h=-1;return e.on("data",e=>{let s=(0,i.modeOf)(e,!0);if(h!==s&&(h>=0&&o.push((0,i.flush)(l,h)),h=s),-1===h)return void o.push(e);let a=(0,i.sizeOf)(e);c+=a;let n=(0,i.sizeOf)(l[h]);if(a>=t&&0===n)o.push(e);else{let s=(0,i.merge)(l,h,e);!u&&c>2*t&&(u=!0,r?.warn(`@smithy/util-stream - stream chunk size ${a} is below threshold of ${t}, automatically buffering.`)),s>=t&&o.push((0,i.flush)(l,h))}}),e.on("end",()=>{if(-1!==h){let e=(0,i.flush)(l,h);(0,i.sizeOf)(e)>0&&o.push(e)}o.push(null)}),o}},475936:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({getAwsChunkedEncodingStream:()=>t});var s=e.i(109651);let t=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:a,checksumAlgorithmFn:i,checksumLocationName:n,streamHasher:o}=t,u=void 0!==r&&void 0!==i&&void 0!==n&&void 0!==o,c=u?o(i,e):void 0,l=new s.Readable({read:()=>{}});return e.on("data",e=>{let t=a(e)||0;l.push(`${t.toString(16)}\r
`),l.push(e),l.push("\r\n")}),e.on("end",async()=>{if(l.push(`0\r
`),u){let e=r(await c);l.push(`${n}:${e}\r
`),l.push(`\r
`)}l.push(null)}),l}}},738703:e=>{"use strict";var{g:t,__dirname:r}=e;async function s(e,t){let r=0,s=[],a=e.getReader(),i=!1;for(;!i;){let{done:e,value:n}=await a.read();if(n&&(s.push(n),r+=n?.byteLength??0),r>=t)break;i=e}a.releaseLock();let n=new Uint8Array(Math.min(t,r)),o=0;for(let e of s){if(e.byteLength>n.byteLength-o){n.set(e.subarray(0,n.byteLength-o),o);break}n.set(e,o),o+=e.length}return n}e.s({headStream:()=>s})},921421:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({headStream:()=>t});var s=e.i(109651),a=e.i(738703),i=e.i(618967);let t=(e,t)=>(0,i.isReadableStream)(e)?(0,a.headStream)(e,t):new Promise((s,a)=>{let i=new r;i.limit=t,e.pipe(i),e.on("error",e=>{i.end(),a(e)}),i.on("error",a),i.on("finish",function(){s(new Uint8Array(Buffer.concat(this.buffers)))})});class r extends s.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,t,r){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let e=this.bytesBuffered-this.limit,t=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=t.subarray(0,t.byteLength-e),this.emit("finish")}r()}}}},118146:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({sdkStreamMixin:()=>r}),e.i(194873);var s=e.i(677053);e.i(249662);var a=e.i(989145),i=e.i(19784);e.i(623856);var n=e.i(85337),o=e.i(618967);let t="The stream has already been transformed.",r=e=>{if(!u(e)&&!(0,o.isReadableStream)(e)){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${t}`)}let r=!1,c=async()=>{if(r)throw Error(t);return r=!0,await (0,s.streamCollector)(e)},l=e=>{if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()};return Object.assign(e,{transformToByteArray:c,transformToString:async e=>{let t=await c();if("base64"===e)return(0,a.toBase64)(t);if("hex"===e)return(0,i.toHex)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,n.toUtf8)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw Error(t);if(r=!0,u(e))return l(e);if((0,o.isReadableStream)(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})},u=e=>"function"==typeof Blob&&e instanceof Blob}},751764:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({sdkStreamMixin:()=>r}),e.i(285298);var s=e.i(689602),a=e.i(540725),i=e.i(109651),n=e.i(118146);let t="The stream has already been transformed.",r=e=>{if(!(e instanceof i.Readable))try{return(0,n.sdkStreamMixin)(e)}catch(r){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${t}`)}let r=!1,o=async()=>{if(r)throw Error(t);return r=!0,await (0,s.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async e=>{let t=await o();return void 0===e||Buffer.isEncoding(e)?(0,a.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString(e):new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(r)throw Error(t);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof i.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,i.Readable.toWeb(e)}})}}},287009:e=>{"use strict";var{g:t,__dirname:r}=e;async function s(e){return"function"==typeof e.stream&&(e=e.stream()),e.tee()}e.s({splitStream:()=>s})},824190:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({splitStream:()=>n});var s=e.i(109651),a=e.i(287009),i=e.i(618967);async function n(e){if((0,i.isReadableStream)(e)||(0,i.isBlob)(e))return(0,a.splitStream)(e);let t=new s.PassThrough,r=new s.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}},952020:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(351964),e.i(109284),e.i(478187),e.i(871735),e.i(475936),e.i(921421),e.i(751764),e.i(824190),e.i(618967)},45528:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(351964),e.i(109284),e.i(478187),e.i(871735),e.i(475936),e.i(921421),e.i(751764),e.i(824190),e.i(618967),e.i(952020)},916243:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({createGetRequest:()=>o,getCredentials:()=>u}),e.i(749573);var s=e.i(818270);e.i(466995);var a=e.i(331729);e.i(608477);var i=e.i(1301);e.i(45528);var n=e.i(751764);function o(e){return new a.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:e.hash})}async function u(e,t){let r=(0,n.sdkStreamMixin)(e.body),a=await r.transformToString();if(200===e.statusCode){let e=JSON.parse(a);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new s.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,i.parseRfc3339DateTime)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let r={};try{r=JSON.parse(a)}catch(e){}throw Object.assign(new s.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:r.Code,Message:r.Message})}throw new s.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}},950217:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({retryWrapper:()=>t});let t=(e,t,r)=>async()=>{for(let s=0;s<t;++s)try{return await e()}catch(e){await new Promise(e=>setTimeout(e,r))}return await e()}}},40864:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({fromHttp:()=>t});var s=e.i(451395);e.i(285298);var a=e.i(522040);e.i(749573);var i=e.i(818270),n=e.i(609892),o=e.i(629544),u=e.i(916243),c=e.i(950217);let t=(e={})=>{let t;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r=e.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,l=e.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,h=e.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,f=e.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,d=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger.warn:console.warn;if(r&&l&&(d("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),d("awsContainerCredentialsFullUri will take precedence.")),h&&f&&(d("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),d("awsContainerAuthorizationToken will take precedence.")),l)t=l;else if(r)t=`http://169.254.170.2${r}`;else throw new i.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let m=new URL(t);(0,o.checkUrl)(m,e.logger);let p=new a.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,c.retryWrapper)(async()=>{let t=(0,u.createGetRequest)(m);h?t.headers.Authorization=h:f&&(t.headers.Authorization=(await n.default.readFile(f)).toString());try{let e=await p.handle(t);return(0,u.getCredentials)(e.response).then(e=>(0,s.setCredentialFeature)(e,"CREDENTIALS_HTTP","z"))}catch(t){throw new i.CredentialsProviderError(String(t),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)}}},267570:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(40864)},203681:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(40864),e.i(267570)},656089:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({fromHttp:()=>s.fromHttp});var s=e.i(40864);e.i(267570)},515630:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({fromHttp:()=>s.fromHttp}),e.i(203681);var s=e.i(656089)}};

//# sourceMappingURL=9f50b_%40aws-sdk_credential-provider-http_89f62eca._.js.map