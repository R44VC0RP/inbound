module.exports={55379:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({DELIVERY_STATUS:()=>B,DELIVERY_TYPES:()=>C,DOMAIN_STATUS:()=>I,EMAIL_STATUS:()=>T,ENDPOINT_TYPES:()=>D,PROVIDER_CONFIDENCE:()=>w,SENT_EMAIL_STATUS:()=>U,SES_VERIFICATION_STATUS:()=>E,VIP_PAYMENT_STATUS:()=>L,WEBHOOK_FORMATS:()=>k,WEBHOOK_STATUS:()=>S,blockedEmails:()=>x,domainDnsRecords:()=>f,emailAddresses:()=>m,emailDomains:()=>c,emailGroups:()=>y,endpointDeliveries:()=>b,endpoints:()=>N,parsedEmails:()=>_,receivedEmails:()=>u,sentEmails:()=>A,sesEvents:()=>h,structuredEmails:()=>v,subscriptions:()=>t,userAccounts:()=>a,userOnboarding:()=>o,vipAllowedSenders:()=>P,vipConfigs:()=>R,vipEmailAttempts:()=>O,vipPaymentSessions:()=>K,webhookDeliveries:()=>g,webhooks:()=>p});var r=e.i(129517),d=e.i(257608),l=e.i(14723),i=e.i(828434),s=e.i(949343),n=e.i(138284);e.i(594120);let t=(0,r.pgTable)("subscriptions",{id:(0,d.varchar)("id",{length:255}).primaryKey(),plan:(0,d.varchar)("plan",{length:255}).notNull(),referenceId:(0,d.varchar)("reference_id",{length:255}).notNull(),stripeCustomerId:(0,d.varchar)("stripe_customer_id",{length:255}),stripeSubscriptionId:(0,d.varchar)("stripe_subscription_id",{length:255}),status:(0,d.varchar)("status",{length:255}).notNull(),periodStart:(0,i.timestamp)("period_start"),periodEnd:(0,i.timestamp)("period_end"),cancelAtPeriodEnd:(0,s.boolean)("cancel_at_period_end").default(!1),seats:(0,n.integer)("seats"),trialStart:(0,i.timestamp)("trial_start"),trialEnd:(0,i.timestamp)("trial_end"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),a=(0,r.pgTable)("user_accounts",{id:(0,d.varchar)("id",{length:255}).primaryKey(),userId:(0,d.varchar)("user_id",{length:255}).notNull(),stripeRestrictedKey:(0,l.text)("stripe_restricted_key"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),o=(0,r.pgTable)("user_onboarding",{id:(0,d.varchar)("id",{length:255}).primaryKey(),userId:(0,d.varchar)("user_id",{length:255}).notNull().unique(),isCompleted:(0,s.boolean)("is_completed").default(!1).notNull(),defaultEndpointCreated:(0,s.boolean)("default_endpoint_created").default(!1).notNull(),completedAt:(0,i.timestamp)("completed_at"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),c=(0,r.pgTable)("email_domains",{id:(0,d.varchar)("id",{length:255}).primaryKey(),domain:(0,d.varchar)("domain",{length:255}).notNull().unique(),status:(0,d.varchar)("status",{length:50}).notNull(),verificationToken:(0,d.varchar)("verification_token",{length:255}),canReceiveEmails:(0,s.boolean)("can_receive_emails").default(!1),hasMxRecords:(0,s.boolean)("has_mx_records").default(!1),domainProvider:(0,d.varchar)("domain_provider",{length:100}),providerConfidence:(0,d.varchar)("provider_confidence",{length:20}),lastDnsCheck:(0,i.timestamp)("last_dns_check"),lastSesCheck:(0,i.timestamp)("last_ses_check"),isCatchAllEnabled:(0,s.boolean)("is_catch_all_enabled").default(!1),catchAllWebhookId:(0,d.varchar)("catch_all_webhook_id",{length:255}),catchAllEndpointId:(0,d.varchar)("catch_all_endpoint_id",{length:255}),catchAllReceiptRuleName:(0,d.varchar)("catch_all_receipt_rule_name",{length:255}),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow(),userId:(0,d.varchar)("user_id",{length:255}).notNull()}),m=(0,r.pgTable)("email_addresses",{id:(0,d.varchar)("id",{length:255}).primaryKey(),address:(0,d.varchar)("address",{length:255}).notNull().unique(),domainId:(0,d.varchar)("domain_id",{length:255}).notNull(),webhookId:(0,d.varchar)("webhook_id",{length:255}),endpointId:(0,d.varchar)("endpoint_id",{length:255}),isActive:(0,s.boolean)("is_active").default(!0),isReceiptRuleConfigured:(0,s.boolean)("is_receipt_rule_configured").default(!1),receiptRuleName:(0,d.varchar)("receipt_rule_name",{length:255}),isVipEnabled:(0,s.boolean)("is_vip_enabled").default(!1),vipConfigId:(0,d.varchar)("vip_config_id",{length:255}),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow(),userId:(0,d.varchar)("user_id",{length:255}).notNull()}),p=(0,r.pgTable)("webhooks",{id:(0,d.varchar)("id",{length:255}).primaryKey(),name:(0,d.varchar)("name",{length:255}).notNull(),url:(0,l.text)("url").notNull(),secret:(0,d.varchar)("secret",{length:255}),isActive:(0,s.boolean)("is_active").default(!0),description:(0,l.text)("description"),headers:(0,l.text)("headers"),timeout:(0,n.integer)("timeout").default(30),retryAttempts:(0,n.integer)("retry_attempts").default(3),lastUsed:(0,i.timestamp)("last_used"),totalDeliveries:(0,n.integer)("total_deliveries").default(0),successfulDeliveries:(0,n.integer)("successful_deliveries").default(0),failedDeliveries:(0,n.integer)("failed_deliveries").default(0),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow(),userId:(0,d.varchar)("user_id",{length:255}).notNull()}),h=(0,r.pgTable)("ses_events",{id:(0,d.varchar)("id",{length:255}).primaryKey(),eventSource:(0,d.varchar)("event_source",{length:100}).notNull(),eventVersion:(0,d.varchar)("event_version",{length:50}).notNull(),messageId:(0,d.varchar)("message_id",{length:255}).notNull(),source:(0,d.varchar)("source",{length:255}).notNull(),destination:(0,l.text)("destination").notNull(),subject:(0,l.text)("subject"),timestamp:(0,i.timestamp)("timestamp").notNull(),receiptTimestamp:(0,i.timestamp)("receipt_timestamp").notNull(),processingTimeMillis:(0,n.integer)("processing_time_millis"),recipients:(0,l.text)("recipients").notNull(),spamVerdict:(0,d.varchar)("spam_verdict",{length:50}),virusVerdict:(0,d.varchar)("virus_verdict",{length:50}),spfVerdict:(0,d.varchar)("spf_verdict",{length:50}),dkimVerdict:(0,d.varchar)("dkim_verdict",{length:50}),dmarcVerdict:(0,d.varchar)("dmarc_verdict",{length:50}),actionType:(0,d.varchar)("action_type",{length:50}),s3BucketName:(0,d.varchar)("s3_bucket_name",{length:255}),s3ObjectKey:(0,d.varchar)("s3_object_key",{length:500}),emailContent:(0,l.text)("email_content"),s3ContentFetched:(0,s.boolean)("s3_content_fetched").default(!1),s3ContentSize:(0,n.integer)("s3_content_size"),s3Error:(0,l.text)("s3_error"),commonHeaders:(0,l.text)("common_headers"),rawSesEvent:(0,l.text)("raw_ses_event").notNull(),lambdaContext:(0,l.text)("lambda_context"),webhookPayload:(0,l.text)("webhook_payload"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),u=(0,r.pgTable)("received_emails",{id:(0,d.varchar)("id",{length:255}).primaryKey(),sesEventId:(0,d.varchar)("ses_event_id",{length:255}).notNull(),messageId:(0,d.varchar)("message_id",{length:255}).notNull(),from:(0,d.varchar)("from",{length:255}).notNull(),to:(0,l.text)("to").notNull(),recipient:(0,d.varchar)("recipient",{length:255}).notNull(),subject:(0,l.text)("subject"),fromParsed:(0,l.text)("from_parsed"),toParsed:(0,l.text)("to_parsed"),ccParsed:(0,l.text)("cc_parsed"),bccParsed:(0,l.text)("bcc_parsed"),replyToParsed:(0,l.text)("reply_to_parsed"),textBody:(0,l.text)("text_body"),htmlBody:(0,l.text)("html_body"),rawEmailContent:(0,l.text)("raw_email_content"),inReplyTo:(0,d.varchar)("in_reply_to",{length:255}),references:(0,l.text)("references"),priority:(0,d.varchar)("priority",{length:50}),attachments:(0,l.text)("attachments"),headers:(0,l.text)("headers"),emailDate:(0,i.timestamp)("email_date"),receivedAt:(0,i.timestamp)("received_at").notNull(),processedAt:(0,i.timestamp)("processed_at"),status:(0,d.varchar)("status",{length:50}).notNull(),isRead:(0,s.boolean)("is_read").default(!1),readAt:(0,i.timestamp)("read_at"),metadata:(0,l.text)("metadata"),userId:(0,d.varchar)("user_id",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),_=(0,r.pgTable)("parsed_emails",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailId:(0,d.varchar)("email_id",{length:255}).notNull(),messageId:(0,d.varchar)("message_id",{length:255}),fromText:(0,l.text)("from_text"),fromAddress:(0,d.varchar)("from_address",{length:255}),fromName:(0,d.varchar)("from_name",{length:255}),toText:(0,l.text)("to_text"),toAddresses:(0,l.text)("to_addresses"),ccText:(0,l.text)("cc_text"),ccAddresses:(0,l.text)("cc_addresses"),bccText:(0,l.text)("bcc_text"),bccAddresses:(0,l.text)("bcc_addresses"),replyToText:(0,l.text)("reply_to_text"),replyToAddresses:(0,l.text)("reply_to_addresses"),subject:(0,l.text)("subject"),textBody:(0,l.text)("text_body"),htmlBody:(0,l.text)("html_body"),inReplyTo:(0,d.varchar)("in_reply_to",{length:255}),references:(0,l.text)("references"),priority:(0,d.varchar)("priority",{length:50}),emailDate:(0,i.timestamp)("email_date"),attachments:(0,l.text)("attachments"),attachmentCount:(0,n.integer)("attachment_count").default(0),hasAttachments:(0,s.boolean)("has_attachments").default(!1),headers:(0,l.text)("headers"),hasTextBody:(0,s.boolean)("has_text_body").default(!1),hasHtmlBody:(0,s.boolean)("has_html_body").default(!1),parseSuccess:(0,s.boolean)("parse_success").default(!0),parseError:(0,l.text)("parse_error"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),v=(0,r.pgTable)("structured_emails",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailId:(0,d.varchar)("email_id",{length:255}).notNull(),sesEventId:(0,d.varchar)("ses_event_id",{length:255}).notNull(),messageId:(0,d.varchar)("message_id",{length:255}),date:(0,i.timestamp)("date"),subject:(0,l.text)("subject"),fromData:(0,l.text)("from_data"),toData:(0,l.text)("to_data"),ccData:(0,l.text)("cc_data"),bccData:(0,l.text)("bcc_data"),replyToData:(0,l.text)("reply_to_data"),inReplyTo:(0,d.varchar)("in_reply_to",{length:255}),references:(0,l.text)("references"),textBody:(0,l.text)("text_body"),htmlBody:(0,l.text)("html_body"),rawContent:(0,l.text)("raw_content"),attachments:(0,l.text)("attachments"),headers:(0,l.text)("headers"),priority:(0,d.varchar)("priority",{length:50}),parseSuccess:(0,s.boolean)("parse_success").default(!0),parseError:(0,l.text)("parse_error"),isRead:(0,s.boolean)("is_read").default(!1),readAt:(0,i.timestamp)("read_at"),isArchived:(0,s.boolean)("is_archived").default(!1),archivedAt:(0,i.timestamp)("archived_at"),userId:(0,d.varchar)("user_id",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),g=(0,r.pgTable)("webhook_deliveries",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailId:(0,d.varchar)("email_id",{length:255}),webhookId:(0,d.varchar)("webhook_id",{length:255}).notNull(),endpoint:(0,d.varchar)("endpoint",{length:500}).notNull(),payload:(0,l.text)("payload"),status:(0,d.varchar)("status",{length:50}).notNull(),attempts:(0,n.integer)("attempts").default(0),lastAttemptAt:(0,i.timestamp)("last_attempt_at"),responseCode:(0,n.integer)("response_code"),responseBody:(0,l.text)("response_body"),error:(0,l.text)("error"),deliveryTime:(0,n.integer)("delivery_time"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),f=(0,r.pgTable)("domain_dns_records",{id:(0,d.varchar)("id",{length:255}).primaryKey(),domainId:(0,d.varchar)("domain_id",{length:255}).notNull(),recordType:(0,d.varchar)("record_type",{length:10}).notNull(),name:(0,d.varchar)("name",{length:255}).notNull(),value:(0,l.text)("value").notNull(),isRequired:(0,s.boolean)("is_required").default(!0),isVerified:(0,s.boolean)("is_verified").default(!1),lastChecked:(0,i.timestamp)("last_checked"),createdAt:(0,i.timestamp)("created_at").defaultNow()}),N=(0,r.pgTable)("endpoints",{id:(0,d.varchar)("id",{length:255}).primaryKey(),name:(0,d.varchar)("name",{length:255}).notNull(),type:(0,d.varchar)("type",{length:50}).notNull(),webhookFormat:(0,d.varchar)("webhook_format",{length:50}).default("inbound"),config:(0,l.text)("config").notNull(),isActive:(0,s.boolean)("is_active").default(!0),description:(0,l.text)("description"),userId:(0,d.varchar)("user_id",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),y=(0,r.pgTable)("email_groups",{id:(0,d.varchar)("id",{length:255}).primaryKey(),endpointId:(0,d.varchar)("endpoint_id",{length:255}).notNull(),emailAddress:(0,d.varchar)("email_address",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow()}),b=(0,r.pgTable)("endpoint_deliveries",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailId:(0,d.varchar)("email_id",{length:255}),endpointId:(0,d.varchar)("endpoint_id",{length:255}).notNull(),deliveryType:(0,d.varchar)("delivery_type",{length:50}).notNull(),status:(0,d.varchar)("status",{length:50}).notNull(),attempts:(0,n.integer)("attempts").default(0),lastAttemptAt:(0,i.timestamp)("last_attempt_at"),responseData:(0,l.text)("response_data"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),x=(0,r.pgTable)("blocked_emails",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailAddress:(0,d.varchar)("email_address",{length:255}).notNull().unique(),domainId:(0,d.varchar)("domain_id",{length:255}).notNull(),reason:(0,l.text)("reason"),blockedBy:(0,d.varchar)("blocked_by",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),A=(0,r.pgTable)("sent_emails",{id:(0,d.varchar)("id",{length:255}).primaryKey(),from:(0,d.varchar)("from",{length:500}).notNull(),fromAddress:(0,d.varchar)("from_address",{length:255}).notNull(),fromDomain:(0,d.varchar)("from_domain",{length:255}).notNull(),to:(0,l.text)("to").notNull(),cc:(0,l.text)("cc"),bcc:(0,l.text)("bcc"),replyTo:(0,l.text)("reply_to"),subject:(0,l.text)("subject").notNull(),textBody:(0,l.text)("text_body"),htmlBody:(0,l.text)("html_body"),headers:(0,l.text)("headers"),attachments:(0,l.text)("attachments"),status:(0,d.varchar)("status",{length:50}).notNull().default("pending"),messageId:(0,d.varchar)("message_id",{length:255}),provider:(0,d.varchar)("provider",{length:50}).default("ses"),providerResponse:(0,l.text)("provider_response"),sentAt:(0,i.timestamp)("sent_at"),failureReason:(0,l.text)("failure_reason"),idempotencyKey:(0,d.varchar)("idempotency_key",{length:256}),userId:(0,d.varchar)("user_id",{length:255}).notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),I={PENDING:"pending",VERIFIED:"verified",FAILED:"failed"},E={PENDING:"Pending",SUCCESS:"Success",FAILED:"Failed"},w={HIGH:"high",MEDIUM:"medium",LOW:"low"},T={RECEIVED:"received",PROCESSING:"processing",FORWARDED:"forwarded",FAILED:"failed",BLOCKED:"blocked"},S={PENDING:"pending",SUCCESS:"success",FAILED:"failed"},D={WEBHOOK:"webhook",EMAIL:"email",EMAIL_GROUP:"email_group"},k={INBOUND:"inbound",DISCORD:"discord",SLACK:"slack"},C={WEBHOOK:"webhook",EMAIL:"email",EMAILGROUP:"emailgroup"},R=(0,r.pgTable)("vip_configs",{id:(0,d.varchar)("id",{length:255}).primaryKey(),emailAddressId:(0,d.varchar)("email_address_id",{length:255}).notNull().unique(),userId:(0,d.varchar)("user_id",{length:255}).notNull(),priceInCents:(0,n.integer)("price_in_cents").notNull().default(100),allowAfterPayment:(0,s.boolean)("allow_after_payment").default(!1),customMessage:(0,l.text)("custom_message"),paymentLinkExpirationHours:(0,n.integer)("payment_link_expiration_hours").default(24),isActive:(0,s.boolean)("is_active").default(!0),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),K=(0,r.pgTable)("vip_payment_sessions",{id:(0,d.varchar)("id",{length:255}).primaryKey(),vipConfigId:(0,d.varchar)("vip_config_id",{length:255}).notNull(),senderEmail:(0,d.varchar)("sender_email",{length:255}).notNull(),originalEmailId:(0,d.varchar)("original_email_id",{length:255}).notNull(),stripePaymentLinkId:(0,d.varchar)("stripe_payment_link_id",{length:255}),stripePaymentLinkUrl:(0,l.text)("stripe_payment_link_url"),stripeSessionId:(0,d.varchar)("stripe_session_id",{length:255}),status:(0,d.varchar)("status",{length:50}).notNull().default("pending"),paidAt:(0,i.timestamp)("paid_at"),expiresAt:(0,i.timestamp)("expires_at"),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),P=(0,r.pgTable)("vip_allowed_senders",{id:(0,d.varchar)("id",{length:255}).primaryKey(),vipConfigId:(0,d.varchar)("vip_config_id",{length:255}).notNull(),senderEmail:(0,d.varchar)("sender_email",{length:255}).notNull(),allowedAt:(0,i.timestamp)("allowed_at").defaultNow(),allowedUntil:(0,i.timestamp)("allowed_until"),paymentSessionId:(0,d.varchar)("payment_session_id",{length:255}),createdAt:(0,i.timestamp)("created_at").defaultNow()}),O=(0,r.pgTable)("vip_email_attempts",{id:(0,d.varchar)("id",{length:255}).primaryKey(),vipConfigId:(0,d.varchar)("vip_config_id",{length:255}).notNull(),senderEmail:(0,d.varchar)("sender_email",{length:255}).notNull(),recipientEmail:(0,d.varchar)("recipient_email",{length:255}).notNull(),originalEmailId:(0,d.varchar)("original_email_id",{length:255}).notNull(),emailSubject:(0,l.text)("email_subject"),status:(0,d.varchar)("status",{length:50}).notNull().default("payment_required"),paymentSessionId:(0,d.varchar)("payment_session_id",{length:255}),allowedReason:(0,d.varchar)("allowed_reason",{length:100}),createdAt:(0,i.timestamp)("created_at").defaultNow(),updatedAt:(0,i.timestamp)("updated_at").defaultNow()}),L={PENDING:"pending",PAID:"paid",EXPIRED:"expired",CANCELLED:"cancelled"},B={PENDING:"pending",SUCCESS:"success",FAILED:"failed"},U={PENDING:"pending",SENT:"sent",FAILED:"failed"}}},468686:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({}),e.i(594120),e.i(55379)}};

//# sourceMappingURL=lib_db_schema_ts_f87cda84._.js.map